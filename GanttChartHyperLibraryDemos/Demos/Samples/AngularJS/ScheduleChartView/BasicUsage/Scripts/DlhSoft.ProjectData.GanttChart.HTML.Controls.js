var DlhSoft;"undefined"===typeof DlhSoft&&(DlhSoft={assemblies:[],buildReleaseDate:new Date(1,0,1)});DlhSoft.assemblies.push({assembly:"DlhSoft.ProjectData.GanttChart.HTML.Controls",company:"DlhSoft",product:"Project Data Modern Library",version:"5.3.10.0",copyright:"Copyright \u00a9 2012-2016 DlhSoft",title:"Project Data Gantt Chart HTML Controls",description:"Project Data Gantt Chart related HTML client components"});
DlhSoft.buildReleaseDate=function(N,H,Y){N=new Date(N,H-1,Y);return N>DlhSoft.buildReleaseDate?N:DlhSoft.buildReleaseDate}(2016,9,9);var _0x5c25="Licensing{undefined{string{DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.{.{length{license{push{type{content{:{lastIndexOf{substr{buildReleaseDate{charCodeAt{pow{toUpperCase{DlhSoft Component Licensing Warning{http://DlhSoft.com/Purchase.aspx{?Assemblies={,{http://www.componentsource.com/features/dlhsoft{ (version {){This component is currently licensed to be used for testing purposes only{The component is part of this assembly{To purchase a standard license for a product that includes this assembly you can use the Purchase page{ownerDocument{div{createElement{style{position: absolute; left: 24px; top: 24px; width: 480px; display: block; z-index: 1; color: Black; background-color: #ffffc0; border: solid 1px Blue; overflow: auto{setAttribute{padding: 6px; padding-top: 8px; font-family: Arial; font-size: small{font-weight: bold; margin-bottom: 4px{appendChild{createTextNode{color: Red; margin-top: 2px; margin-bottom: 2px{margin-top: 4px{a{color: Blue; text-decoration: underline{href{target{_blank{Purchase license{margin-left: 4px; color: Blue; text-decoration: underline{javascript://{Continue trial{click{removeChild{addEventListener{\n\n{: {:\n".split("{");
void 0==DlhSoft[_0x5c25[0]]&&(DlhSoft[_0x5c25[0]]=function(){var N=_0x5c25[1],H=_0x5c25[2],Y=[],W=[],qa=_0x5c25[3],ga=function(Z,O){if(typeof Z!==H||typeof O!==H)return!1;if(O==qa)return!0;var V=O[_0x5c25[11]](_0x5c25[10]);if(0<=V){var P=O[_0x5c25[12]](0,V),G,E=P[_0x5c25[11]](_0x5c25[10]);if(0<=E)try{G=new Date(parseInt(P[_0x5c25[12]](E+1)))}catch(U){}typeof G===N&&(G=new Date(2013,11,31));if(DlhSoft[_0x5c25[13]]>G)return!1;P=P+_0x5c25[10]+Z;for(i=G=0;i<P[_0x5c25[5]];i++)E=P[_0x5c25[14]](i),G=(G<<
5)-G+E,G&=G;0>G&&(G=Math[_0x5c25[15]](2,32)-G);P=G.toString(16)[_0x5c25[16]]();V=O[_0x5c25[12]](V+1);if(P==V)return!0}return!1},R=function(H,O,V,P,G){var E=_0x5c25[17],U=_0x5c25[18],T=typeof ComponentSource===N||!ComponentSource?U+_0x5c25[19]+P+_0x5c25[20]+G:_0x5c25[21],R=P+_0x5c25[22]+G+_0x5c25[23],M=_0x5c25[24],t=_0x5c25[25],k=_0x5c25[26];setTimeout(function(){var j=H[_0x5c25[27]],q=j[_0x5c25[29]](_0x5c25[28]);q[_0x5c25[32]](_0x5c25[30],_0x5c25[31]);var s=j[_0x5c25[29]](_0x5c25[28]);s[_0x5c25[32]](_0x5c25[30],
_0x5c25[33]);var r=j[_0x5c25[29]](_0x5c25[28]);r[_0x5c25[32]](_0x5c25[30],_0x5c25[34]);s[_0x5c25[35]](r);r[_0x5c25[35]](j[_0x5c25[36]](E));s[_0x5c25[35]](j[_0x5c25[36]](M+_0x5c25[10]));r=j[_0x5c25[29]](_0x5c25[28]);r[_0x5c25[32]](_0x5c25[30],_0x5c25[37]);r[_0x5c25[35]](j[_0x5c25[36]](O));s[_0x5c25[35]](r);s[_0x5c25[35]](j[_0x5c25[36]](t+_0x5c25[10]));r=j[_0x5c25[29]](_0x5c25[28]);r[_0x5c25[32]](_0x5c25[30],_0x5c25[37]);r[_0x5c25[35]](j[_0x5c25[36]](R));s[_0x5c25[35]](r);s[_0x5c25[35]](j[_0x5c25[36]](k+
_0x5c25[10]));r=j[_0x5c25[29]](_0x5c25[28]);r[_0x5c25[32]](_0x5c25[30],_0x5c25[38]);var o=j[_0x5c25[29]](_0x5c25[39]);o[_0x5c25[32]](_0x5c25[30],_0x5c25[40]);o[_0x5c25[32]](_0x5c25[41],T);o[_0x5c25[32]](_0x5c25[42],_0x5c25[43]);o[_0x5c25[35]](j[_0x5c25[36]](_0x5c25[44]));r[_0x5c25[35]](o);o=j[_0x5c25[29]](_0x5c25[39]);o[_0x5c25[32]](_0x5c25[30],_0x5c25[45]);o[_0x5c25[32]](_0x5c25[41],_0x5c25[46]);o[_0x5c25[35]](j[_0x5c25[36]](_0x5c25[47]));o[_0x5c25[50]](_0x5c25[48],function(){H[_0x5c25[49]](q);W[_0x5c25[7]](V)},
!1);r[_0x5c25[35]](o);s[_0x5c25[35]](r);q[_0x5c25[35]](s);H[_0x5c25[35]](q)},0);setTimeout(function(){alert(E+_0x5c25[51]+M+_0x5c25[52]+O+_0x5c25[51]+t+_0x5c25[53]+R+_0x5c25[51]+k+_0x5c25[4])},6E5)};return{setLicense:function(H,O){Y[_0x5c25[7]]({type:H,content:O})},validate:function(Z,O,V,P,G,E,U){for(var O=O+_0x5c25[4]+V,T=0;T<W[_0x5c25[5]];T++)if(W[T]==O)return;a:if(typeof E!==H&&typeof U!==N&&(U[_0x5c25[6]]!==N&&(E=U[_0x5c25[6]]),typeof U===H&&(E=U)),typeof E!==H)for(U=0;U<Y[_0x5c25[5]];U++)if(T=
Y[U],T[_0x5c25[8]]==O&&typeof T[_0x5c25[9]]===H){E=T[_0x5c25[9]];break a}ga(O,E)?Z[_0x5c25[6]]=E:R(Z,V,O,P,G)}}}());void 0==DlhSoft.Controls&&(DlhSoft.Controls={});
void 0==DlhSoft.Controls.GanttChartView&&(DlhSoft.Controls.GanttChartView=function(){var N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],H=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=[31,28,31,30,31,30,31,31,30,31,30,31],W=new Date(2592E5),qa=new Date(3155762592E5),ga=function(a,d,c,b){if(typeof a.ownerDocument.createElementNS==="undefined"||typeof a.ownerDocument.addEventListener==="undefined")alert("The required HTML5 features are not supported by the application host. Some features will be unavailable. Consider upgrading.");
else{var f=["DlhSoft.Controls","GanttChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[f[5]][f[4]](a,f[0],f[1],f[2],f[3],b,c);a.isInitializing=true;typeof a.settings!=="undefined"&&typeof a.settings.toggleButtonAreaWidth!=="undefined"&&delete a.settings.toggleButtonAreaWidth;if(typeof a.items!=="undefined")for(b=0;b<a.items.length;b++)delete a.items[b].successors;typeof c!=="object"&&(c={});V(d,c);O(c,d,a);wc(a,d,c);b=c.columns;f=c.scales;xc(b,a,c);Ta(d,
a);Ua(d,c,a);if(typeof c.visibilityFilter!=="undefined"){yc(d,c.visibilityFilter);for(var e=0,g=0;g<d.length;g++){var l=d[g];if(typeof l.ganttChartItems!=="undefined"){if(!l.isHidden)l.scheduleChartVisibilityIndex=e++;for(var h=0;h<l.ganttChartItems.length;h++){var n=l.ganttChartItems[h];if(l.isHidden)n.isHidden=true;n.displayRowIndex=l.scheduleChartVisibilityIndex}}}}var m=P(a,d,c),u=a.ownerDocument,e=u.createElement("div");e.setAttribute("style","font-family: Arial; font-size: small; overflow: auto");
g=u.createElement("div");typeof c.containerClass!=="undefined"&&g.setAttribute("class",c.containerClass);typeof c.containerStyle!=="undefined"&&g.setAttribute("style",c.containerStyle);e.appendChild(g);l=u.createElement("div");l.setAttribute("style","border: solid 1px "+c.border+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; overflow: auto");g.appendChild(l);var v=
u.createElement("div");v.setAttribute("style","overflow: auto; float: left; border-right: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+c.gridWidth);c.isGridVisible&&l.appendChild(v);var w=u.createElement("div");w.setAttribute("style","overflow: auto; float: right; width: "+c.chartWidth);l.appendChild(w);var B=u.createElement("div");B.setAttribute("style","position: relative; opacity: 0; left: 0px; width: "+c.splitterWidth+"px; height: 0px; background: "+
c.splitterBackground+"; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: e-resize; -ms-touch-action: pinch-zoom; touch-action: auto");B.addEventListener("mouseover",function(){B.style.opacity=1;B.isWaiting!=="undefined"&&delete B.isWaiting},true);B.addEventListener("mouseout",function(){if(typeof B.isWaiting==="undefined"){B.isWaiting=true;setTimeout(function(){if(typeof B.isWaiting!=="undefined"){delete B.isWaiting;if(typeof B.x==="undefined")B.style.opacity=
0}},1E3)}},true);B.addEventListener("mousedown",function(a){if(a.button==0){B.style.opacity=1;B.x=a.clientX;B.gridWidth=v.offsetWidth}},true);u.addEventListener("mousemove",function(b){if(typeof B.x!=="undefined"&&!(a.offsetWidth<=0)){var b=B.gridWidth+(b.clientX-B.x),d=a.offsetWidth-b-3,l=Math.max(1,c.minGridWidth),f=Math.max(1,c.minChartWidth);if(b<l){d=d-(l-b);b=l}else if(d<f){b=b-(f-d);d=f}b<1&&(b=1);d<1&&(d=1);typeof v.percent!=="undefined"&&delete v.percent;b=Math.floor(b*1E6/a.offsetWidth)/
1E4;v.style.width=b+"%";w.style.width=100-b+"%";c.gridWidth=v.offsetWidth+"px";c.chartWidth=w.offsetWidth+"px";Ba(B,v,c);typeof c.splitterPositionChangeHandler!=="undefined"&&setTimeout(function(){c.splitterPositionChangeHandler(v.offsetWidth,w.offsetWidth)},0)}},true);u.addEventListener("mouseup",function(){if(typeof B.x!=="undefined"){delete B.x;B.style.opacity=0}if(DlhSoft.Controls.ToolTip&&c.useUpdatingToolTips)(toolTip=a.toolTip)&&toolTip.hide()},true);c.isGridVisible&&c.isSplitterEnabled&&l.appendChild(B);
g=u.createElement("div");g.setAttribute("style","float: right; background: "+c.headerBackground+"; width: 0px; height: "+c.headerHeight+"px");v.appendChild(g);l=u.createElement("div");l.setAttribute("style","overflow: hidden; background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+c.headerHeight+"px");v.appendChild(l);h=u.createElement("div");h.setAttribute("style","float: right; background: "+
c.headerBackground+"; width: 0px; height: "+c.headerHeight+"px");w.appendChild(h);n=u.createElement("div");n.setAttribute("style","overflow: hidden; background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+c.headerHeight+"px");w.appendChild(n);var p=u.createElement("div");p.setAttribute("style","overflow-x: "+(typeof c.isExport==="undefined"||!c.isExport?"scroll":"hidden")+"; overflow-y: "+
(typeof c.isExport==="undefined"||!c.isExport?"auto":"hidden")+"; height: "+m);v.appendChild(p);var L=u.createElement("div");L.setAttribute("style","overflow-x: "+(typeof c.isExport==="undefined"||!c.isExport?"scroll":"hidden")+"; overflow-y: "+(typeof c.isExport==="undefined"||!c.isExport?"auto":"hidden")+"; height: "+m);w.appendChild(L);var m=gb(b),j=u.createElement("div");j.setAttribute("style","background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+
m+"px; overflow: hidden; height: "+c.headerHeight+"px");l.appendChild(j);var k=u.createElement("div");k.setAttribute("style","float: left; width: "+m+"px; overflow: auto"+(c.horizontalGridLines?"; border-bottom: 1px solid "+c.horizontalGridLines+"; margin-bottom: -1px; ; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":""));p.appendChild(k);if(typeof c.extraSpaceHeight!=="undefined"){var r=u.createElement("div");r.setAttribute("style","overflow: hidden; width: "+
m+"px; height: "+c.extraSpaceHeight+"px");p.appendChild(r)}var s=F(c.timelineFinish,c),q=u.createElement("div");q.setAttribute("style","background: "+c.headerBackground+"; border-bottom: solid 1px "+c.border+"; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+s+"px; height: "+c.headerHeight+"px");n.appendChild(q);var o=u.createElement("div");o.setAttribute("style","float: left; overflow: hidden; width: "+s+"px; height: 0px");L.appendChild(o);var x=u.createElementNS("http://www.w3.org/2000/svg",
"svg");x.setAttribute("style","width: "+s+"px; height: 0px");m=c.styleDefinitionTemplate(a);x.appendChild(m);x.chartAreaDefinitions=m;m=u.createElementNS("http://www.w3.org/2000/svg","g");x.appendChild(m);o.chartAreaAlternativeRows=m;m=function(){setTimeout(function(){try{var a=o.chartArea,b=a.chartAreaDefinitions;a.removeChild(b);a.childNodes.length>0?a.insertBefore(b,a.childNodes[0]):a.appendChild(b)}catch(c){}},0)};x.addEventListener("mousedown",m,true);u.addEventListener("mouseup",m,true);a.resetChartAreaDefinitions=
m;o.appendChild(x);o.chartArea=x;if(typeof c.extraSpaceHeight!=="undefined"){m=u.createElement("div");m.setAttribute("style","overflow: hidden; width: "+s+"px; height: "+c.extraSpaceHeight+"px");L.appendChild(m);L.chartExtraSpace=m}var t,C,y;setTimeout(function(){t=a.offsetWidth;C=a.offsetHeight;y=w.offsetHeight},0);typeof a.splitterUpdateTimer!=="undefined"&&clearInterval(a.splitterUpdateTimer);a.splitterUpdateTimer=setInterval(function(){try{if(typeof B.x==="undefined"&&!(a.offsetWidth<=0)){var b=
a.offsetWidth,d=w.offsetHeight,l=screen.deviceXDPI;if(b!=t||l!=screen.deviceXDPI){var f=typeof v.percent!=="undefined"?v.percent*b:v.offsetWidth,h=w.offsetWidth,e=Math.max(1,c.minGridWidth),n=Math.max(1,c.minChartWidth);if(f<e){h=h-(e-f);f=e}else if(h<n){f=f-(n-h);h=n}f<1&&(f=1);h<1&&(h=1);var m=Math.floor(f*1E6/b)/1E4;v.percent=m/100;v.style.width=m+"%";w.style.width=100-m+"%";c.gridWidth=v.offsetWidth+"px";c.chartWidth=w.offsetWidth+"px";Ba(B,v,c);if(typeof c.splitterPositionChangeHandler!=="undefined"){var g=
v.offsetWidth,u=w.offsetWidth;g>0&&u>0&&setTimeout(function(){c.splitterPositionChangeHandler(g,u)},0)}t=b;C=d}else if(d!=y){Ba(B,v,c);y=d}}}catch(p){try{clearInterval(a.splitterUpdateTimer)}catch(j){}}},100);typeof a.heightUpdateTimer!=="undefined"&&clearInterval(a.heightUpdateTimer);a.heightUpdateTimer=setInterval(function(){try{if(!(a.clientHeight<=0)){var b=a.clientHeight;if(b!=C){var l=P(a,d,c);p.style.height=l;L.style.height=l;Ba(B,v,c);if(L.style.height!="auto")o.availableHeight=L.clientHeight;
ra(o,sa(d,c));ta(d,L,c);C=b}}}catch(f){try{clearInterval(a.heightUpdateTimer)}catch(h){}}},100);var z=function(a,b,l,f,h,e){var n;if(c.mouseHandler||c.mouseMoveHandler&&e=="mousemove"||c.mouseDownHandler&&e=="mousedown"||(c.clickHandler||c.itemClickHandler||c.chartClickHandler||c.chartItemClickHandler)&&e=="click"||(c.doubleClickHandler||c.itemDoubleClickHandler||c.chartDoubleClickHandler||c.chartItemDoubleClickHandler)&&e=="dblclick"){var m=a.which;!m&&a.button&&(a.button&1?m=1:a.button&4?m=2:a.button&
2&&(m=3));n=h.getBoundingClientRect();var g=u.body,w=u.documentElement,h=n.left+(window.pageXOffset||w.scrollLeft||g.scrollLeft)-(w.clientLeft||g.clientLeft||0);n=Math.round(n.top+(window.pageYOffset||w.scrollTop||g.scrollTop)-(w.clientTop||g.clientTop||0));var h=Math.round(h),h=a.pageX-h,w=a.pageY-n,p=n=0,B,v;if(l)for(g=0;g<d.length;g++){p=d[g];if(p.isVisible&&!(typeof p.isHidden!=="undefined"&&p.isHidden)){p=p.itemTop+c.itemHeight;if(w<=p){B=d[g];break}}}else if(b){for(var j=c.scales,L=0,k,g=0;g<
j.length;g++){k=j[g];(typeof k.isHeaderVisible==="undefined"||k.isHeaderVisible)&&L++}var Ab=c.headerHeight;L>0&&(Ab=c.headerHeight/L);for(g=0;g<j.length;g++){k=j[g];if(typeof k.isHeaderVisible==="undefined"||k.isHeaderVisible){L=Ab;if(typeof k.headerHeight!=="undefined")L=k.headerHeight;p=p+L;if(w<=p){B=k;break}}}}if(b)v=Ca(h,c);else{w=c.columns;for(g=0;g<w.length;g++){p=w[g];n=n+(p.width?p.width:0);if(h<=n){v=p;break}}}c.mouseHandler&&c.mouseHandler(e,l,b,B,v,m,f,a);c.mouseMoveHandler&&e=="mousemove"&&
c.mouseMoveHandler(l,b,B,v);c.mouseDownHandler&&e=="mousedown"&&c.mouseDownHandler(l,b,B,v,m);c.clickHandler&&e=="click"&&c.clickHandler(l,b,B,v);c.doubleClickHandler&&e=="dblclick"&&c.doubleClickHandler(l,b,B,v);c.itemClickHandler&&(e=="click"&&l&&B)&&c.itemClickHandler(b,B,v);c.itemDoubleClickHandler&&(e=="dblclick"&&l&&B)&&c.itemDoubleClickHandler(b,B,v);c.chartClickHandler&&(e=="click"&&b)&&c.chartClickHandler(l,B,v);c.chartDoubleClickHandler&&(e=="dblclick"&&b)&&c.chartDoubleClickHandler(l,B,
v);c.chartItemClickHandler&&(e=="click"&&l&&b)&&c.chartItemClickHandler(B,v);c.chartItemDoubleClickHandler&&(e=="dblclick"&&l&&b)&&c.chartItemDoubleClickHandler(B,v)}};j.addEventListener("mousemove",function(a){z(a,false,false,0,j,"mousemove")});j.addEventListener("mousedown",function(a){z(a,false,false,1,j,"mousedown")});j.addEventListener("click",function(a){z(a,false,false,1,j,"click")});j.addEventListener("dblclick",function(a){z(a,false,false,2,j,"dblclick")});k.addEventListener("mousemove",
function(a){z(a,false,true,0,k,"mousemove")});k.addEventListener("mousedown",function(a){z(a,false,true,1,k,"mousedown")});k.addEventListener("click",function(a){z(a,false,true,1,k,"click")});k.addEventListener("dblclick",function(a){z(a,false,true,2,k,"dblclick")});q.addEventListener("mousemove",function(a){z(a,true,false,0,q,"mousemove")});q.addEventListener("mousedown",function(a){z(a,true,false,1,q,"mousedown")});q.addEventListener("click",function(a){z(a,true,false,1,q,"click")});q.addEventListener("dblclick",
function(a){z(a,true,false,2,q,"dblclick")});o.addEventListener("mousemove",function(a){z(a,true,true,0,o,"mousemove")});o.addEventListener("mousedown",function(a){z(a,true,true,1,o,"mousedown")});o.addEventListener("click",function(a){z(a,true,true,1,o,"click")});o.addEventListener("dblclick",function(a){z(a,true,true,2,o,"dblclick")});k.container=p;o.container=L;j.container=l;q.container=n;a.gridContainer=v;a.chartContainer=w;a.gridContent=k;a.chartContent=o;a.gridContentContainer=p;a.chartContentContainer=
L;a.gridHeader=j;a.chartHeader=q;a.gridHeaderContainer=l;a.chartHeaderContainer=n;a.splitter=B;L.isInitializing=true;m=G(d,c);zc(a,e);if(L.style.height!="auto")o.availableHeight=L.clientHeight;Ac(j,b,c);hb(q,x,f,c);Bc(k,o,x,d,b,m,c);Ba(B,v,c);L.isInitializing=false;ta(d,L,c);L.scrollLeft=F(c.displayedTime,c);if(n.scrollLeft!=L.scrollLeft)n.scrollLeft=L.scrollLeft;Cc(a,p,v,l,g,k,L,n,w,h,o,B,d,c);var A=false,D=function(a,b){typeof b==="undefined"&&(b=0);if(c.hourWidth!=a){A=true;var l=L.scrollLeft,
f=b,e=c.hourWidth;c.hourWidth=a;typeof c.hourWidthChangeHandler!=="undefined"&&setTimeout(function(){c.hourWidthChangeHandler(c.hourWidth)},0);s=F(c.timelineFinish,c);q.style.width=s+"px";o.style.width=s+"px";x.style.width=s+"px";if(typeof L.chartExtraSpace!=="undefined")L.chartExtraSpace.style.width=s+"px";var h;for(h=q.childNodes.length;h-- >0;)q.removeChild(q.childNodes[h]);var n=[];for(h=x.childNodes.length;h-- >1;){var m=x.childNodes[h];if(m!=o.chartAreaAlternativeRows){m.tag!="Scale-Highlighting"&&
(m.tag!="Scale-Highlighting-CurrentTime"&&m.tag!="Scale-Separator"&&m.tag!="Scale-Separator-CurrentTime")&&n.push(m);x.removeChild(m)}}hb(q,x,c.scales,c);for(h=0;h<d.length;h++){m=d[h];(!c.isVirtualizing||typeof m.isVirtuallyVisible!=="undefined"&&m.isVirtuallyVisible)&&ca(m.chartItem,m,c)}for(h=n.length;h-- >0;)x.appendChild(n[h]);ra(o,sa(d,c));L.scrollLeft=f*(a/e)-(f-l);setTimeout(function(){A=false},200)}};a.setHourWidth=D;if(typeof c.isMouseWheelZoomEnabled==="undefined"||c.isMouseWheelZoomEnabled){b=
function(b){b.preventDefault();b.stopPropagation();if(!A){var c=typeof b.wheelDelta!=="undefined"?b.wheelDelta>=0?1:-1:typeof b.detail!=="undefined"?-b.detail>=0?1:-1:0,d=a.settings,l=d.hourWidth,f=typeof d.isMouseWheelZoomEnabledMinHourWidth!=="undefined"?d.isMouseWheelZoomEnabledMinHourWidth:1;if(c<0)l=l/(1.2*-c);else if(c>0){l=l*1.2*c;c=typeof d.isMouseWheelZoomEnabledMaxHourWidth!=="undefined"?d.isMouseWheelZoomEnabledMaxHourWidth:20;l>c&&(l=c)}l<f&&(l=f);D(l,b.offsetX)}};x.addEventListener("mousewheel",
b,false);x.addEventListener("DOMMouseScroll",b,false)}a.isInitializing=false;a.isInitialized=true;return a}},R=function(a){ga(a,a.items,a.settings,a.license)},Z=function(a){if(typeof a.dateTimePickerType==="undefined")a.dateTimePickerType="text";if(typeof a.useDatePicker==="undefined")a.useDatePicker=true;if(typeof a.useTimePicker==="undefined")a.useTimePicker=true;if(typeof a.useResourceSelector==="undefined")a.useResourceSelector=true;if(typeof a.useUpdatingToolTips==="undefined")a.useUpdatingToolTips=
true;if(typeof a.dateFormatter==="undefined")a.dateFormatter=T;if(typeof a.dateTimeFormatter==="undefined")a.dateTimeFormatter=ja;if(typeof a.dateTimeParser==="undefined")a.dateTimeParser=t;if(typeof a.itemPropertyChangeHandler==="undefined")a.itemPropertyChangeHandler=function(){};if(typeof a.target==="undefined")a.target="Standard";if(typeof a.theme==="undefined")a.theme="Modern";if(typeof a.isGridVisible==="undefined")switch(a.target){default:a.isGridVisible=true;break;case "Phone":a.isGridVisible=
false}if(typeof a.interaction==="undefined")a.interaction=a.target!="Phone"?"Standard":"TouchEnabled";if(typeof a.isSplitterEnabled==="undefined")a.isSplitterEnabled=true;if(typeof a.isReadOnly==="undefined")a.isReadOnly=false;if(typeof a.isGridReadOnly==="undefined")a.isGridReadOnly=false;if(typeof a.isChartReadOnly==="undefined")a.isChartReadOnly=false;if(typeof a.isContentReadOnly==="undefined")a.isContentReadOnly=false;if(typeof a.isAssignmentsContentReadOnly==="undefined")a.isAssignmentsContentReadOnly=
false;if(typeof a.isIndividualItemNonworkingTimeHighlighted==="undefined")a.isIndividualItemNonworkingTimeHighlighted=false;if(typeof a.areTaskInterruptionsHighlighted==="undefined")a.areTaskInterruptionsHighlighted=false;if(typeof a.areTaskDependencyConstraintsEnabled==="undefined")a.areTaskDependencyConstraintsEnabled=false;if(typeof a.selectionMode==="undefined")a.selectionMode="Focus";if(typeof a.isVirtualizing==="undefined")a.isVirtualizing=true},O=function(a,d,c){Z(a);if(typeof a.gridWidth===
"undefined")a.gridWidth="35%";if(typeof a.chartWidth==="undefined")a.chartWidth=a.isGridVisible?"65%":"100%";if(typeof a.minGridWidth==="undefined")a.minGridWidth=32;if(typeof a.minColumnWidth==="undefined")a.minColumnWidth=32;if(typeof a.minChartWidth==="undefined")a.minChartWidth=36;if(typeof a.border==="undefined")switch(a.theme){default:a.border="#e0e0e0";break;case "ModernBordered":case "Aero":a.border="#9a9a9a"}if(typeof a.splitterWidth==="undefined")a.splitterWidth=4;if(typeof a.splitterBackground===
"undefined")a.splitterBackground=a.border;if(typeof a.indentationLevelWidth==="undefined")a.indentationLevelWidth=16;if(typeof a.itemHeight==="undefined")a.itemHeight=21;if(typeof a.headerBackground==="undefined")a.headerBackground="#f4f4f4";if(typeof a.headerHeight==="undefined")a.headerHeight=42;if(typeof a.columns==="undefined")a.columns=q(d,a);if(typeof a.toggleButtonStyle==="undefined"&&a.toggleButtonClass==null)a.toggleButtonStyle="fill: Gray";if(typeof a.toggleButtonHoveringStyle==="undefined"&&
a.toggleButtonHoveringClass==null)a.toggleButtonHoveringStyle="fill: Black";if(typeof a.collapsedToggleButtonTemplate==="undefined")a.collapsedToggleButtonTemplate=Bb(c,a);if(typeof a.expandedToggleButtonTemplate==="undefined")a.expandedToggleButtonTemplate=Cb(c,a);if(typeof a.gridLines!=="undefined"){if(typeof a.horizontalGridLines==="undefined")a.horizontalGridLines=a.gridLines;if(typeof a.verticalGridLines==="undefined")a.verticalGridLines=a.gridLines;if(typeof a.horizontalChartLines==="undefined")a.horizontalChartLines=
a.gridLines}if(typeof a.itemStyle==="undefined"&&typeof a.horizontalGridLines!=="undefined"){a.itemStyle="border-top: solid 1px "+a.horizontalGridLines+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box";if(typeof a.cellStyle==="undefined")a.cellStyle=typeof a.verticalGridLines!=="undefined"?"border-right: solid 1px "+a.verticalGridLines+"; height: "+a.itemHeight+"px; padding-top: 2px; padding-left: 2px":"height: "+a.itemHeight+"px; padding-top: 2px"}if(typeof a.cellStyle===
"undefined"&&typeof a.verticalGridLines!=="undefined")a.cellStyle="border-right: solid 1px "+a.verticalGridLines+"; height: "+a.itemHeight+"px; padding-top: 3px; padding-left: 2px";if(typeof a.selectedItemStyle==="undefined"&&a.selectedItemClass==null)switch(a.theme){default:a.selectedItemStyle=typeof a.horizontalGridLines!=="undefined"||typeof a.verticalGridLines==="undefined"?"background-color: #f4f4f4; border-top: solid 1px "+(typeof a.horizontalGridLines!=="undefined"?a.horizontalGridLines:"White")+
"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"background-color: #f4f4f4";break;case "Aero":a.selectedItemStyle=typeof a.horizontalGridLines!=="undefined"||typeof a.verticalGridLines==="undefined"?"background-color: LightBlue; border-top: solid 1px "+(typeof a.horizontalGridLines!=="undefined"?a.horizontalGridLines:"White")+"; margin-top: -1px; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box":"background-color: LightBlue"}if(typeof a.summaryItemStyle===
"undefined"&&a.summaryItemClass==null)a.summaryItemStyle="font-weight: bold";if(typeof a.daysOfWeek==="undefined")a.daysOfWeek=N;if(typeof a.months==="undefined")a.months=H;if(typeof a.weekStartDay==="undefined")a.weekStartDay=0;if(typeof a.currentTime==="undefined")a.currentTime=new Date;else if(typeof a.currentTime==="string")try{a.currentTime=new Date(a.currentTime)}catch(b){a.currentTime=new Date(parseInt(a.currentTime))}if(typeof a.displayedTime==="string")try{a.displayedTime=new Date(a.displayedTime)}catch(f){a.displayedTime=
new Date(parseInt(a.displayedTime))}if(typeof a.timelineStart==="string")try{a.timelineStart=new Date(a.timelineStart)}catch(e){a.timelineStart=new Date(parseInt(a.timelineStart))}if(typeof a.timelineFinish==="string")try{a.timelineFinish=new Date(a.timelineFinish)}catch(g){a.timelineFinish=new Date(parseInt(a.timelineFinish))}if(typeof a.isRelativeToTimezone==="undefined"||a.isRelativeToTimezone){a.currentTime=new Date(a.currentTime.valueOf()-a.currentTime.getTimezoneOffset()*6E4);if(typeof a.displayedTime!==
"undefined")a.displayedTime=new Date(a.displayedTime.valueOf()-a.displayedTime.getTimezoneOffset()*6E4);if(typeof a.timelineStart!=="undefined")a.timelineStart=new Date(a.timelineStart.valueOf()-a.timelineStart.getTimezoneOffset()*6E4);if(typeof a.timelineFinish!=="undefined")a.timelineFinish=new Date(a.timelineFinish.valueOf()-a.timelineFinish.getTimezoneOffset()*6E4);if(typeof a.scales!=="undefined")for(d=0;d<a.scales.length;d++){var l=a.scales[d];if(typeof l.intervals!=="undefined")for(var h=0;h<
l.intervals.length;h++){var n=l.intervals[h];if(typeof n.start!=="undefined")n.start=new Date(n.start.valueOf()-n.start.getTimezoneOffset()*6E4);if(typeof n.finish!=="undefined")n.finish=new Date(n.finish.valueOf()-n.finish.getTimezoneOffset()*6E4)}}a.isRelativeToTimezone=false}if(typeof a.schedule!=="undefined"&&a.schedule!=null){if(a.schedule!=a.previousSchedule||a.schedule.workingWeekStart!=a.previousSchedule.workingWeekStart)a.workingWeekStart=a.schedule.workingWeekStart;if(a.schedule!=a.previousSchedule||
a.schedule.workingWeekFinish!=a.previousSchedule.workingWeekFinish)a.workingWeekFinish=a.schedule.workingWeekFinish;if(a.schedule!=a.previousSchedule||a.schedule.workingDayStart!=a.previousSchedule.workingDayStart)a.visibleDayStart=a.schedule.workingDayStart;if(a.schedule!=a.previousSchedule||a.schedule.workingDayFinish!=a.previousSchedule.workingDayFinish)a.visibleDayFinish=a.schedule.workingDayFinish;if(a.schedule!=a.previousSchedule||a.schedule.specialNonworkingDays!=a.previousSchedule.specialNonworkingDays)a.specialNonworkingDays=
a.schedule.specialNonworkingDays}a.timelineStart=typeof a.timelineStart==="undefined"?new Date(ua(a.currentTime,a.weekStartDay).valueOf()-6048E5):ua(a.timelineStart,a.weekStartDay);a.timelineFinish=typeof a.timelineFinish==="undefined"?new Date(ua(a.currentTime,a.weekStartDay).valueOf()+320544E5):ib(a.timelineFinish,a.weekStartDay);if(!a.isExport&&typeof a.specialNonworkingDays!=="undefined")for(d=0;d<a.specialNonworkingDays.length;d++)a.specialNonworkingDays[d]=$(new Date(a.specialNonworkingDays[d].valueOf()-
(a.specialNonworkingDays[d].getTimezoneOffset()<0?a.specialNonworkingDays[d].getTimezoneOffset():0)*6E4));if(typeof a.scales==="undefined")a.scales=Db(a);if(typeof a.updateScale==="undefined")a.updateScale=9E5;if(typeof a.hourWidth==="undefined")a.hourWidth=2.5;if(typeof a.displayedTime==="undefined"){a.displayedTime=a.currentTime;setTimeout(function(){var b=c.chartContentContainer.scrollLeft-a.hourWidth*12;if(c.chartContentContainer.scrollLeft-b<c.chartContentContainer.clientWidth/3)c.chartContentContainer.scrollLeft=
Math.max(0,b)},0)}a.previousSchedule=a.schedule;if(typeof a.visibleDayStart==="undefined")a.visibleDayStart=288E5;if(typeof a.visibleDayFinish==="undefined")a.visibleDayFinish=576E5;if(a.visibleDayStart>=a.visibleDayFinish){a.visibleWeekStart=0;a.visibleWeekFinish=864E5}if(typeof a.visibleWeekStart==="undefined")a.visibleWeekStart=0;if(typeof a.visibleWeekFinish==="undefined")a.visibleWeekFinish=6;if(a.visibleWeekStart>a.visibleWeekFinish)if(a.visibleWeekStart==a.visibleWeekFinish+1){a.visibleWeekStart=
0;a.visibleWeekFinish=6}else a.visibleWeekFinish=a.visibleWeekStart;if(typeof a.workingWeekStart==="undefined")a.workingWeekStart=1;if(typeof a.workingWeekFinish==="undefined")a.workingWeekFinish=5;if(a.workingWeekStart>a.workingWeekFinish)if(a.workingWeekStart==a.workingWeekFinish+1){a.workingWeekStart=0;a.workingWeekFinish=6}else a.workingWeekFinish=a.workingWeekStart;a.workingDayStart=a.visibleDayStart;a.workingDayFinish=a.visibleDayFinish;if(typeof a.barMargin==="undefined")a.barMargin=a.itemHeight/
4;if(typeof a.barHeight==="undefined")a.barHeight=a.itemHeight-a.barMargin*2;if(typeof a.barCornerRadius==="undefined")switch(a.theme){default:a.barCornerRadius=0;break;case "Aero":a.barCornerRadius=3}if(typeof a.completedBarMargin==="undefined")a.completedBarMargin=a.barHeight/2.5;if(typeof a.completedBarHeight==="undefined")a.completedBarHeight=a.barHeight-a.completedBarMargin*2;if(typeof completedBarCornerRadius==="undefined")a.completedBarCornerRadius=0;if(typeof a.styleDefinitionTemplate==="undefined")a.styleDefinitionTemplate=
Eb(c,a);if(typeof a.standardBarStyle==="undefined"&&a.standardBarClass==null)switch(a.theme){default:a.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: #8abbed; stroke-width: 0.65px";break;case "ModernBordered":a.standardBarStyle="fill: #8abbed; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";break;case "Aero":a.standardBarStyle="fill: url(#BlueGradient); fill-opacity: 0.8; stroke: Blue"}if(typeof a.standardCompletedBarStyle==="undefined"&&a.standardCompletedBarClass==null)switch(a.theme){default:a.standardCompletedBarStyle=
"fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px";break;case "Aero":a.standardCompletedBarStyle="fill: #808080; stroke: #202020; stroke-width: 0.65px"}if(typeof a.summaryBarStyle==="undefined"&&a.summaryBarClass==null)switch(a.theme){default:a.summaryBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";break;case "ModernBordered":a.summaryBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case "Aero":a.summaryBarStyle="fill: url(#BlackGradient); stroke: Black"}if(typeof a.collapsedSummaryLineStyle===
"undefined"&&a.collapsedSummaryLineClass==null)a.collapsedSummaryLineStyle="stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2 2";if(typeof a.milestoneBarStyle==="undefined"&&a.milestoneBarClass==null)switch(a.theme){default:a.milestoneBarStyle="fill: #607080; stroke: #607080; stroke-width: 0.65px";break;case "ModernBordered":a.milestoneBarStyle="fill: #607080; stroke: #202020; stroke-width: 0.65px";break;case "Aero":a.milestoneBarStyle="fill: url(#BlackGradient); stroke: Black"}if(typeof a.baselineBarStyle===
"undefined"&&a.baselineBarClass==null)switch(a.theme){default:a.baselineBarStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";break;case "Aero":a.baselineBarStyle="fill: none; stroke: Blue; stroke-dasharray: 2, 2"}if(typeof a.dependencyPointerStyle==="undefined"&&a.dependencyPointerClass==null)switch(a.theme){default:a.dependencyPointerStyle="fill: #3b87d9; stroke: #3b87d9; stroke-width: 0.65px";break;case "Aero":a.dependencyPointerStyle="fill: Blue; stroke: Blue"}if(typeof a.dependencyLineStyle===
"undefined"&&a.dependencyLineClass==null)switch(a.theme){default:a.dependencyLineStyle="stroke: #3b87d9; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)";break;case "Aero":a.dependencyLineStyle="stroke: Blue; stroke-width: 0.65px; fill: none; marker-end: url(#ArrowMarker)"}if(typeof a.dependencyLineZoneStyle==="undefined"&&a.dependencyLineZoneClass==null)a.dependencyLineZoneStyle="stroke: White; stroke-opacity: 0; stroke-width: 4px; fill: none";if(typeof a.temporaryDependencyLineStyle===
"undefined"&&a.temporaryDependencyLineClass==null)switch(a.theme){default:a.temporaryDependencyLineStyle="stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)";break;case "Aero":a.temporaryDependencyLineStyle="stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2; fill: none; marker-end: url(#ArrowMarker)"}if(typeof a.assignmentsStyle==="undefined"&&a.assignmentsClass==null)a.assignmentsStyle="stroke-width: 0.25px; font-size: x-small";if(typeof a.standardTaskTemplate===
"undefined")a.standardTaskTemplate=Fb();if(typeof a.summaryTaskTemplate==="undefined")a.summaryTaskTemplate=Gb();if(typeof a.milestoneTaskTemplate==="undefined")a.milestoneTaskTemplate=Hb();if(typeof a.horizontalChartLines!=="undefined"){var m=a.internalPreTaskTemplate;a.internalPreTaskTemplate=function(b){if(typeof b.scheduleChartItem!=="undefined")return typeof m!=="undefined"?m(b):null;var c=b.ganttChartView.ownerDocument,d=c.createElementNS("http://www.w3.org/2000/svg","g");typeof m!=="undefined"&&
d.appendChild(m(b));var l=c.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",0);l.setAttribute("y1",-0.5);l.setAttribute("x2",F(a.timelineFinish,a));l.setAttribute("y2",-0.5);l.setAttribute("style","stroke: "+a.horizontalChartLines+"; stroke-width: 0.5px");d.appendChild(l);if(b.index==b.ganttChartView.items.length-1){l=c.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",0);l.setAttribute("y1",a.itemHeight+0.5);l.setAttribute("x2",F(a.timelineFinish,a));
l.setAttribute("y2",a.itemHeight+0.5);l.setAttribute("style","stroke: "+a.horizontalChartLines+"; stroke-width: 0.5px");d.appendChild(l)}return d}}if(typeof a.isTaskToolTipVisible==="undefined")switch(a.target){default:a.isTaskToolTipVisible=true;break;case "Phone":a.isTaskToolTipVisible=false}if(typeof a.itemTemplate==="undefined")a.itemTemplate=Ib(a);if(typeof a.areTaskAssignmentsVisible==="undefined")a.areTaskAssignmentsVisible=true;if(typeof a.assignmentsTemplate==="undefined")a.assignmentsTemplate=
Jb();if(typeof a.isTaskCompletedEffortVisible==="undefined")a.isTaskCompletedEffortVisible=true;if(typeof a.areTaskDependenciesVisible==="undefined")a.areTaskDependenciesVisible=true;if(typeof a.dependencyLineTemplate==="undefined")a.dependencyLineTemplate=Kb();if(typeof a.isDependencyToolTipVisible==="undefined")a.isDependencyToolTipVisible=a.isTaskToolTipVisible;if(typeof a.predecessorItemTemplate==="undefined")a.predecessorItemTemplate=Lb(a);if(typeof a.isDraggingTaskStartEndsEnabled==="undefined")a.isDraggingTaskStartEndsEnabled=
true;if(typeof a.areTaskDependencyConstraintsEnabledWhileDragging==="undefined")a.areTaskDependencyConstraintsEnabledWhileDragging=false;if(typeof a.isTaskStartReadOnly==="undefined")a.isTaskStartReadOnly=false;if(typeof a.isTaskEffortReadOnly==="undefined")a.isTaskEffortReadOnly=false;if(typeof a.isTaskCompletionReadOnly==="undefined")a.isTaskCompletionReadOnly=false;if(typeof a.areTaskPredecessorsReadOnly==="undefined")a.areTaskPredecessorsReadOnly=false;if(typeof a.isBaselineVisible==="undefined")a.isBaselineVisible=
true;var u=null;if(a.isIndividualItemNonworkingTimeHighlighted||a.areTaskInterruptionsHighlighted)for(d=0;d<a.scales.length;d++)if(a.scales[d].scaleType=="NonworkingTime"){u=a.scales[d];break}if(u!=null&&a.isIndividualItemNonworkingTimeHighlighted){var v=a.internalPreTaskTemplate;a.internalPreTaskTemplate=function(b){if(typeof b.scheduleChartItem!=="undefined")return typeof v!=="undefined"?v(b):null;var c;c=b.schedule;if(typeof c==="undefined")c=null;else{var d=[],l,f;l=jb(a.timelineStart,typeof c.workingWeekStart!==
"undefined"?c.workingWeekFinish:a.workingWeekFinish);for(f=kb(l,typeof c.workingWeekFinish!=="undefined"?c.workingWeekStart:a.workingWeekStart);l<a.timelineFinish;l=va(l),f=va(f))d.push({start:l,finish:f});if(typeof c.specialNonworkingDays!=="undefined")for(var h=0;h<c.specialNonworkingDays.length;h++){l=c.specialNonworkingDays[h];f=aa(l);d.push({start:l,finish:f})}c=d}if(c==null||c.length==0)return typeof v!=="undefined"?v(b):null;d=b.ganttChartView.ownerDocument;l=d.createElementNS("http://www.w3.org/2000/svg",
"g");for(f=0;f<c.length;f++){var h=c[f],e=h.finish,h=F(h.start,a),e=F(e,a)-h;if(!(e<=0)){var n=d.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",h-1);n.setAttribute("y",0);n.setAttribute("width",e);n.setAttribute("height",a.itemHeight);n.setAttribute("class",u.highlightingClass);n.setAttribute("style",u.highlightingStyle);l.appendChild(n)}}typeof v!=="undefined"&&l.appendChild(v(b));return l}}if(u!=null&&a.areTaskInterruptionsHighlighted){var w=a.internalExtraTaskTemplate;
a.internalExtraTaskTemplate=function(b){if(typeof b.scheduleChartItem!=="undefined")return typeof w!=="undefined"?w(b):null;var c;if(b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)||b.isMilestone)c=null;else{var d=b.schedule;c=[];var l,f;l=jb($(b.start),typeof d!=="undefined"&&typeof d.workingWeekStart!=="undefined"?d.workingWeekFinish:a.workingWeekFinish);for(f=kb(l,typeof d!=="undefined"&&typeof d.workingWeekFinish!=="undefined"?d.workingWeekStart:a.workingWeekStart);l<
b.finish;l=va(l),f=va(f))c.push({start:l>=b.start?l:b.start,finish:f<=b.finish?f:b.finish});d=typeof d!=="undefined"&&typeof d.specialNonworkingDays!=="undefined"?d.specialNonworkingDays:a.specialNonworkingDays;if(typeof d!=="undefined")for(var h=0;h<d.length;h++){l=d[h];f=aa(l);l>=b.start&&f<=b.finish&&c.push({start:l,finish:f})}}if(c==null||c.length==0)return typeof w!=="undefined"?w(b):null;l=b.ganttChartView.ownerDocument;f=l.createElementNS("http://www.w3.org/2000/svg","g");for(d=0;d<c.length;d++){var h=
c[d],e=h.finish,h=F(h.start,a),e=F(e,a)-h;if(!(e<=0)){var n=l.createElementNS("http://www.w3.org/2000/svg","rect");n.setAttribute("x",h-1);n.setAttribute("y",a.barMargin);n.setAttribute("width",e);n.setAttribute("height",a.barHeight);n.setAttribute("class",u.highlightingClass);n.setAttribute("style",u.highlightingStyle);f.appendChild(n)}}typeof w!=="undefined"&&f.appendChild(w(b));return f}}},V=function(a,d){for(var c=0;c<a.length;c++){var b=a[c];if(typeof b==="string"){b={content:b};a[c]=b}if(typeof b.indentation===
"string")b.indentation=parseInt(b.indentation);if(typeof b.isExpanded==="string")b.isExpanded=b.isExpanded.toLowerCase()=="true";if(typeof b.start==="string"){try{b.start=new Date(b.start)}catch(f){b.start=new Date(parseInt(b.start))}if(typeof d.isRelativeToTimezone==="undefined"||d.isRelativeToTimezone)b.start=new Date(b.start.valueOf()+b.start.getTimezoneOffset()*6E4);b.preferredStart=b.start}if(typeof b.finish==="string"){try{b.finish=new Date(b.finish)}catch(e){b.finish=new Date(parseInt(b.finish))}if(typeof d.isRelativeToTimezone===
"undefined"||d.isRelativeToTimezone)b.finish=new Date(b.finish.valueOf()+b.finish.getTimezoneOffset()*6E4)}if(typeof b.completedFinish==="string"){try{b.completedFinish=new Date(b.completedFinish)}catch(g){b.completedFinish=new Date(parseInt(b.completedFinish))}if(typeof d.isRelativeToTimezone==="undefined"||d.isRelativeToTimezone)b.completedFinish=new Date(b.completedFinish.valueOf()+b.completedFinish.getTimezoneOffset()*6E4)}if(typeof b.isMilestone==="string")b.isMilestone=b.isMilestone.toLowerCase()==
"true";if(typeof b.baselineStart==="string"){try{b.baselineStart=new Date(b.baselineStart)}catch(l){b.baselineStart=new Date(parseInt(b.baselineStart))}if(typeof d.isRelativeToTimezone==="undefined"||d.isRelativeToTimezone)b.baselineStart=new Date(b.baselineStart.valueOf()+b.baselineStart.getTimezoneOffset()*6E4)}if(typeof b.baselineFinish==="string"){try{b.baselineFinish=new Date(b.baselineFinish)}catch(h){b.baselineFinish=new Date(parseInt(b.baselineFinish))}if(typeof d.isRelativeToTimezone==="undefined"||
d.isRelativeToTimezone)b.baselineFinish=new Date(b.baselineFinish.valueOf()+b.baselineFinish.getTimezoneOffset()*6E4)}if(typeof b.minStart==="string"){try{b.minStart=new Date(b.minStart)}catch(n){b.minStart=new Date(parseInt(b.minStart))}if(typeof d.isRelativeToTimezone==="undefined"||d.isRelativeToTimezone)b.minStart=new Date(b.minStart.valueOf()+b.minStart.getTimezoneOffset()*6E4)}if(typeof b.maxStart==="string"){try{b.maxStart=new Date(b.maxStart)}catch(m){b.maxStart=new Date(parseInt(b.maxStart))}if(typeof d.isRelativeToTimezone===
"undefined"||d.isRelativeToTimezone)b.maxStart=new Date(b.maxStart.valueOf()+b.maxStart.getTimezoneOffset()*6E4)}if(typeof b.minFinish==="string"){try{b.minFinish=new Date(b.minFinish)}catch(u){b.minFinish=new Date(parseInt(b.minFinish))}if(typeof d.isRelativeToTimezone==="undefined"||d.isRelativeToTimezone)b.minFinish=new Date(b.minFinish.valueOf()+b.minFinish.getTimezoneOffset()*6E4)}if(typeof b.maxFinish==="string"){try{b.maxFinish=new Date(b.maxFinish)}catch(v){b.maxFinish=new Date(parseInt(b.maxFinish))}if(typeof d.isRelativeToTimezone===
"undefined"||d.isRelativeToTimezone)b.maxFinish=new Date(b.maxFinish.valueOf()+b.maxFinish.getTimezoneOffset()*6E4)}if(typeof b.predecessors!=="undefined"){if(typeof b.predecessors==="string")b.predecessors=b.predecessors.split(",");for(var w=0;w<b.predecessors.length;w++){var B=b.predecessors[w];if(typeof B==="string"){B={item:B};b.predecessors[w]=B}if(typeof B.item==="string"){var p=parseInt(B.item)-1;B.item=p>=0&&p<a.length?a[p]:null}if(typeof B.lag==="string")B.lag=parseFloat(B.lag)}}if(typeof b.schedule!==
"undefined"&&typeof b.schedule.specialNonworkingDays!=="undefined")for(w=0;w<b.schedule.specialNonworkingDays.length;w++)b.schedule.specialNonworkingDays[w]=$(new Date(b.schedule.specialNonworkingDays[w].valueOf()-b.schedule.specialNonworkingDays[w].getTimezoneOffset()*6E4));typeof b.wasGridItemContentLoaded!=="undefined"&&delete b.wasGridItemContentLoaded}},P=function(a,d,c){var b;if(a.isContentHeightInitialized&&a.isContentHeightAuto)b=d.length>0?"auto":c.itemHeight+"px";else{var f=a.clientHeight-
c.headerHeight-2;f<0&&(f=0);b=f+"px";if(f<c.itemHeight){if(!a.isContentHeightInitialized)a.isContentHeightAuto=true;b=d.length>0?"auto":c.itemHeight+"px"}a.isContentHeightInitialized=true}return b},G=function(a,d){if(typeof d.toggleButtonAreaWidth!=="undefined")return d.toggleButtonAreaWidth;var c=0;if(d.isGridVisible)for(var b=0;b<a.length;b++)if(a[b].indentation>0){c=16;break}return d.toggleButtonAreaWidth=c},E=function(a,d){var c=a.createElement("span");c.innerHTML=d;return c},U=function(a,d){return d==
true?a.createTextNode("\u2713"):a.createTextNode("")},T=function(a){var d=a.getFullYear(),c=a.getMonth()+1;c<10&&(c="0"+c);a=a.getDate();a<10&&(a="0"+a);return c+"/"+a+"/"+d},ja=function(a){var d=T(a),c=a.getHours();c<10&&(c="0"+c.toString());a=a.getMinutes();a<10&&(a="0"+a.toString());return d+" "+c+":"+a},M=function(a){return new Date(a.valueOf()+a.getTimezoneOffset()*6E4)},t=function(a){var d=new Date;if(a==null||a=="")return d;var c,b,f,e;f=a.indexOf(" ");if(f>=0){c=a.substr(0,f);e=a.substr(f+
1)}else{c=a;e="0"}f=c.indexOf("/");if(f>=0){for(a=c.substr(0,f);a.length>0&&a.substr(0,1)=="0";)a=a.substr(1);a=parseInt(a)-1;c=c.substr(f+1);f=c.indexOf("/");if(f>=0){b=c.substr(0,f);for(f=c.substr(f+1);f.length>0&&f.substr(0,1)=="0";)f=f.substr(1);c=parseInt(f)}else{b=c;c=d.getFullYear()}for(;b.length>0&&b.substr(0,1)=="0";)b=b.substr(1);b=parseInt(b)}else{for(;c.length>0&&c.substr(0,1)=="0";)c=c.substr(1);b=parseInt(c);a=d.getMonth();c=d.getFullYear()}var g;f=e.indexOf(":");if(f>=0){g=e.substr(0,
f);e=e.substr(f+1)}else{g=e;e="0"}for(;g.length>1&&g.substr(0,1)=="0";)g=g.substr(1);for(f=parseInt(g);e.length>1&&e.substr(0,1)=="0";)e=e.substr(1);e=parseInt(e);return isNaN(c)||isNaN(a)||isNaN(b)||c<=0||a<0||a>=12||b<1||b>Y[a]+(a!=1||!(c%400==0||(c%100==0?0:c%4==0))?0:1)?isNaN(f)||isNaN(e)||f<0||f>=24||e<0||e>=60?d:new Date(d.getFullYear(),d.getMonth(),d.getDate(),f,e,0,0):isNaN(f)||isNaN(e)||f<0||f>=24||e<0||e>=60?new Date(c,a,b,0,0,0,0):new Date(c,a,b,f,e,0,0)},k=function(a){return new Date(a.valueOf()-
a.getTimezoneOffset()*6E4)},j=function(a,d){var c=a.ownerDocument,b=c.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("style","width: 12px; height: 12px");b.setAttribute("focusable","false");c=c.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("id","PART_Border");c.setAttribute("width","12");c.setAttribute("height","12");c.setAttribute("style","fill: White; fill-opacity: 0");b.appendChild(c);a.setAttribute("id","PART_Button");typeof d.toggleButtonClass!=="undefined"&&
a.setAttribute("class",d.toggleButtonClass);typeof d.toggleButtonStyle!=="undefined"&&a.setAttribute("style",d.toggleButtonStyle);b.appendChild(a);return b},q=function(a,d){typeof d!=="object"&&(d={});Z(d);var c=[{header:"",width:32,isSelection:true},{header:"Task",width:140,isTreeView:true},{header:"Start",width:140},{header:"Finish",width:140},{header:"Milestone",width:80},{header:"Completed",width:80},{header:"Assignments",width:200}];c[0].cellTemplate=s(d,c[0],a);c[1].cellTemplate=C(d,c[1],a);
c[1].exportCellTemplate=C(d,c[1],a,false);c[2].cellTemplate=A(d,c[2]);c[2].exportCellTemplate=A(d,c[2],false);c[3].cellTemplate=ea(d,c[3]);c[3].exportCellTemplate=ea(d,c[3],false);c[4].cellTemplate=Mb(d,c[4]);c[4].exportCellTemplate=Mb(d,c[4],false);c[5].cellTemplate=Nb(d,c[5]);c[5].exportCellTemplate=Nb(d,c[5],false);c[6].cellTemplate=Ob(d,c[6]);c[6].exportCellTemplate=Ob(d,c[6],false);d.selectionMode!="Single"&&(d.selectionMode!="Extended"&&d.selectionMode!="ExtendedFocus")&&c.splice(0,1);return c},
s=function(a,d,c){return function(b){return!d.isReadOnly?r(b,a,c):U(b.ganttChartView.ownerDocument,b.isSelected)}},r=function(a,d){var c=a.ganttChartView.ownerDocument,b;if(typeof a.selectionInput==="undefined"){b=c.createElement("input");a.selectionInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px")}else b=a.selectionInput;if(a.isSelected){b.setAttribute("checked","checked");if(!b.checked)b.checked=true}else if(b.checked)b.checked=false;var f=function(){b.checked?o(a,true,d.selectionMode):
o(a,false,d.selectionMode)};typeof b.changeEventListener!=="undefined"&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",f,true);b.changeEventListener=f;c=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(a)}};typeof b.keyPressEventListener!=="undefined"&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",c,true);b.keyPressEventListener=c;return b},o=function(a,d,c){a.isSelected=d;y(a,"isSelected",
true,true);Pb(a);if(typeof a.ganttChartView!=null){a.ganttChartView.selectedItem=a;if(c!="Extended"&&c!="ExtendedFocus")a.ganttChartView.selectedItems=[a];var b;if(c!="Extended"&&c!="ExtendedFocus")for(b=0;b<a.ganttChartView.items.length;b++){d=a.ganttChartView.items[b];if(d!=a&&d.isSelected){d.isSelected=false;y(d,"isSelected",false,true);Pb(d)}}}if(typeof a.ganttChartView!=null&&(c=="Extended"||c=="ExtendedFocus")){c=[];for(b=0;b<a.ganttChartView.items.length;b++){d=a.ganttChartView.items[b];d.isSelected&&
c.push(d)}a.ganttChartView.selectedItems=c}},x=function(a,d){if(typeof a.ganttChartView!=null)a.ganttChartView.currentItem=a;if(d.selectionMode=="Focus"||d.selectionMode=="ExtendedFocus"){if(typeof a.scheduleChartItem!=="undefined")a=a.scheduleChartItem;a.isSelected||o(a,true,d.selectionMode)}},C=function(a,d,c,b){var f=function(a){return E(a.ganttChartView.ownerDocument,a.content)};return(typeof b==="undefined"||b)&&!a.isReadOnly&&!a.isGridReadOnly&&!a.isContentReadOnly?function(b){return!d.isReadOnly&&
(typeof b.isReadOnly==="undefined"||!b.isReadOnly)?z(b,Math.max(0,d.width-b.indentation*b.ganttChartView.settings.indentationLevelWidth-b.ganttChartView.settings.toggleButtonAreaWidth-16),a):f(b)}:f},z=function(a,d,c){var b=a.ganttChartView.ownerDocument,f;if(typeof a.contentInput==="undefined"){f=b.createElement("input");a.contentInput=f;f.type="text";f.addEventListener("focus",function(){x(a,c)},false);var e=function(){a.content=f.value;y(a,"content",true,true);ka(a)};typeof f.changeEventListener!==
"undefined"&&f.removeEventListener("change",f.changeEventListener,true);f.addEventListener("change",e,true);f.changeEventListener=e;b=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();e(a)}};typeof f.keyPressEventListener!=="undefined"&&f.removeEventListener("keypress",f.keyPressEventListener,true);f.addEventListener("keypress",b,true);f.keyPressEventListener=b;f.addEventListener("focus",function(){f.style.backgroundColor="White"},false);f.addEventListener("blur",function(){f.style.backgroundColor=
"Transparent"},false)}else f=a.contentInput;f.value=a.content;b="";if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))b="; font-weight: bold";f.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+b);return f},A=function(a,d,c){var b=function(b){return typeof b.start==="undefined"||typeof b.isSummaryEnabled!=="undefined"&&!b.isSummaryEnabled&&typeof b.isBarVisible!=="undefined"&&!b.isBarVisible?b.ganttChartView.ownerDocument.createTextNode(""):
b.ganttChartView.ownerDocument.createTextNode(a.dateTimeFormatter(M(b.start)))};return(typeof c==="undefined"||c)&&!a.isReadOnly&&!a.isGridReadOnly?function(c){return!d.isReadOnly&&(typeof c.isReadOnly==="undefined"||!c.isReadOnly)&&!(typeof c.isSummaryEnabled!=="undefined"&&!c.isSummaryEnabled&&typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)?Dc(c,Math.max(0,d.width-16),a):b(c)}:b},Dc=function(a,d,c){var b=a.ganttChartView.ownerDocument,f;if(typeof a.startInput==="undefined"){f=b.createElement("input");
a.startInput=f;try{f.type=c.dateTimePickerType}catch(e){f.type="text"}f.addEventListener("focus",function(){x(a,c)},false);f.addEventListener("focus",function(){f.style.backgroundColor="White"},false);f.addEventListener("blur",function(){f.style.backgroundColor="Transparent"},false)}else f=a.startInput;if(typeof a.start!=="undefined")f.value=c.dateTimeFormatter(M(a.start));DlhSoft.Controls.DatePicker&&(c.dateTimePickerType=="text"&&c.useDatePicker)&&f.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var d=
(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(f);if(!d||!d.isOpen){var l=0,e=0;try{l=f.selectionStart;e=f.selectionEnd}catch(g){}d=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(f,void 0,{inputStyle:null,isDropDownButtonVisible:false,defaultTimeOfDay:c.workingDayStart,dateTimeFormatter:c.dateTimeFormatter,dateTimeParser:c.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+
c.border,disabledDateSelector:Qb(c),disabledTimeSelector:Ec(c),calendarSelectorLevels:c.calendarSelectorLevels,months:c.months,daysOfWeek:I(c.daysOfWeek)},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");d.openDropDown();setTimeout(function(){try{f.selectionStart=l;f.selectionEnd=e}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{f.focus()}catch(a){}},100):
b.createEvent&&setTimeout(function(){var a=b.createEvent("MouseEvents");a.initEvent("blur",true,false);f.dispatchEvent(a)})}}},true);var g="";if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))g="; font-weight: bold";f.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+g);a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)?f.setAttribute("disabled","true"):f.removeAttribute("disabled");var l=function(){if(!a.hasChildren||
!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){var b=a.completedFinish>a.start,d,l;if(c.isTaskEffortPreservedWhenStartChangesInGrid){d=ha(a,c);l=wa(a,c)}a.start=K(k(c.dateTimeParser(f.value)),c,true,a.isMilestone,a.schedule);a.preferredStart=a.start;y(a,"start",true,true);if(a.finish<a.start){a.finish=a.start;y(a,"finish",false,true)}if(a.completedFinish<a.start||!b){a.completedFinish=a.start;y(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=
a.finish;y(a,"completedFinish",false,true)}if(typeof a.completedInput!=="undefined"){b=a.completedInput;typeof b.changeEventListener!=="undefined"&&b.removeEventListener("change",b.changeEventListener,true);delete a.completedInput}if(c.isTaskEffortPreservedWhenStartChangesInGrid){Va(a,d,c);Wa(a,l,c)}}X(a)};typeof f.changeEventListener!=="undefined"&&f.removeEventListener("change",f.changeEventListener,true);f.addEventListener("change",l,true);f.changeEventListener=l;d=function(a){if(a.keyCode==13){a.preventDefault();
a.stopPropagation();l(a)}};typeof f.keyPressEventListener!=="undefined"&&f.removeEventListener("keypress",f.keyPressEventListener,true);f.addEventListener("keypress",d,true);f.keyPressEventListener=d;return f},ea=function(a,d,c){var b=function(b){return typeof b.finish==="undefined"||typeof b.isMilestone!=="undefined"&&b.isMilestone==true&&typeof b.start!=="undefined"&&b.finish.valueOf()==b.start.valueOf()||typeof b.isSummaryEnabled!=="undefined"&&!b.isSummaryEnabled&&typeof b.isBarVisible!=="undefined"&&
!b.isBarVisible?b.ganttChartView.ownerDocument.createTextNode(""):b.ganttChartView.ownerDocument.createTextNode(a.dateTimeFormatter(M(b.finish)))};return(typeof c==="undefined"||c)&&!a.isReadOnly&&!a.isGridReadOnly?function(c){return!d.isReadOnly&&(typeof c.isReadOnly==="undefined"||!c.isReadOnly)&&!(typeof c.isSummaryEnabled!=="undefined"&&!c.isSummaryEnabled&&typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)?Fc(c,Math.max(0,d.width-16),a):b(c)}:b},Fc=function(a,d,c){var b=a.ganttChartView.ownerDocument,
f;if(typeof a.finishInput==="undefined"){f=b.createElement("input");a.finishInput=f;try{f.type=c.dateTimePickerType}catch(e){f.type="text"}f.addEventListener("focus",function(){x(a,c)},false);f.addEventListener("focus",function(){f.style.backgroundColor="White"},false);f.addEventListener("blur",function(){f.style.backgroundColor="Transparent"},false)}else f=a.finishInput;if(typeof a.finish!=="undefined")f.value=c.dateTimeFormatter(M(a.finish));DlhSoft.Controls.DatePicker&&(c.dateTimePickerType=="text"&&
c.useDatePicker)&&f.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var d=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(f);if(!d||!d.isOpen){var l=0,h=0;try{l=f.selectionStart;h=f.selectionEnd}catch(e){}d=(c.useTimePicker&&DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(f,void 0,{inputStyle:null,isDropDownButtonVisible:false,defaultTimeOfDay:c.workingDayFinish,
dateTimeFormatter:c.dateTimeFormatter,dateTimeParser:c.dateTimeParser,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid "+c.border,disabledDateSelector:Qb(c),disabledTimeSelector:D(c,a),calendarSelectorLevels:c.calendarSelectorLevels,months:c.months,daysOfWeek:I(c.daysOfWeek)},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");d.openDropDown();setTimeout(function(){try{f.selectionStart=l;
f.selectionEnd=h}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{f.focus()}catch(a){}},100):b.createEvent&&setTimeout(function(){var a=b.createEvent("MouseEvents");a.initEvent("blur",true,false);f.dispatchEvent(a)})}}},true);var g="";typeof a.isMilestone!=="undefined"&&a.isMilestone==true&&(g="; visibility: hidden");var l="";if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))l="; font-weight: bold";f.setAttribute("style",
"background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+g+l);a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)?f.setAttribute("disabled","true"):f.removeAttribute("disabled");var h=function(){if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){var b=k(c.dateTimeParser(f.value));f.value.length>0&&(f.value.indexOf(" ")<0&&fa(b)==0)&&(b=aa(b));a.finish=K(b,c,a.isMilestone,true,a.schedule);if(a.finish<a.start)a.finish=
a.start;y(a,"finish",true,true);if(a.completedFinish<a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}if(typeof a.completedInput!=="undefined"){b=a.completedInput;typeof b.changeEventListener!=="undefined"&&b.removeEventListener("change",b.changeEventListener,true);delete a.completedInput}}X(a)};typeof f.changeEventListener!=="undefined"&&f.removeEventListener("change",f.changeEventListener,
true);f.addEventListener("change",h,true);f.changeEventListener=h;d=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();h(a)}};typeof f.keyPressEventListener!=="undefined"&&f.removeEventListener("keypress",f.keyPressEventListener,true);f.addEventListener("keypress",d,true);f.keyPressEventListener=d;return f},Qb=function(a){return function(d){if(d.getDay()<a.workingWeekStart||d.getDay()>a.workingWeekFinish)return true;d=k(d).valueOf();if(a.specialNonworkingDays)for(var c=0;c<a.specialNonworkingDays.length;c++)if(d==
a.specialNonworkingDays[c].valueOf())return true;return false}},Ec=function(a){return function(d){return d<a.visibleDayStart||d>=a.visibleDayFinish}},D=function(a,d){return function(c){return($(d.start)<$(d.finish)?c<=a.visibleDayStart:c<a.visibleDayStart)||c>a.visibleDayFinish}},I=function(a){if(a){for(var d=[],c=0;c<a.length;c++){var b=a[c],b=b.length>0?b[0].toUpperCase()+(b.length>1?b[1]:""):"";d.push(b)}return d}},Mb=function(a,d,c){var b=function(a){return typeof a.isMilestone==="undefined"||
typeof a.isSummaryEnabled!=="undefined"&&!a.isSummaryEnabled&&typeof a.isBarVisible!=="undefined"&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):U(a.ganttChartView.ownerDocument,a.isMilestone)};return(typeof c==="undefined"||c)&&!a.isReadOnly&&!a.isGridReadOnly?function(c){return!d.isReadOnly&&(typeof c.isReadOnly==="undefined"||!c.isReadOnly)&&!(typeof c.isSummaryEnabled!=="undefined"&&!c.isSummaryEnabled&&typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)?S(c,a):b(c)}:b},
S=function(a,d){var c=a.ganttChartView.ownerDocument,b;if(typeof a.milestoneInput==="undefined"){b=c.createElement("input");a.milestoneInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px; margin-left: 2px; margin-right: 2px");b.addEventListener("focus",function(){x(a,d)},false)}else b=a.milestoneInput;(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))&&typeof a.isMilestone!=="undefined"&&a.isMilestone?b.setAttribute("checked",true):b.removeAttribute("checked");
if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){var f=function(){if(b.checked){a.isMilestone=true;y(a,"isMilestone",true,true);if(a.finish>a.start){a.finish=a.start;y(a,"finish",false,true)}if(a.completedFinish>a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}}else{a.isMilestone=false;y(a,"isMilestone",true,true)}X(a)};typeof b.changeEventListener!=="undefined"&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",
f,true);b.changeEventListener=f;c=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(a)}};typeof b.keyPressEventListener!=="undefined"&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",c,true);b.keyPressEventListener=c}else b.setAttribute("style","visibility: hidden");return b},Ob=function(a,d,c){var b=function(a){return typeof a.assignmentsContent==="undefined"||typeof a.isSummaryEnabled!=="undefined"&&!a.isSummaryEnabled&&typeof a.isBarVisible!==
"undefined"&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):E(a.ganttChartView.ownerDocument,a.assignmentsContent)};return(typeof c==="undefined"||c)&&!a.isReadOnly&&!a.isGridReadOnly&&!a.isAssignmentsContentReadOnly?function(c){return!d.isReadOnly&&(typeof c.isReadOnly==="undefined"||!c.isReadOnly)&&!(typeof c.isSummaryEnabled!=="undefined"&&!c.isSummaryEnabled&&typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)?Gc(c,Math.max(0,d.width-16),a):b(c)}:b},Gc=function(a,d,c){var b=
a.ganttChartView,f=b.ownerDocument,e;if(typeof a.assignmentsContentInput==="undefined"){e=f.createElement("input");a.assignmentsContentInput=e;e.type="text";e.addEventListener("focus",function(){x(a,c)},false);var g=function(){a.assignmentsContent=e.value;y(a,"assignmentsContent",true,true);la(a);var b=null;DlhSoft.Controls.MultiSelectorComboBox&&(b=DlhSoft.Controls.MultiSelectorComboBox.get(e));if(b!=null&&b.availableChoices.length>0)var c=setInterval(function(){if(!b.isOpen&&f.activeElement!=a.assignmentsContentInput){clearInterval(c);
X(a)}},100);else X(a)};typeof e.changeEventListener!=="undefined"&&e.removeEventListener("change",e.changeEventListener,true);e.addEventListener("change",function(a){e.dontAutoFocus=true;g(a)},true);e.changeEventListener=g;var l=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();typeof e.dontAutoFocus!=="undefined"&&delete e.dontAutoFocus;g(a)}};typeof e.keyPressEventListener!=="undefined"&&e.removeEventListener("keypress",e.keyPressEventListener,true);e.addEventListener("keypress",
l,true);e.keyPressEventListener=l;e.addEventListener("focus",function(){e.style.backgroundColor="White"},false);e.addEventListener("blur",function(){e.style.backgroundColor="Transparent"},false)}else e=a.assignmentsContentInput;if(typeof a.assignmentsContent!=="undefined")e.value=a.assignmentsContent;DlhSoft.Controls.MultiSelectorComboBox&&c.useResourceSelector&&e.addEventListener("focus",function(){if(!a.isWaitingToRefreshGridItem){var d=DlhSoft.Controls.MultiSelectorComboBox.get(e);if(!d||!d.isOpen&&
d.availableChoices.length>0){d=c.assignableResources;if(typeof d==="undefined"){d=Ha(b.items);c.assignableResources=d}var l=0,m=0;try{l=e.selectionStart;m=e.selectionEnd}catch(g){}d=DlhSoft.Controls.MultiSelectorComboBox.initialize(e,d,void 0,{inputStyle:null,autoAppendAvailableChoices:c.autoAppendAssignableResources,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; color: Black; border: 1px solid "+c.border+"; font-size: small; max-height: 188px; overflow-y: auto"},
"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");d.openDropDown();setTimeout(function(){try{e.selectionStart=l;e.selectionEnd=m}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{e.focus()}catch(a){}},100):f.createEvent&&setTimeout(function(){var a=f.createEvent("MouseEvents");a.initEvent("blur",true,false);e.dispatchEvent(a)})}}},true);l="";if(a.hasChildren&&
(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))l="; font-weight: bold";e.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+l);return e},Nb=function(a,d,c){var b=function(a){return typeof a.start==="undefined"||typeof a.finish==="undefined"||a.finish.valueOf()==a.start.valueOf()||typeof a.isSummaryEnabled!=="undefined"&&!a.isSummaryEnabled&&typeof a.isBarVisible!=="undefined"&&!a.isBarVisible?a.ganttChartView.ownerDocument.createTextNode(""):
U(a.ganttChartView.ownerDocument,a.ganttChartView.isItemCompleted(a))};return(typeof c==="undefined"||c)&&!a.isReadOnly&&!a.isGridReadOnly?function(c){return!d.isReadOnly&&(typeof c.isReadOnly==="undefined"||!c.isReadOnly)&&(!c.hasChildren||!(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled))&&!(typeof c.isSummaryEnabled!=="undefined"&&!c.isSummaryEnabled&&typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)?Hc(c,a):b(c)}:b},Hc=function(a,d){var c=a.ganttChartView.ownerDocument,b;if(typeof a.completedInput===
"undefined"){b=c.createElement("input");a.completedInput=b;b.type="checkbox";b.setAttribute("style","margin: 0px; margin-left: 2px; margin-right: 2px");b.addEventListener("focus",function(){x(a,d)},false)}else b=a.completedInput;a.isSetAsCompleted||(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))&&a.completedFinish>=a.finish&&a.finish>a.start&&(typeof a.isMilestone==="undefined"||!a.isMilestone)?b.setAttribute("checked",true):b.removeAttribute("checked");a.hasChildren&&
(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)&&b.setAttribute("style","visibility: hidden");var f=function(){if(b.checked){if(a.completedFinish<a.finish){a.completedFinish=a.finish;y(a,"completedFinish",true,true)}if(a.isMilestone||a.finish.valueOf()<=a.start.valueOf())a.isSetAsCompleted=true}else{if(a.completedFinish>a.start){a.completedFinish=a.start;y(a,"completedFinish",true,true)}if(a.isMilestone||a.finish.valueOf()<=a.start.valueOf())a.isSetAsCompleted=false}X(a)};typeof b.changeEventListener!==
"undefined"&&b.removeEventListener("change",b.changeEventListener,true);b.addEventListener("change",f,true);b.changeEventListener=f;c=function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(a)}};typeof b.keyPressEventListener!=="undefined"&&b.removeEventListener("keypress",b.keyPressEventListener,true);b.addEventListener("keypress",c,true);b.keyPressEventListener=c;return b},gb=function(a){for(var d=0,c=0;c<a.length;c++)d=d+a[c].width;return d},xc=function(a,d,c){for(var b=G(d.items,
c),f=0;f<a.length;f++){var e=a[f];e.ganttChartView=d;if(typeof e.width==="undefined")e.width=100;if(typeof e.minWidth==="undefined")e.minWidth=Math.min(e.width,c.minColumnWidth+(e.isTreeView?b:0));if(typeof e.maxWidth==="undefined")e.maxWidth=c.maxColumnWidth;if(typeof e.cellTemplate==="undefined")e.cellTemplate=function(a){return E(a.ganttChartView.ownerDocument,a.content)}}},Ac=function(a,d,c){var b=a.ownerDocument,f=b.createElement("div");typeof c.columnHeaderClass!=="undefined"&&f.setAttribute("class",
c.columnHeaderClass);typeof c.columnHeaderStyle!=="undefined"&&f.setAttribute("style",c.columnHeaderStyle);for(var e=0;e<d.length;e++)f.appendChild(Ic(b,d[e],c));a.appendChild(f)},Ic=function(a,d,c){var b=a.createElement("div");b.setAttribute("style","overflow-y: hidden; vertical-align: middle; display: table-cell; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; height: "+c.headerHeight+"px");var f=a.createElement("div");f.setAttribute("style","padding-left: 2px; padding-right: 2px; overflow-x: hidden; -wekbit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; width: "+
d.width+"px");var e=a.createElement("div");typeof d.headerClass!=="undefined"&&e.setAttribute("class",d.headerClass);typeof d.headerStyle!=="undefined"&&e.setAttribute("style",d.headerStyle);e.appendChild(E(a,d.header));f.appendChild(e);b.appendChild(f);if(d.width>=1&&(typeof c.allowUserToResizeColumns==="undefined"||c.allowUserToResizeColumns)&&(typeof d.allowUserToResize==="undefined"||d.allowUserToResize)){b.isGripperVisible=false;var g=d.ganttChartView,l=function(a){b.isGripperVisible=a;b.style.cursor=
a?"e-resize":"default";b.style.borderRight=a?"solid 1px "+c.border:"";f.style.width=d.width-(a?1:0)+"px"},h=c.splitterWidth;b.addEventListener("mouseover",function(a){if(!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(b.isGripperDragging||typeof a.offsetX==="undefined"&&a.currentTarget!=b))l((typeof a.offsetX!=="undefined"?a.offsetX:a.layerX-a.currentTarget.offsetLeft)>=d.width-h)},true);b.addEventListener("mousemove",function(a){if(!DlhSoft.Controls.GanttChartView.isGripperDragging&&!(b.isGripperDragging||
typeof a.offsetX==="undefined"&&a.currentTarget!=b))l((typeof a.offsetX!=="undefined"?a.offsetX:a.layerX-a.currentTarget.offsetLeft)>=d.width-h)},true);f.addEventListener("mouseover",function(a){!DlhSoft.Controls.GanttChartView.isGripperDragging&&(!b.isGripperDragging&&!(typeof a.offsetX!=="undefined"||a.currentTarget!=f))&&l(a.layerX-a.currentTarget.offsetLeft>=d.width-h)},false);f.addEventListener("mousemove",function(a){!DlhSoft.Controls.GanttChartView.isGripperDragging&&(!b.isGripperDragging&&
!(typeof a.offsetX!=="undefined"||a.currentTarget!=f))&&l(a.layerX-a.currentTarget.offsetLeft>=d.width-h)},false);b.addEventListener("mousedown",function(a){if(!(a.button!=0||!b.isGripperVisible||DlhSoft.Controls.GanttChartView.isGripperDragging)){DlhSoft.Controls.GanttChartView.isGripperDragging=true;b.isGripperDragging=true;b.initialGripperDraggingX=a.clientX;b.initialColumnWidth=d.width}},true);a.addEventListener("mousemove",function(a){if(b.isGripperDragging){d.width=Math.max(d.minWidth,b.initialColumnWidth+
(a.clientX-b.initialGripperDraggingX));if(typeof d.maxWidth!=="undefined"&&d.width>d.maxWidth)d.width=d.maxWidth;f.style.width=d.width-1+"px";typeof c.columnWidthChangeHandler!=="undefined"&&setTimeout(function(){c.columnWidthChangeHandler(d,d.width)},0);if(!g.isWaitingToRefreshColumns){g.isWaitingToRefreshColumns=true;setTimeout(function(){var a=gb(c.columns);g.gridHeader.style.width=a+"px";g.gridContent.style.width=a+"px";delete g.isWaitingToRefreshColumns;g.refreshGridItems()},0)}}},true);a.addEventListener("mouseup",
function(){if(b.isGripperDragging){delete b.isGripperDragging;delete b.initialGripperDraggingX;delete b.initialColumnWidth;l(false);delete DlhSoft.Controls.GanttChartView.isGripperDragging}},true);b.addEventListener("mouseout",function(){b.isGripperDragging||l(false)},false)}return b},Ta=function(a,d){for(var c=-1,b=null,f=null,e=[],g=0;g<a.length;g++){var l=a[g];if(typeof l.scheduleChartItem==="undefined"){if(typeof l.isSelected==="undefined")l.isSelected=false;if(l.isSelected){f==null&&(f=l);e.push(l)}if(typeof l.indentation===
"undefined")l.indentation=0;if(g==0&&l.indentation!=0){l.indentation=0;y(l,"indentation",false,true)}if(typeof l.isExpanded==="undefined")l.isExpanded=true;if(b!=null){var h=b.indentation+1;if(l.indentation>h){l.indentation=h;y(l,"indentation",false,true)}b.hasChildren=l.indentation>b.indentation;if(b.hasChildren&&typeof b.isMilestone!=="undefined"&&b.isMilestone){b.isMilestone=false;y(b,"isMilestone",false,true)}}}l.isVisible=c<0||l.indentation<=c;if(typeof l.scheduleChartItem==="undefined"){if(l.isVisible&&
!l.isExpanded)c=l.indentation;l.isExpanded&&l.indentation==c&&(c=-1);b=l}}if(b!=null)b.hasChildren=false;d.selectedItem=f;d.selectedItems=e},Ua=function(a,d,c){c.isTimingInformationInitialized=false;c.isBasicTimingInformationInitialized=false;var b=$(d.currentTime),f=[],e,g,l;for(g=0;g<a.length;g++){e=a[g];e.index=g;var h=null;for(f.length>0&&(h=f[f.length-1]);h!=null&&e.indentation<=h.indentation;){f.pop();h=f[f.length-1]}e.parent=h;e.children=[];h!=null&&h.children.push(e);if(!e.hasChildren||!(typeof e.isSummaryEnabled===
"undefined"||e.isSummaryEnabled)){l=e.start;var n=e.finish,m=e.completedFinish;if(typeof e.start==="undefined"){e.start=b;e.preferredStart=e.start}if(typeof e.finish==="undefined")e.finish=typeof e.isMilestone==="undefined"||!e.isMilestone?aa(b):e.start;if(typeof e.isSetAsCompleted==="undefined")e.isSetAsCompleted=typeof e.completedFinish!=="undefined"&&e.completedFinish.valueOf()==e.finish.valueOf();if(typeof e.completedFinish==="undefined")e.completedFinish=e.start;if(typeof e.isRelativeToTimezone===
"undefined"||e.isRelativeToTimezone){e.start=new Date(e.start.valueOf()-e.start.getTimezoneOffset()*6E4);e.preferredStart=e.start;e.finish=new Date(e.finish.valueOf()-e.finish.getTimezoneOffset()*6E4);e.completedFinish=typeof e.completedFinish==="number"?Q(e.start,e.completedFinish*J(e.start,e.finish,d,e.schedule),d,e.schedule):new Date(e.completedFinish.valueOf()-e.completedFinish.getTimezoneOffset()*6E4);if(typeof e.baselineStart!=="undefined")e.baselineStart=new Date(e.baselineStart.valueOf()-
e.baselineStart.getTimezoneOffset()*6E4);if(typeof e.baselineFinish!=="undefined")e.baselineFinish=new Date(e.baselineFinish.valueOf()-e.baselineFinish.getTimezoneOffset()*6E4);if(typeof e.minStart!=="undefined")e.minStart=new Date(e.minStart.valueOf()-e.minStart.getTimezoneOffset()*6E4);if(typeof e.maxStart!=="undefined")e.maxStart=new Date(e.maxStart.valueOf()-e.maxStart.getTimezoneOffset()*6E4);if(typeof e.minFinish!=="undefined")e.minFinish=new Date(e.minFinish.valueOf()-e.minFinish.getTimezoneOffset()*
6E4);if(typeof e.maxFinish!=="undefined")e.maxFinish=new Date(e.maxFinish.valueOf()-e.maxFinish.getTimezoneOffset()*6E4);e.isRelativeToTimezone=false}else if(typeof e.completedFinish==="number")e.completedFinish=Q(e.start,e.completedFinish*J(e.start,e.finish,d,e.schedule),d,e.schedule);if(typeof e.minStart!=="undefined"&&e.start<e.minStart)e.start=e.minStart;else if(typeof e.maxStart!=="undefined"&&e.start>e.maxStart)e.start=e.maxStart;if(typeof e.maxFinish!=="undefined"&&e.finish>e.maxFinish)e.finish=
e.maxFinish;else if(typeof e.minFinish!=="undefined"&&e.finish<e.minFinish)e.finish=e.minFinish;if(e.finish<e.start)e.finish=e.start;if(e.completedFinish<e.start)e.completedFinish=e.start;else if(e.completedFinish>e.finish)e.completedFinish=e.finish;if(typeof e.loadChartItem==="undefined")e.start=K(e.start,d,true,typeof e.isMilestone!=="undefined"&&e.isMilestone,e.schedule);typeof e.dependsOf!=="undefined"&&delete e.dependsOf;e.preferredStart=e.start;if(typeof e.loadChartItem==="undefined"){e.finish=
K(e.finish,d,typeof e.isMilestone!=="undefined"&&e.isMilestone,true,e.schedule);e.completedFinish=K(e.completedFinish,d,typeof e.isMilestone!=="undefined"&&e.isMilestone,true,e.schedule)}if(e.finish<e.start)e.finish=e.start;if(typeof e.isMilestone==="undefined")e.isMilestone=!(e.hasChildren&&(typeof e.isSummaryEnabled==="undefined"||e.isSummaryEnabled))&&e.finish.valueOf()==e.start.valueOf();if(e.completedFinish<e.start)e.completedFinish=e.start;if(e.completedFinish>e.finish)e.completedFinish=e.finish;
if(typeof e.isSetAsCompleted!=="undefined"&&(!e.isMilestone||e.completedFinish.valueOf()<e.finish.valueOf()))e.isSetAsCompleted=false;(typeof l==="undefined"||e.start.valueOf()!=l.valueOf())&&y(e,"start",false,true);(typeof n==="undefined"||e.finish.valueOf()!=n.valueOf())&&y(e,"finish",false,true);(typeof m==="undefined"||e.completedFinish.valueOf()!=m.valueOf())&&y(e,"completedFinish",false,true)}for(l=0;l<f.length;l++){n=f[l];if(typeof n.isSummaryEnabled==="undefined"||n.isSummaryEnabled){if(typeof n.start===
"undefined"||n.start>e.start){n.start=e.start;y(n,"start",false,true)}if(typeof n.finish==="undefined"||n.finish<e.finish){n.finish=e.finish;y(n,"finish",false,true)}if(typeof n.completedFinish==="undefined"||n.completedFinish.valueOf()!=n.start.valueOf()){n.completedFinish=n.start;y(n,"completedFinish",false,true)}}}(h==null||e.indentation>h.indentation)&&f.push(e)}c.isBasicTimingInformationInitialized=true;for(g=a.length;g-- >0;){e=a[g];e.hasChildren&&(typeof e.isSummaryEnabled==="undefined"||e.isSummaryEnabled)&&
Xa(e)}if(d.areTaskDependencyConstraintsEnabled)for(g=0;g<a.length;g++){e=a[g];typeof e.predecessors!=="undefined"&&(e.predecessors!=null&&e.predecessors.length>0)&&Ia(e,a,d,c)}c.isTimingInformationInitialized=true},Xa=function(a,d){if(!(a.children.length<=0||typeof a.isSummaryEnabled!=="undefined"&&!a.isSummaryEnabled)){typeof d==="undefined"&&(d=true);var c=a.start,b=a.finish,f=a.completedFinish;delete a.start;delete a.finish;delete a.completedFinish;for(var e=0;e<=1;e++){for(var g=0;g<a.children.length;g++){var l=
a.children[g];if(!(typeof l.isParentSummarizationEnabled!=="undefined"&&!l.isParentSummarizationEnabled&&e<1)){if(typeof a.start==="undefined"||a.start>l.start)a.start=l.start;if(typeof a.finish==="undefined"||a.finish<l.finish)a.finish=l.finish}}if(typeof a.start!=="undefined"&&typeof a.finish!=="undefined")break}a.completedFinish=a.start;(typeof c==="undefined"||a.start.valueOf()!=c.valueOf())&&y(a,"start",false,d);(typeof b==="undefined"||a.finish.valueOf()!=b.valueOf())&&y(a,"finish",false,d);
(typeof f==="undefined"||a.completedFinish.valueOf()!=f.valueOf())&&y(a,"completedFinish",false,d)}},mb=function(a,d){return a==d||lb(a,d)||lb(d,a)},lb=function(a,d){var c=a.parent;return c==null?false:(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled)&&c==d?true:lb(c,d)},Da=function(a,d){if(typeof a.predecessors==="undefined")return false;for(var c=0;c<a.predecessors.length;c++)if(a.predecessors[c].item==d)return true;return false},$=function(a){return new Date(Math.floor(a.valueOf()/
864E5)*864E5)},fa=function(a){return a.valueOf()-$(a).valueOf()},ia=function(a){a=Math.floor((a.valueOf()-2592E5)/864E5)%7;a<0&&(a=a+7);return a},ua=function(a,d){$(a);return new Date(Math.floor((a.valueOf()-2592E5)/6048E5)*6048E5+2592E5+d*864E5)},ib=function(a,d){var c=ua(a,d);return Math.abs(c.valueOf()-a.valueOf())<=36E5?c:new Date(c.valueOf()+6048E5)},Ya=function(a){return a.hourWidth*(a.visibleDayFinish-a.visibleDayStart)/36E5},F=function(a,d){var c=Ya(d),b=Ya(d)*(d.visibleWeekFinish-d.visibleWeekStart+
1),f=ua(a,d.weekStartDay),f=Math.floor((f-d.timelineStart)/6048E5)*b-Math.max(0,d.weekStartDay-d.visibleWeekStart)*c,b=ia(a),f=b<=d.visibleWeekStart?f+0:b>d.visibleWeekFinish?f+(d.visibleWeekFinish-d.visibleWeekStart+1)*c:f+(b-d.visibleWeekStart)*c,c=fa(a);b>=d.visibleWeekStart&&b<=d.visibleWeekFinish&&(f=c<=d.visibleDayStart?f+0:c>=d.visibleDayFinish?f+(d.visibleDayFinish-d.visibleDayStart)/36E5*d.hourWidth:f+(c-d.visibleDayStart)/36E5*d.hourWidth);return f},Ca=function(a,d){for(var c=d.timelineStart.valueOf(),
b=Ya(d),f=Ya(d)*(d.visibleWeekFinish-d.visibleWeekStart+1);a>f;){c=c+6048E5;a=a-f}for(c=c+Math.max(0,d.visibleWeekStart-d.weekStartDay)*864E5;a>b;){c=c+864E5;a=a-b}c=c+d.visibleDayStart;c=c+a/d.hourWidth*36E5;return new Date(c)},Db=function(a){switch(a.theme){default:return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px"},{scaleType:"Days",
headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px"},{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: #8bbf8a; stroke-width: 0.5px"}];case "ModernBordered":return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px White; border-bottom: solid 1px White",
isSeparatorVisible:true,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px White"},{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: #8bbf8a; stroke-width: 1px"}];case "Aero":return[{scaleType:"NonworkingTime",isHeaderVisible:false,isHighlightingVisible:true,highlightingStyle:"stroke-width: 0; fill: #f4f4f4; fill-opacity: 0.65"},{scaleType:"Weeks",
headerTextFormat:"Date",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7; border-bottom: solid 1px #c8bfe7",isSeparatorVisible:true,separatorStyle:"stroke: #c8bfe7; stroke-width: 0.5px"},{scaleType:"Days",headerTextFormat:"DayOfWeekAbbreviation",headerStyle:"padding: 2.25px; border-right: solid 1px #c8bfe7"},{scaleType:"CurrentTime",isHeaderVisible:false,isSeparatorVisible:true,separatorStyle:"stroke: Black; stroke-width: 1px"}]}},ma=function(a,d){return new Date(Math.floor((a-2592E5).valueOf()/
d.updateScale)*d.updateScale+2592E5)},hb=function(a,d,c,b,f){typeof f==="undefined"&&(f=false);var e=a.ownerDocument,g=0,l,h;for(l=0;l<c.length;l++){h=c[l];(typeof h.isHeaderVisible==="undefined"||h.isHeaderVisible)&&g++}var n=b.headerHeight;g>0&&(n=b.headerHeight/g);for(l=0;l<c.length;l++){h=c[l];if(!f||!(h.scaleType!="CurrentTime"&&h.scaleType!="FutureTime")){g=Jc(h,b);if(typeof g!=="undefined"){g.length==0&&g.push({start:b.timelineStart,finish:b.timelineFinish});var m=n;if(typeof h.headerHeight!==
"undefined")m=h.headerHeight;for(var u=b.timelineStart,v=0;v<g.length;v++){var w=g[v],B=w.start,p=w.finish;if(h.scaleType!="CurrentTime"&&h.scaleType!="FutureTime"&&h.scaleType!="NonworkingTime"){if(B>u&&(typeof h.isHeaderVisible==="undefined"||h.isHeaderVisible))B=u;B<u&&(B=u);if(B<b.timelineStart)B=b.timelineStart;if(p>b.timelineFinish)p=b.timelineFinish;p<B&&(p=B);if(v==g.length-1&&p<b.timelineFinish&&(typeof h.isHeaderVisible==="undefined"||h.isHeaderVisible))p=b.timelineFinish;w.start=B;u=w.finish=
p}var B=F(B,b),p=F(p,b),j=p-B;if(!(j<=0)){if(typeof h.isHeaderVisible==="undefined"||h.isHeaderVisible){var w=Kc(h,w,b),k=e.createElement("div");k.setAttribute("style","float: left; overflow: hidden; width: "+j+"px; height: "+m+"px");var o=e.createElement("div");o.setAttribute("class",h.headerClass);o.setAttribute("style",h.headerStyle);o.appendChild(E(e,w));k.appendChild(o);a.appendChild(k)}w=false;if(typeof h.isHighlightingVisible!=="undefined")w=h.isHighlightingVisible;if(w){w=e.createElementNS("http://www.w3.org/2000/svg",
"rect");w.setAttribute("x",B-1);w.setAttribute("y",0);w.setAttribute("width",j);w.setAttribute("height",0);w.setAttribute("class",h.highlightingClass);w.setAttribute("style",h.highlightingStyle);w.tag="Scale-Highlighting"+(h.scaleType!="CurrentTime"&&h.scaleType!="FutureTime"?"":"-CurrentTime");d.appendChild(w)}B=false;if(typeof h.isSeparatorVisible!=="undefined")B=h.isSeparatorVisible;if(B){B=e.createElementNS("http://www.w3.org/2000/svg","line");B.setAttribute("x1",p-0.75);B.setAttribute("y1",0);
B.setAttribute("x2",p-0.75);B.setAttribute("y2",0);B.setAttribute("class",h.separatorClass);B.setAttribute("style",h.separatorStyle);B.tag="Scale-Separator"+(h.scaleType!="CurrentTime"&&h.scaleType!="FutureTime"?"":"-CurrentTime");d.appendChild(B)}}}}}}},Jc=function(a,d){var c="Custom",b,f;if(typeof a.scaleType!=="undefined")c=a.scaleType;switch(c){case "CurrentTime":return[{start:d.timelineStart,finish:d.currentTime}];case "FutureTime":return[{start:d.currentTime,finish:d.timelineFinish}];case "Years":c=
[];b=new Date(d.timelineStart.valueOf());f=b.getTimezoneOffset();b.setMonth(0,1);var e=b.getTimezoneOffset();for(b=new Date(b.valueOf()-(e-f)*6E4-(e>0?864E5:0));f=Lc(b),b<d.timelineFinish;b=f)c.push({start:b,finish:f});return c;case "Months":c=[];b=new Date(d.timelineStart.valueOf());f=b.getTimezoneOffset();b.setDate(1);e=b.getTimezoneOffset();for(b=new Date(b.valueOf()-(e-f)*6E4-(e>0?864E5:0));f=Mc(b),b<d.timelineFinish;b=f)c.push({start:b,finish:f});return c;case "Weeks":c=[];b=d.timelineStart;
f=d.weekStartDay;for(e=d.visibleWeekStart;ia(b)!=f;)b=Ja(b);for(;ia(b)<e;)b=aa(b);for(b=new Date(b.valueOf());f=va(b),b<d.timelineFinish;b=f)c.push({start:b,finish:f});return c;case "Days":c=[];for(b=d.timelineStart;f=aa(b),b<d.timelineFinish;b=f)c.push({start:b,finish:f});return c;case "Hours":c=[];for(b=new Date($(d.timelineStart).valueOf()+d.visibleDayStart);f=Nc(new Date(b.valueOf()+36E5),d.visibleDayFinish,d.visibleDayStart),b<d.timelineFinish;b=f)c.push({start:b,finish:f});return c;case "NonworkingTime":c=
[];b=jb(d.timelineStart,d.workingWeekFinish);for(f=kb(b,d.workingWeekStart);b<d.timelineFinish;b=va(b),f=va(f))c.push({start:b,finish:f});if(typeof d.specialNonworkingDays!=="undefined")for(e=0;e<d.specialNonworkingDays.length;e++){b=d.specialNonworkingDays[e];f=aa(b);c.push({start:b,finish:f})}return c;default:return a.intervals}},Nc=function(a,d,c){if(fa(a)>d){a=aa(a);return new Date($(a).valueOf()+c)}return new Date(a.valueOf())},aa=function(a){return new Date(a.valueOf()+864E5)},Ja=function(a){return new Date(a.valueOf()-
864E5)},va=function(a){return new Date(a.valueOf()+6048E5)},Mc=function(a){var d=a.getTimezoneOffset(),a=new Date(a.valueOf()+(d>0?864E5:0)),c=a.getMonth()+1;if(c>=12){c=0;a.setFullYear(a.getFullYear()+1)}a.setMonth(c,1);c=a.getTimezoneOffset();return new Date(a.valueOf()-(c-d)*6E4-(c>0?864E5:0))},Lc=function(a){var d=a.getTimezoneOffset(),a=new Date(a.valueOf()+(d>0?864E5:0));a.setFullYear(a.getFullYear()+1);a.setMonth(0,1);var c=a.getTimezoneOffset();return new Date(a.valueOf()-(c-d)*6E4-(c>0?864E5:
0))},Rb=function(a,d){if(typeof d==="undefined")return false;for(var c=a.valueOf(),b=0;b<d.length;b++)if(d[b].valueOf()==c)return true;return false},jb=function(a,d){for(;ia(a)!=d;)a=Ja(a);return aa(a)},kb=function(a,d){for(;ia(a)!=d;)a=aa(a);return new Date(a.valueOf())},Kc=function(a,d,c){var b="Date";if(typeof a.headerTextFormat!=="undefined")b=a.headerTextFormat;a=d.start;if(a<c.timelineStart)a=c.timelineStart;if(typeof b==="function")return b(a);switch(b){case "Localized":return a.toLocaleString();
case "DateTime":return c.dateTimeFormatter(M(a));case "Date":return c.dateFormatter(M(a));case "Hour":a=new Date(a.valueOf()+a.getTimezoneOffset()*6E4);return(a.getHours()<10?"0":"")+a.getHours();case "DayOfWeek":return c.daysOfWeek[ia(a)];case "DayOfWeekAbbreviation":d=c.daysOfWeek[ia(a)];return d.length>0?d[0].toUpperCase():"";case "Day":a=new Date(a.valueOf()+a.getTimezoneOffset()*6E4);return(a.getDate()<10?"0":"")+a.getDate();case "Month":return c.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+
720)*6E4)).getMonth()];case "MonthAbbreviation":d=c.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*6E4)).getMonth()];return d.length<=0?"":d[0].toUpperCase()+(d.length>1?d.substr(1,Math.min(3,d.length)-1):"");case "Year":return(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*6E4)).getFullYear();case "MonthYear":return c.months[(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*6E4)).getMonth()]+" "+(new Date(a.valueOf()+(a.getTimezoneOffset()+720)*6E4)).getFullYear();default:return d.headerText?
d.headerText:a.toString()}},Bc=function(a,d,c,b,f,e,g){for(var l=0,h=0;h<b.length;h++){var n=b[h];g.isGridVisible&&typeof n.displayRowIndex==="undefined"&&a.appendChild(Sb(n,b,f,d,e,g));var m=l;typeof n.displayRowIndex!=="undefined"&&(m=n.displayRowIndex*g.itemHeight);c.appendChild(Tb(n,m,g));n.isVisible&&!(typeof n.isHidden!=="undefined"&&n.isHidden)&&(l=Math.max(l,m+g.itemHeight));n.itemTop=m}ra(d,l);setTimeout(function(){Za(b,d,g)},0)},sa=function(a,d){for(var c=0,b=0,f=-1,e=0;e<a.length;e++){var g=
a[e];if((typeof g.scheduleChartItem==="undefined"||g.scheduleChartItem==g)&&g.isVisible&&!(typeof g.isHidden!=="undefined"&&g.isHidden))if(typeof g.displayRowIndex==="undefined"&&b>f){c=c+d.itemHeight;f=b++}else{c=Math.max(c,g.itemTop+d.itemHeight);f=g.displayRowIndex}}return c},xa=function(a,d,c){if(a.isPart)return xa(a.ganttChartItem,d,c);var b;if(typeof a.displayRowIndex!=="undefined"){b=a.displayRowIndex*c.itemHeight;return a.itemTop=b}for(var f=b=0;f<d.length;f++){var e=d[f];if(e==a)break;e.isVisible&&
(!(typeof e.isHidden!=="undefined"&&e.isHidden)&&typeof e.displayRowIndex==="undefined")&&(b=b+c.itemHeight)}return a.itemTop=b},Za=function(a,d,c){if(!(typeof c.alternativeItemClass==="undefined"&&typeof c.alternativeItemStyle==="undefined"&&typeof c.alternativeChartItemClass==="undefined"&&typeof c.alternativeChartItemStyle==="undefined")){var b=d.chartAreaAlternativeRows,f,e=0;b.count=e;for(f=0;f<a.length;f++){var g=a[f];if(g.isVisible&&typeof g.alternativeContentContainer!=="undefined"){g=g.alternativeContentContainer;
if(e%2==1){typeof c.alternativeItemClass!=="undefined"&&g.setAttribute("class",c.alternativeItemClass);typeof c.alternativeItemStyle!=="undefined"&&g.setAttribute("style",c.alternativeItemStyle);if(typeof c.alternativeChartItemClass!=="undefined"||typeof c.alternativeChartItemStyle!=="undefined")if(typeof b.count==="undefined"||e>b.count){g=document.createElementNS("http://www.w3.org/2000/svg","rect");g.setAttribute("x",0);g.setAttribute("y",e*c.itemHeight);g.setAttribute("width",d.clientWidth);g.setAttribute("height",
c.itemHeight);typeof c.alternativeChartItemClass!=="undefined"&&g.setAttribute("class",c.alternativeChartItemClass);typeof c.alternativeChartItemStyle!=="undefined"&&g.setAttribute("style",c.alternativeChartItemStyle);g.index=e;b.appendChild(g)}b.count=e}else{g.setAttribute("class","");g.setAttribute("style","")}e++}}for(f=b.childNodes.length;f-- >0;){a=b.childNodes[f];a.index>b.count&&b.removeChild(a)}}},Sb=function(a,d,c,b,f,e){var g=a.ganttChartView.ownerDocument,l=g.createElement("div");typeof e.itemClass!==
"undefined"&&l.setAttribute("class",e.itemClass);typeof e.itemStyle!=="undefined"&&l.setAttribute("style",e.itemStyle);var h=g.createElement("div");a.alternativeContentContainer=h;var n=g.createElement("div");try{n.addEventListener("mousedown",function(b){b.target!=a.selectionInput&&x(a,e)},false);n.addEventListener("mouseup",function(b){b.target!=a.selectionInput&&x(a,e)},false)}catch(m){}if(a.isSelected){typeof e.selectedItemClass!=="undefined"&&n.setAttribute("class",e.selectedItemClass);typeof e.selectedItemStyle!==
"undefined"&&n.setAttribute("style",e.selectedItemStyle)}var u=g.createElement("div");typeof a["class"]!=="undefined"&&u.setAttribute("class",a["class"]);typeof a.style!=="undefined"&&u.setAttribute("style",a.style);var v=g.createElement("div");if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){typeof e.summaryItemClass!=="undefined"&&v.setAttribute("class",e.summaryItemClass);typeof e.summaryItemStyle!=="undefined"&&v.setAttribute("style",e.summaryItemStyle)}else if(a.isMilestone){typeof e.milestoneItemClass!==
"undefined"&&v.setAttribute("class",e.milestoneItemClass);typeof e.milestoneItemStyle!=="undefined"&&v.setAttribute("style",e.milestoneItemStyle)}else{typeof e.standardItemClass!=="undefined"&&v.setAttribute("class",e.standardItemClass);typeof e.standardItemStyle!=="undefined"&&v.setAttribute("style",e.standardItemStyle)}g=g.createElement("div");a.gridItem=g;a.gridItemContent=v;a.gridItemSelectionContainer=n;var w=e.itemHeight;if(!a.isVisible||typeof a.isHidden!=="undefined"&&a.isHidden)w=0;g.setAttribute("style",
"overflow: hidden; height: "+w+"px");ya(g,a,d,c,b,f,e);v.appendChild(g);u.appendChild(v);n.appendChild(u);h.appendChild(n);l.appendChild(h);a.gridItemContainer=l;(typeof e.isGridRowClickTimeScrollingEnabled==="undefined"||e.isGridRowClickTimeScrollingEnabled)&&l.addEventListener("mouseup",function(){var c;if(typeof a.ganttChartItems==="undefined")c=a.start;else{c=null;for(var d=0;d<a.ganttChartItems.length;d++)if(c==null||a.ganttChartItems[d].start<c)c=a.ganttChartItems[d].start;c=c==null?a.start:
c}c=F(c,e);d=c-e.hourWidth*8;c-d>=b.container.clientWidth/2.5&&(d=c);b.container.scrollLeft=Math.max(0,d)},true);return l},ya=function(a,d,c,b,f,e,g){var l=d.ganttChartView.ownerDocument;if(!g.isVirtualizing||typeof d.isVirtuallyVisible!=="undefined"&&d.isVirtuallyVisible){var h=function(){if(typeof d.gridItemSelectionContainer!=="undefined"){var h=d.gridItemSelectionContainer;typeof g.selectedItemClass!=="undefined"&&h.setAttribute("class",d.isSelected?g.selectedItemClass:null);typeof g.selectedItemStyle!==
"undefined"&&h.setAttribute("style",d.isSelected?g.selectedItemStyle:null)}if(typeof d.gridItemContent!=="undefined"){h=d.gridItemContent;h.setAttribute("class","");h.setAttribute("style","");if(d.hasChildren&&(typeof d.isSummaryEnabled==="undefined"||d.isSummaryEnabled)){typeof g.summaryItemClass!=="undefined"&&h.setAttribute("class",g.summaryItemClass);typeof g.summaryItemStyle!=="undefined"&&h.setAttribute("style",g.summaryItemStyle)}else if(d.isMilestone){typeof g.milestoneItemClass!=="undefined"&&
h.setAttribute("class",g.milestoneItemClass);typeof g.milestoneItemStyle!=="undefined"&&h.setAttribute("style",g.milestoneItemStyle)}else{typeof g.standardItemClass!=="undefined"&&h.setAttribute("class",g.standardItemClass);typeof g.standardItemStyle!=="undefined"&&h.setAttribute("style",g.standardItemStyle)}}var h=[],m=null;try{m=l.activeElement}catch(u){}for(;m!=null&&m!=d.gridItem;){h.push(m);m=m.parentNode}for(var v=-1,m=a.childNodes.length;m-- >0;)if(h.indexOf(a.childNodes[m])>=0){v=m;break}for(m=
a.childNodes.length;m-- >0;)a.removeChild(a.childNodes[m]);for(m=0;m<b.length;m++)a.appendChild(Ub(d,c,b[m],f,e,g));typeof d.ganttChartView.draggingItem==="undefined"&&v>=0&&setTimeout(function(){try{for(var b=a.childNodes[v];b.nodeName!="input"&&b.nodeName!="textarea"&&b.nodeName!="label"&&b.nodeName!="select"&&b.nodeName!="button"&&b.childNodes.length>0;)b=b.childNodes[0];b&&b.dontAutoFocus?delete b.dontAutoFocus:setTimeout(function(){try{b.focus()}catch(a){}},0)}catch(c){}},0)};if(d.wasGridItemContentLoaded)setTimeout(h,
0);else{h();d.wasGridItemContentLoaded=true}}},Ka=function(a){if(typeof a.isWaitingToRefreshGridItem==="undefined"){a.isWaitingToRefreshGridItem=true;setTimeout(function(){typeof a.gridItem!=="undefined"&&ya(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings);delete a.isWaitingToRefreshGridItem},0)}},Oc=function(a,d,c,b,f,e,g){var l=d.ganttChartView.ownerDocument;(!g.isVirtualizing||
typeof d.isVirtuallyVisible!=="undefined"&&d.isVirtuallyVisible)&&setTimeout(function(){if(typeof d.gridItemSelectionContainer!=="undefined"){var h=d.gridItemSelectionContainer;typeof g.selectedItemClass!=="undefined"&&h.setAttribute("class",d.isSelected?g.selectedItemClass:null);typeof g.selectedItemStyle!=="undefined"&&h.setAttribute("style",d.isSelected?g.selectedItemStyle:null)}var h=[],n=null;try{n=l.activeElement}catch(m){}for(;n!=null&&n!=d.gridItem;){h.push(n);n=n.parentNode}for(var u=-1,
n=a.childNodes.length;n-- >0;)if(a.childNodes[n].isSelection&&h.indexOf(a.childNodes[n])>=0){u=n;break}for(n=a.childNodes.length;n-- >0;)a.childNodes[n].isSelection&&a.removeChild(a.childNodes[n]);for(n=0;n<b.length;n++)b[n].isSelection&&n<a.childNodes.length&&a.insertBefore(Ub(d,c,b[n],f,e,g),a.childNodes[n]);typeof d.ganttChartView.draggingItem==="undefined"&&u>=0&&setTimeout(function(){try{for(var b=a.childNodes[u];b.nodeName!="input"&&b.nodeName!="textarea"&&b.nodeName!="label"&&b.nodeName!="select"&&
b.nodeName!="button"&&b.childNodes.length>0;)b=b.childNodes[0];b&&b.dontAutoFocus?delete b.dontAutoFocus:setTimeout(function(){try{b.focus()}catch(a){}},0)}catch(c){}},0)},0)},Pb=function(a){typeof a.gridItem!=="undefined"&&Oc(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings)},Ub=function(a,d,c,b,f,e){var g=a.ganttChartView.ownerDocument,l=g.createElement("div"),h=0;c.isTreeView==
true&&(h=e.indentationLevelWidth*a.indentation);l.setAttribute("style","overflow: hidden; vertical-align: middle; display: table-cell; -webkit-box-sizing: border-box; -moz-box-sizing: border-box; box-sizing: border-box; margin: 0px; padding: 0px; width: "+c.width+"px; height: "+e.itemHeight+"px; padding-left: "+h+"px");var n=g.createElement("div");typeof c.cellClass!=="undefined"?n.setAttribute("class",c.cellClass):typeof e.cellClass!=="undefined"&&n.setAttribute("class",e.cellClass);typeof c.cellStyle!==
"undefined"?n.setAttribute("style",c.cellStyle):typeof e.cellStyle!=="undefined"&&n.setAttribute("style",e.cellStyle);var m=g.createElement("div");m.setAttribute("style","white-space: nowrap; overflow: hidden; margin: 0px; padding: 0px; width: "+(c.width-h-16)+"px");if(c.isTreeView==true){h=g.createElement("div");h.setAttribute("style","display: inline-block; width: "+f+"px");if(a.hasChildren){f=g.createElement("div");f.setAttribute("style","cursor: default; padding-left: 1px; font-size: 12px; display: inline-block");
g=e.collapsedToggleButtonTemplate;if(a.isExpanded)g=e.expandedToggleButtonTemplate;g=g();f.appendChild(g);Vb(f,a,d,g,b,null,null,e);h.appendChild(f)}m.appendChild(h)}a=c.cellTemplate(a);m.appendChild(a);n.appendChild(m);l.appendChild(n);l.isSelection=c.isSelection;return l},Bb=function(a,d){return function(){var c=a.ownerDocument.createElementNS("http://www.w3.org/2000/svg","polygon");c.setAttribute("points","3.5,2.5 3.5,11.5 10.5,6.5");return j(c,d)}},Cb=function(a,d){return function(){var c=a.ownerDocument.createElementNS("http://www.w3.org/2000/svg",
"polygon");c.setAttribute("points","2.5,3.5 11.5,3.5 6.5,10.5");return j(c,d)}},Vb=function(a,d,c,b,f,e,g,l){if(typeof e==="undefined"||e==null)e=b.querySelector("#PART_Button");e!=null&&Wb(e,e,l);if(typeof g==="undefined"||g==null)g=b.querySelector("#PART_Border");g!=null&&Wb(g,e,l);c={toggleButton:a,item:d,items:c,content:b,chartContent:f,settings:l};if(e!=null){e.tag=c;(typeof l.isExport==="undefined"||!l.isExport)&&e.addEventListener("mouseup",nb,true)}if(g!=null){g.tag=c;(typeof l.isExport===
"undefined"||!l.isExport)&&g.addEventListener("mouseup",nb,true)}a.tag=c;e==null&&(g==null&&(typeof l.isExport==="undefined"||!l.isExport))&&a.addEventListener("mouseup",nb,true);b.addEventListener("keypress",function(a){if(a.keyCode==32){a.preventDefault();a.stopPropagation();da(d,!d.isExpanded,true)}},true);d.toggleButton=a},Wb=function(a,d,c){if(!(typeof c.isExport!=="undefined"&&c.isExport)){a.addEventListener("mouseover",function(){typeof c.toggleButtonHoveringClass!=="undefined"&&d.setAttribute("class",
c.toggleButtonHoveringClass);typeof c.toggleButtonHoveringStyle!=="undefined"&&d.setAttribute("style",c.toggleButtonHoveringStyle)},true);a.addEventListener("mouseout",function(){d.setAttribute("class",c.toggleButtonClass);d.setAttribute("style",c.toggleButtonStyle)},true)}},nb=function(a){a.stopPropagation();a=a.target.tag.item;da(a,!a.isExpanded,true)},da=function(a,d,c,b){if(a.isExpanded!=d){a.isExpanded=d;(typeof b==="undefined"||b)&&y(a,"isExpanded",c,true);Xb(a)}},Xb=function(a,d){if(typeof a.toggleButton===
"undefined")(typeof d==="undefined"||d)&&setTimeout(function(){Xb(a,false)},0);else{var c=a.toggleButton,b=c.tag,f=b.settings,e=f.expandedToggleButtonTemplate,g=f.collapsedToggleButtonTemplate;a.isExpanded&&(g=e);var e=g(),g=e.querySelector("#PART_Button"),l=e.querySelector("#PART_Border");c.replaceChild(e,b.content);b.content=e;var h=b.items,b=b.chartContent;Vb(c,a,h,e,b,g,l,f);a.isVisible&&!(typeof a.isHidden!=="undefined"&&a.isHidden)&&Pc(h,a,b,f);la(a);Za(h,b,f);c=a.scheduleChartView;if(typeof c!==
"undefined")for(f=a.scheduleChartIndex;f<c.scheduleChartItems.length;f++){b=c.scheduleChartItems[f];if(typeof b.ganttChartItems!=="undefined")for(e=0;e<b.ganttChartItems.length;e++){g=b.ganttChartItems[e];g.displayRowIndex=b.itemTop/c.settings.itemHeight;c.refreshChartItem(g)}}}},Pc=function(a,d,c,b){var f=-1,e=false,g=false,l=false,h=0,n,m,u,v=[];for(m=0;m<a.length;m++){u=a[m];if(u==d){e=u.isExpanded;f=u.indentation}else u.indentation<=f&&(l=true);var w=u.chartItem;if(g&&!l){if(e){n=true;for(var B=
u.parent;B!=null;){if(!B.isVisible||!B.isExpanded){n=false;break}B=B.parent}}else n=false;if(u.isVisible!=n){u.isVisible=e;y(u,"isVisible",false,true);n=b.itemHeight;if(!u.isVisible||typeof u.isHidden!=="undefined"&&u.isHidden)n=0;if(typeof u.gridItem!=="undefined")u.gridItem.style.height=n+"px";n="visible";if(!u.isVisible||typeof u.isHidden!=="undefined"&&u.isHidden)n="hidden";w.setAttribute("style","visibility: "+n)}}if(typeof u.displayRowIndex==="undefined"){w.setAttribute("transform","translate(0, "+
h+")");Ea(u,h)}u==d&&(g=true);n=b.itemHeight;if(!u.isVisible||typeof u.isHidden!=="undefined"&&u.isHidden)n=0;if(u.itemTop!=h)u.itemTop=h;typeof u.displayRowIndex==="undefined"&&(h=h+n);if(u.predecessors&&u.predecessors.length>0&&v.indexOf(u)<0){v.push(u);for(w=0;w<u.predecessors.length;w++){n=u.predecessors[w].item;v.indexOf(n)<0&&v.push(n)}}}ra(c,h);na(a,d);if(b.areTaskDependenciesVisible)for(m=0;m<v.length;m++)na(a,v[m]);ta(a,c.container,b)},Ea=function(a,d){typeof a.parts==="undefined"||a.parts.length<=
0||setTimeout(function(){for(var c=0;c<a.parts.length;c++){var b=a.parts[c];b.itemTop=d;if(typeof b.chartItem!=="undefined"){b.chartItem.setAttribute("transform","translate(0, "+d+")");b.chartItem.style.visibility=a.chartItem.style.visibility;if(typeof b.isInternallyHidden!=="undefined"){delete b.isInternallyHidden;b.chartItem.style.display="initial"}}}},0)},ra=function(a,d){if(d<a.availableHeight)d=a.availableHeight;a.style.height=d+"px";var c=a.chartArea;c.style.height=d+"px";for(var b=0;b<c.childNodes.length;b++){var f=
c.childNodes[b];if(typeof f.tag!=="undefined")switch(f.tag){case "Scale-Highlighting":case "Scale-Highlighting-CurrentTime":f.setAttribute("height",d);break;case "Scale-Separator":case "Scale-Separator-CurrentTime":f.setAttribute("y2",d)}}},na=function(a,d){var c=[],b,f,e,g;if(typeof d.successors==="undefined"){d.successors=[];for(f=0;f<a.length;f++){b=a[f];if(!(b==d||typeof b.predecessors==="undefined"||b.predecessors.length==0))for(e=0;e<b.predecessors.length;e++)if(b.predecessors[e].item==d){d.successors.push(b);
break}}}for(f=0;f<d.successors.length;f++){var l=d.successors[f];if(typeof l.predecessors!=="undefined"&&l.predecessors.length>0)for(e=0;e<l.predecessors.length;e++){var h=l.predecessors[e].item;if(typeof h!=="undefined"){b=true;for(g=0;g<c;g++)if(h==c[g]){b=false;break}if(b){ca(h.chartItem,h,h.ganttChartView.settings);c.push(h)}}}if(typeof l.predecessors!=="undefined"&&l.predecessors.length>0){b=true;for(g=0;g<c;g++)if(typeof l!=="undefined"&&l==c[g]){b=false;break}if(b){ca(l.chartItem,l,l.ganttChartView.settings);
c.push(l)}}}},Tb=function(a,d,c){var b=a.ganttChartView.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");a.chartItem=b;var f="visible";if(!a.isVisible||typeof a.isHidden!=="undefined"&&a.isHidden)f="hidden";b.setAttribute("style","visibility: "+f+"; -ms-touch-action: pinch-zoom; touch-action: pinch-zoom");b.setAttribute("transform","translate(0, "+d+")");if(typeof a.isInternallyHidden!=="undefined"&&a.isInternallyHidden)b.style.display="none";Ea(a,d);ca(b,a,c);try{b.addEventListener("mousedown",
function(){x(a,c)},false);b.addEventListener("mouseup",function(){x(a,c)},false)}catch(e){}return b},ca=function(a,d,c){for(var b=a.childNodes.length;b-- >0;)a.removeChild(a.childNodes[b]);if(!(c.isVirtualizing&&(typeof d.isVirtuallyVisible==="undefined"||!d.isVirtuallyVisible)||typeof d.isBarVisible!=="undefined"&&!d.isBarVisible)){b=c.standardTaskTemplate;if(typeof d.standardTaskTemplate!=="undefined")b=d.standardTaskTemplate;if(d.hasChildren&&(typeof d.isSummaryEnabled==="undefined"||d.isSummaryEnabled)){b=
c.summaryTaskTemplate;if(typeof d.summaryTaskTemplate!=="undefined")b=d.summaryTaskTemplate}else if(d.isMilestone){b=c.milestoneTaskTemplate;if(typeof d.milestoneTaskTemplate!=="undefined")b=d.milestoneTaskTemplate}if(typeof d.taskTemplate!=="undefined")b=d.taskTemplate;if(typeof c.internalPreTaskTemplate!=="undefined"){var f=c.internalPreTaskTemplate(d);f!=null&&a.appendChild(f)}b=b(d);b.addEventListener("contextmenu",function(a){typeof c.itemContextMenuHandler!=="undefined"?c.itemContextMenuHandler(a):
a.preventDefault()},false);a.appendChild(b);if(typeof c.internalExtraTaskTemplate!=="undefined"){f=c.internalExtraTaskTemplate(d);f!=null&&a.appendChild(f)}if(typeof c.extraTaskTemplate!=="undefined"){f=c.extraTaskTemplate(d);f!=null&&a.appendChild(f)}if(c.areTaskAssignmentsVisible){f=c.assignmentsTemplate(d);b.appendChild(f)}if(c.isTaskToolTipVisible){f=c.itemTemplate;if(typeof d.template!=="undefined")f=d.template;b.appendChild(f(d))}if(c.areTaskDependenciesVisible&&typeof d.predecessors!=="undefined")for(b=
0;b<d.predecessors.length;b++){f=d.predecessors[b];if(!((typeof d.ganttChartView==="undefined"||d.ganttChartView.items.indexOf(f.item))<0||!f.item.isVisible||typeof f.item.isHidden!=="undefined"&&f.item.isHidden||typeof f.item.isBarVisible!=="undefined"&&!f.item.isBarVisible)){var e=c.dependencyLineTemplate(d,f);e.predecessorIndex=b;(function(a){e.addEventListener("click",function(b){c.dependencyLineClickHandler&&c.dependencyLineClickHandler(a,d,b)});e.addEventListener("dblclick",function(b){c.dependencyLineDoubleClickHandler&&
c.dependencyLineDoubleClickHandler(a,d,b)})})(f);!c.isReadOnly&&(!c.isChartReadOnly&&!c.areTaskPredecessorsReadOnly&&(typeof d.isReadOnly==="undefined"||!d.isReadOnly))&&e.addEventListener("contextmenu",function(a){if(typeof c.predecessorItemContextMenuHandler!=="undefined")c.predecessorItemContextMenuHandler(a);else{if(confirm("Are you sure you want to remove the predecessor?")){for(var b=[],f=0;f<d.predecessors.length;f++)if(f!=this.predecessorIndex){var e=d.predecessors[f];delete e.item.successors;
b.push(e)}d.predecessors=b;y(d,"predecessors",true,true);ca(d.chartItem,d,c);na(d.ganttChartView.items,d)}a.preventDefault()}},false);a.appendChild(e);if(c.isDependencyToolTipVisible){var g=c.predecessorItemTemplate;if(typeof f.template!=="undefined")g=f.template;e.appendChild(g(d,f))}}}}},Ma=function(a){for(var d=0;d<a.length;d++)La(a[d])},la=function(a){if((!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!=="undefined"&&a.isVirtuallyVisible)&&typeof a.isWaitingToRefreshChartItem===
"undefined"){a.isWaitingToRefreshChartItem=true;setTimeout(function(){ca(a.chartItem,a,a.ganttChartView.settings);var d=xa(a,a.ganttChartView.items,a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+d+")");Ea(a,d);delete a.isWaitingToRefreshChartItem},0)}},ka=function(a){if(!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!=="undefined"&&a.isVirtuallyVisible)if(typeof a.isWaitingToRefreshGridItem!=="undefined"||typeof a.isWaitingToRefreshChartItem!==
"undefined"){typeof a.isWaitingToRefreshGridItem==="undefined"&&Ka(a);typeof a.isWaitingToRefreshChartItem==="undefined"&&la(a)}else{a.isWaitingToRefreshGridItem=true;a.isWaitingToRefreshChartItem=true;setTimeout(function(){typeof a.gridItem!=="undefined"&&ya(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings);ca(a.chartItem,a,a.ganttChartView.settings);var d=xa(a,a.ganttChartView.items,
a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+d+")");Ea(a,d);delete a.isWaitingToRefreshGridItem;delete a.isWaitingToRefreshChartItem},0)}},oa=function(a){if((!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!=="undefined"&&a.isVirtuallyVisible)&&typeof a.isWaitingToRefreshPredecessorItems==="undefined"){a.isWaitingToRefreshPredecessorItems=true;setTimeout(function(){na(a.ganttChartView.items,a);delete a.isWaitingToRefreshPredecessorItems},0)}},
La=function(a){if(!a.ganttChartView.settings.isVirtualizing||typeof a.isVirtuallyVisible!=="undefined"&&a.isVirtuallyVisible)if(typeof a.isWaitingToRefreshGridItem!=="undefined"||typeof a.isWaitingToRefreshChartItem!=="undefined"||typeof a.isWaitingToRefreshPredecessorItems!=="undefined"){typeof a.isWaitingToRefreshGridItem==="undefined"&&Ka(a);typeof a.isWaitingToRefreshChartItem==="undefined"&&la(a);typeof a.isWaitingToRefreshPredecessorItems==="undefined"&&oa(a)}else{a.isWaitingToRefreshGridItem=
true;a.isWaitingToRefreshChartItem=true;a.isWaitingToRefreshPredecessorItems=true;setTimeout(function(){typeof a.gridItem!=="undefined"&&ya(a.gridItem,a,a.ganttChartView.items,a.ganttChartView.settings.columns,a.ganttChartView.chartContent,a.ganttChartView.settings.toggleButtonAreaWidth,a.ganttChartView.settings);ca(a.chartItem,a,a.ganttChartView.settings);var d=xa(a,a.ganttChartView.items,a.ganttChartView.settings);a.chartItem.setAttribute("transform","translate(0, "+d+")");Ea(a,d);na(a.ganttChartView.items,
a);delete a.isWaitingToRefreshGridItem;delete a.isWaitingToRefreshChartItem;delete a.isWaitingToRefreshPredecessorItems},0)}},X=function(a){La(a);for(a=a.parent;a!=null;){Xa(a);La(a);a=a.parent}},Na=function(a,d,c,b){V(d,b);Ta(d,c);Ua(d,b,c);c=a.index-1;c>=0&&X(d[c]);X(a);c=a.index+1;c<d.length&&X(d[c])},$a=function(a,d){var c=d.toggleButtonAreaWidth;delete d.toggleButtonAreaWidth;G(a,d);return d.toggleButtonAreaWidth!=c},Yb=function(a,d,c,b,f){d.ganttChartView=c;for(d.isVirtuallyVisible=true;a>0&&
b[a-1].isPart;)a--;var e=a<b.length?b[a]:null;if(e==null||e.isPart){e=a>0?b[a-1]:null;e=e!=null?e.indentation+1:0;if(d.indentation>e)d.indentation=e}else if(typeof d.indentation==="undefined"||d.indentation<e.indentation-1||d.indentation>e.indentation)d.indentation=e.indentation;V([d],f);b.splice(a,0,d);Ta(b,c);Ua(b,f,c);var g;if(f.isGridVisible&&typeof d.displayRowIndex==="undefined"){var l=null;if(a<b.length-1){e=b[a+1];if(!e.isPart){g=e.itemTop;if(typeof e.gridItemContainer!=="undefined")l=e.gridItemContainer}}c.gridContent.insertBefore(Sb(d,
b,f.columns,c.chartContent,f.toggleButtonAreaWidth,f),l)}typeof g==="undefined"&&(g=sa(b,f)-f.itemHeight);l=g;typeof d.displayRowIndex!=="undefined"&&(l=d.displayRowIndex*f.itemHeight);c.chartContent.chartArea.appendChild(Tb(d,l,f));d.isVisible&&!(typeof d.isHidden!=="undefined"&&d.isHidden)&&(g=Math.max(g,l+f.itemHeight));d.itemTop=l;if(typeof d.displayRowIndex==="undefined")for(e=a+1;e<b.length;e++){var h=b[e],l=g;typeof h.displayRowIndex!=="undefined"&&(l=h.displayRowIndex*f.itemHeight);h.isVisible&&
!(typeof h.isHidden!=="undefined"&&h.isHidden)&&(g=Math.max(g,l+f.itemHeight));h.itemTop=l;la(h);na(b,h)}for(e=a+1;e<b.length;e++)Ka(b[e]);if(c.isContentHeightInitialized&&c.isContentHeightAuto){a=P(c,b,f);c.gridContentContainer.style.height=a;c.chartContentContainer.style.height=a}ra(c.chartContent,sa(b,f));Za(b,c.chartContent,f);$a(b,f)&&Ma(b);Na(d,b,c,f);ta(b,c.chartContentContainer,f)},Eb=function(a,d){return function(c){typeof c==="undefined"&&(c=a);var b=c.ownerDocument,c=b.createElementNS("http://www.w3.org/2000/svg",
"defs"),f=b.createElementNS("http://www.w3.org/2000/svg","linearGradient");f.setAttribute("id","BlueGradient");f.setAttribute("x1","0%");f.setAttribute("y1","0%");f.setAttribute("x2","0%");f.setAttribute("y2","100%");var e=b.createElementNS("http://www.w3.org/2000/svg","stop");e.setAttribute("offset","0%");e.setAttribute("style","stop-color: White");var g=b.createElementNS("http://www.w3.org/2000/svg","stop");g.setAttribute("offset","25%");g.setAttribute("style","stop-color: LightBlue");var l=b.createElementNS("http://www.w3.org/2000/svg",
"stop");l.setAttribute("offset","100%");l.setAttribute("style","stop-color: Blue");f.appendChild(e);f.appendChild(g);f.appendChild(l);c.appendChild(f);f=b.createElementNS("http://www.w3.org/2000/svg","linearGradient");f.setAttribute("id","BlackGradient");f.setAttribute("x1","0%");f.setAttribute("y1","0%");f.setAttribute("x2","0%");f.setAttribute("y2","100%");e=b.createElementNS("http://www.w3.org/2000/svg","stop");e.setAttribute("offset","0%");e.setAttribute("style","stop-color: Black");g=b.createElementNS("http://www.w3.org/2000/svg",
"stop");g.setAttribute("offset","10%");g.setAttribute("style","stop-color: White");l=b.createElementNS("http://www.w3.org/2000/svg","stop");l.setAttribute("offset","20%");l.setAttribute("style","stop-color: Gray");var h=b.createElementNS("http://www.w3.org/2000/svg","stop");h.setAttribute("offset","60%");h.setAttribute("style","stop-color: Black");f.appendChild(e);f.appendChild(g);f.appendChild(l);f.appendChild(h);c.appendChild(f);f=b.createElementNS("http://www.w3.org/2000/svg","marker");f.setAttribute("id",
"ArrowMarker");f.setAttribute("viewBox","0 0 10 10");f.setAttribute("refX","0");f.setAttribute("refY","5");f.setAttribute("markerUnits","strokeWidth");f.setAttribute("markerWidth","5");f.setAttribute("markerHeight","4");f.setAttribute("orient","auto");b=b.createElementNS("http://www.w3.org/2000/svg","path");switch(d.theme){default:b.setAttribute("fill","#3b87d9");break;case "Aero":b.setAttribute("fill","Blue")}b.setAttribute("d","M 0 0 L 10 5 L 0 10 z");f.appendChild(b);c.appendChild(f);return c}},
Ib=function(a){return function(d){var c=d.ganttChartView,b=d.ganttChartView.ownerDocument,f=b.createElementNS("http://www.w3.org/2000/svg","title");f.appendChild(E(b,d.content));if(typeof a.areToolTipsSimplified==="undefined"||!a.areToolTipsSimplified){f.appendChild(b.createTextNode("  "));if(typeof d.loadChartView==="undefined"){if(d.parent){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Parent: "+d.parent.content+"  "))}if(d.hasChildren){f.appendChild(b.createElement("br"));
f.appendChild(b.createTextNode("Children: "+d.children.length+"  "))}f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode((!d.isMilestone?"Start: ":"")+a.dateTimeFormatter(M(d.start))+"  "));if(!d.isMilestone){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Finish: "+a.dateTimeFormatter(M(d.finish))+"  "))}if(a.areTaskAssignmentsVisible&&d.assignmentsContent){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Assignments: "+d.assignmentsContent+
"  "))}if(!d.isMilestone){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Effort: "+c.getItemTotalEffort(d)/36E5+"h  "));if(a.isTaskCompletedEffortVisible){c=c.getItemCompletion(d);if(!isNaN(c)){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Completed: "+Math.round(c*1E4)/100+"%  "))}}}if(a.areTaskDependenciesVisible&&d.predecessors&&d.predecessors.length>0){f.appendChild(b.createElement("br"));for(var c="",e=0;e<d.predecessors.length;e++){var g=d.predecessors[e];
if(g.item){c.length>0&&(c=c+", ");c=c+g.item.content;g.dependencyType&&(c=c+(" ("+Zb(g.dependencyType)+")"))}}f.appendChild(b.createTextNode("Predecessors: "+c+"  "))}}else if(!isNaN(d.units)){f.appendChild(b.createElement("br"));f.appendChild(b.createTextNode("Allocation: "+Math.round(d.units*1E4)/100+"%  "))}}return f}},Jb=function(a){return function(d){var c=d.ganttChartView,b=typeof a!=="undefined"?a:c.settings,c=c.ownerDocument,f=c.createElementNS("http://www.w3.org/2000/svg","text"),e=F(d.finish,
b);if(d.isMilestone||d.hasChildren&&(typeof d.isSummaryEnabled==="undefined"||d.isSummaryEnabled))e=e+b.barHeight/2;f.setAttribute("x",e+7);f.setAttribute("y",b.barMargin+b.barHeight-1);d=b.target!="Phone"?d.assignmentsContent:d.content;typeof d==="undefined"&&(d="");f.appendChild(c.createTextNode(d));typeof b.assignmentsClass!=="undefined"?f.setAttribute("class",b.assignmentsClass):typeof b.assignmentsStyle!=="undefined"&&f.setAttribute("style",b.assignmentsStyle);return f}},ob=function(a){var d=
a.ganttChartView.ownerDocument;if(typeof a.chartItemArea==="undefined")a.chartItemArea=d.createElementNS("http://www.w3.org/2000/svg","g");for(d=a.chartItemArea.childNodes.length;d-- >0;)a.chartItemArea.removeChild(a.chartItemArea.childNodes[d]);return a.chartItemArea},Fb=function(a,d,c){return function(b){var f=typeof d!=="undefined"?d:b.ganttChartView,e=typeof c!=="undefined"?c:f.settings,g=typeof a!=="undefined"?a:f.items,l=f.ownerDocument,h=ob(b);if(e.isBaselineVisible&&typeof b.baselineStart!==
"undefined"&&typeof b.baselineFinish!=="undefined"){var n=F(b.baselineStart,e),m=Math.max(F(b.baselineFinish,e),n+4),u=l.createElementNS("http://www.w3.org/2000/svg","rect");u.setAttribute("x",n);u.setAttribute("y",e.barMargin/2);u.setAttribute("width",Math.max(0,m-n-1));u.setAttribute("height",e.barHeight);u.setAttribute("rx",e.barCornerRadius);u.setAttribute("ry",e.barCornerRadius);n=e.baselineBarClass;if(typeof b.baselineBarClass!=="undefined")n=b.baselineBarClass;if(typeof n!=="undefined")u.setAttribute("class",
n);else{n=e.baselineBarStyle;if(typeof b.baselineBarStyle!=="undefined")n=b.baselineBarStyle;typeof n!=="undefined"&&u.setAttribute("style",n)}h.appendChild(u)}var u=F(b.start,e),n=Math.max(F(b.finish,e),u+4),m=F(b.completedFinish,e),v=l.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x",u);v.setAttribute("y",e.barMargin);v.setAttribute("width",Math.max(0,n-u-1));v.setAttribute("height",e.barHeight);v.setAttribute("rx",e.barCornerRadius);v.setAttribute("ry",e.barCornerRadius);
var w=e.standardBarClass;if(typeof b.standardBarClass!=="undefined")w=b.standardBarClass;if(typeof b.barClass!=="undefined")w=b.barClass;if(typeof w!=="undefined")v.setAttribute("class",w);else{w=e.standardBarStyle;if(typeof b.standardBarStyle!=="undefined")w=b.standardBarStyle;if(typeof b.barStyle!=="undefined")w=b.barStyle;typeof w!=="undefined"&&v.setAttribute("style",w)}h.appendChild(v);if(e.isTaskCompletedEffortVisible){v=l.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x",
u);v.setAttribute("y",e.barMargin+e.completedBarMargin);v.setAttribute("width",Math.max(0,m-u-1));v.setAttribute("height",e.completedBarHeight);v.setAttribute("rx",e.completedBarCornerRadius);v.setAttribute("ry",e.completedBarCornerRadius);w=e.standardCompletedBarClass;if(typeof b.standardCompletedBarClass!=="undefined")w=b.standardCompletedBarClass;if(typeof b.completedBarClass!=="undefined")w=b.completedBarClass;if(typeof w!=="undefined")v.setAttribute("class",w);else{w=e.standardCompletedBarStyle;
if(typeof b.standardCompletedBarStyle!=="undefined")w=b.standardCompletedBarStyle;if(typeof b.completedBarStyle!=="undefined")w=b.completedBarStyle;typeof w!=="undefined"&&v.setAttribute("style",w)}h.appendChild(v)}if(!e.isReadOnly&&!e.isChartReadOnly&&(typeof b.isReadOnly==="undefined"||!b.isReadOnly)&&(typeof b.isBarReadOnly==="undefined"||!b.isBarReadOnly)){v=l.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x",u);v.setAttribute("y",e.barMargin);v.setAttribute("width",Math.max(0,
n-u-1));v.setAttribute("height",e.barHeight);v.setAttribute("style","fill: White; fill-opacity: 0; cursor: move");e.isTaskStartReadOnly||h.appendChild(v);w=l.createElementNS("http://www.w3.org/2000/svg","rect");w.setAttribute("x",u-4);w.setAttribute("y",e.barMargin);w.setAttribute("width",4);w.setAttribute("height",e.barHeight);w.setAttribute("style","fill: White; fill-opacity: 0; cursor: e-resize");e.isDraggingTaskStartEndsEnabled&&(!e.isTaskStartReadOnly&&e.interaction!="TouchEnabled")&&h.appendChild(w);
var B=l.createElementNS("http://www.w3.org/2000/svg","rect");B.setAttribute("x",n-4);B.setAttribute("y",e.barMargin);B.setAttribute("width",8);B.setAttribute("height",e.barHeight);B.setAttribute("style","fill: White; fill-opacity: 0; cursor: e-resize");!e.isTaskEffortReadOnly&&e.interaction!="TouchEnabled"&&h.appendChild(B);var p=l.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("x",m-2);p.setAttribute("y",e.barMargin);p.setAttribute("width",6);p.setAttribute("height",e.barHeight);
p.setAttribute("style","fill: White; fill-opacity: 0; cursor: e-resize");if(!e.isTaskCompletionReadOnly&&e.interaction!="TouchEnabled"){h.appendChild(p);var j=l.createElementNS("http://www.w3.org/2000/svg","title"),k=typeof e.areToolTipsSimplified==="undefined"||!e.areToolTipsSimplified?f.getItemCompletion(b):NaN;j.appendChild(E(l,!isNaN(k)?Math.round(k*1E4)/100+"%":""));p.appendChild(j)}pb(v,w,B,p,b,u,n,m,g,f,e);if(e.areTaskDependenciesVisible&&!e.areTaskPredecessorsReadOnly&&!b.isPart){m=null;if(typeof e.allowCreatingStartDependencies===
"undefined"||e.allowCreatingStartDependencies){m=l.createElementNS("http://www.w3.org/2000/svg","circle");m.setAttribute("cx",u);m.setAttribute("cy",e.barMargin+e.barHeight/2);m.setAttribute("r",e.barHeight/4);m.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");h.appendChild(m)}l=l.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx",n-2);l.setAttribute("cy",e.barMargin+e.barHeight/2);l.setAttribute("r",e.barHeight/4);l.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");
h.appendChild(l);ab(l,m,h,b,e.barMargin+e.barHeight/2,n-2,u,g,f,e)}}return h}},Gb=function(a,d,c){return function(b){var f=typeof d!=="undefined"?d:b.ganttChartView,e=typeof c!=="undefined"?c:f.settings,g=typeof a!=="undefined"?a:f.items,l=f.ownerDocument,h=ob(b),n=F(b.start,e),m=F(b.finish,e),u=e.barHeight*2.15/3,v=l.createElementNS("http://www.w3.org/2000/svg","rect");v.setAttribute("x",n);v.setAttribute("y",e.barMargin);v.setAttribute("width",Math.max(0,m-n-1));v.setAttribute("height",u);var w=
e.summaryBarClass;if(typeof b.summaryBarClass!=="undefined")w=b.summaryBarClass;if(typeof b.barClass!=="undefined")w=b.barClass;if(typeof w!=="undefined")v.setAttribute("class",w);else{var B=e.summaryBarStyle;if(typeof b.summaryBarStyle!=="undefined")B=b.summaryBarStyle;if(typeof b.barStyle!=="undefined")B=b.barStyle;typeof B!=="undefined"&&v.setAttribute("style",B)}h.appendChild(v);if(!b.isExpanded){v=l.createElementNS("http://www.w3.org/2000/svg","line");v.setAttribute("x1",n);v.setAttribute("y1",
e.barMargin+u+2.5);v.setAttribute("x2",m-1);v.setAttribute("y2",e.barMargin+u+2.5);var p=e.collapsedSummaryLineClass;if(typeof b.collapsedSummaryLineClass!=="undefined")p=b.collapsedSummaryLineClass;if(typeof p!=="undefined")v.setAttribute("class",p);else{p=e.collapsedSummaryLineStyle;if(typeof b.collapsedSummaryLineStyle!=="undefined")p=b.collapsedSummaryLineStyle;typeof p!=="undefined"&&v.setAttribute("style",p)}h.appendChild(v)}var p=l.createElementNS("http://www.w3.org/2000/svg","polygon"),v=
e.barMargin-0.25,j=u+1.5,k=e.barHeight*3/4,o=e.barHeight/4,u=n-1-e.barHeight/3;p.setAttribute("points",u+","+v+" "+u+","+(v+j)+" "+(u+k/2)+","+(v+j+o)+" "+(u+k)+","+(v+j)+" "+(u+k)+","+v);typeof w!=="undefined"&&p.setAttribute("class",w);typeof B!=="undefined"&&p.setAttribute("style",B);h.appendChild(p);p=l.createElementNS("http://www.w3.org/2000/svg","polygon");u=m+e.barHeight/3;p.setAttribute("points",u+","+v+" "+u+","+(v+j)+" "+(u-k/2)+","+(v+j+o)+" "+(u-k)+","+(v+j)+" "+(u-k)+","+v);typeof w!==
"undefined"&&p.setAttribute("class",w);typeof B!=="undefined"&&p.setAttribute("style",B);h.appendChild(p);if(!e.isReadOnly&&!e.isChartReadOnly&&(typeof b.isReadOnly==="undefined"||!b.isReadOnly)&&(typeof b.isBarReadOnly==="undefined"||!b.isBarReadOnly)&&e.areTaskDependenciesVisible&&!e.areTaskPredecessorsReadOnly&&!b.isPart){w=null;if(typeof e.allowCreatingStartDependencies==="undefined"||e.allowCreatingStartDependencies){w=l.createElementNS("http://www.w3.org/2000/svg","circle");w.setAttribute("cx",
n-0.5);w.setAttribute("cy",e.barMargin+e.barHeight/2);w.setAttribute("r",e.barHeight/4);w.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");h.appendChild(w)}l=l.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx",m-0.5);l.setAttribute("cy",e.barMargin+e.barHeight/2);l.setAttribute("r",2.5);l.setAttribute("style","fill: White; fill-opacity: 0; cursor: pointer");h.appendChild(l);ab(l,w,h,b,e.barMargin+e.barHeight/2,m-1.5,n,g,f,e)}return h}},Hb=function(a,d,
c){return function(b){var f=typeof d!=="undefined"?d:b.ganttChartView,e=typeof c!=="undefined"?c:f.settings,g=typeof a!=="undefined"?a:f.items,l=f.ownerDocument,h=ob(b);if(e.isBaselineVisible&&typeof b.baselineStart!=="undefined"){var n=F(b.baselineStart,e),m=l.createElementNS("http://www.w3.org/2000/svg","polygon"),u=e.barMargin-1,v=e.barHeight+1;m.setAttribute("points",n+","+u+" "+(n-v/2)+","+(u+v/2)+" "+n+","+(u+v)+" "+(n+v/2)+","+(u+v/2));n=e.baselineBarClass;if(typeof b.baselineBarClass!=="undefined")n=
b.baselineBarClass;if(typeof n!=="undefined")m.setAttribute("class",n);else{var w=e.baselineBarStyle;if(typeof b.baselineBarStyle!=="undefined")w=b.baselineBarStyle}m.setAttribute("style",w);h.appendChild(m)}m=F(b.start,e);w=l.createElementNS("http://www.w3.org/2000/svg","polygon");m=m-1;u=e.barMargin;n=e.barHeight+1;w.setAttribute("points",m+","+u+" "+(m-n/2)+","+(u+n/2)+" "+m+","+(u+n)+" "+(m+n/2)+","+(u+n/2));u=e.milestoneBarClass;if(typeof b.milestoneBarClass!=="undefined")u=b.milestoneBarClass;
if(typeof b.barClass!=="undefined")u=b.barClass;if(typeof u!=="undefined")w.setAttribute("class",u);else{u=e.milestoneBarStyle;if(typeof b.milestoneBarStyle!=="undefined")u=b.milestoneBarStyle;if(typeof b.barStyle!=="undefined")u=b.barStyle;typeof u!=="undefined"&&w.setAttribute("style",u)}h.appendChild(w);if(!e.isReadOnly&&!e.isChartReadOnly&&(typeof b.isReadOnly==="undefined"||!b.isReadOnly)&&(typeof b.isBarReadOnly==="undefined"||!b.isBarReadOnly)){w=l.createElementNS("http://www.w3.org/2000/svg",
"rect");w.setAttribute("x",m-n/2);w.setAttribute("y",e.barMargin);w.setAttribute("width",n);w.setAttribute("height",n);w.setAttribute("style","fill: White; fill-opacity: 0; cursor: move");h.appendChild(w);pb(w,null,null,null,b,m,m,m,g,f,e);if(e.areTaskDependenciesVisible&&!e.areTaskPredecessorsReadOnly&&!b.isPart){l=l.createElementNS("http://www.w3.org/2000/svg","circle");l.setAttribute("cx",m);l.setAttribute("cy",e.barMargin+e.barHeight/2);l.setAttribute("r",e.barHeight/4);l.setAttribute("style",
"fill: White; fill-opacity: 0; cursor: pointer");h.appendChild(l);ab(l,null,h,b,e.barMargin+e.barHeight/2,m,m,g,f,e)}}return h}},Kb=function(a,d){return function(c,b){var f=c.ganttChartView,e=typeof d!=="undefined"?d:f.settings,g=typeof a!=="undefined"?a:f.items,l=f.ownerDocument,f=l.createElementNS("http://www.w3.org/2000/svg","g"),h;h=xa(b.item,g,e);var n=xa(c,g,e),g="M ",m,u,v=e.itemHeight,w=v/2,B=v/3.5,p=2,j=false,k;if(h==n&&(typeof b.dependencyType==="undefined"||b.dependencyType=="FinishStart"||
b.dependencyType=="FS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){if(typeof b.dependencyType==="undefined"||b.dependencyType=="FinishStart"||b.dependencyType=="FS"){m=F(b.item.finish,e);u=F(c.start,e)}else{m=F(b.item.start,e);u=F(c.finish,e)}h=h-n+0.5;g=g+(m+" "+(h+w)+" L "+(u+(u>m?-1:1)*(v/5-1))+" "+(h+w))}else{if(typeof b.dependencyType!=="undefined"&&(b.dependencyType=="StartStart"||b.dependencyType=="SS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){m=F(b.item.start,
e);b.item.hasChildren&&(typeof b.item.isSummaryEnabled==="undefined"||b.item.isSummaryEnabled)?m=m-(v/5+0.25):b.item.isMilestone&&(m=m-v/4);u=m-B}else{m=F(b.item.finish,e)-1;if(b.item.hasChildren&&(typeof b.item.isSummaryEnabled==="undefined"||b.item.isSummaryEnabled))m=m+(v/5+0.25);else if(b.item.isMilestone)m=m+v/4;else{k=F(b.item.start,e)+4-1;m<k&&(m=k)}u=m+B}h=h-n+0.5;g=g+(m+" "+(h+w)+" L "+u+" "+(h+w));if(typeof b.dependencyType!=="undefined"&&(b.dependencyType=="FinishFinish"||b.dependencyType==
"FF"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){m=F(c.finish,e)-1;if(typeof b.dependencyType!=="undefined"&&(b.dependencyType=="FinishFinish"||b.dependencyType=="FF")){j=true;if(c.hasChildren&&(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled))m=m+(v/5+1);else if(c.isMilestone)m=m+(v/4+1);else{k=F(c.start,e)+4-1;m<k&&(m=k)}n=m+B}else if(c.isMilestone)n=m;else{k=F(c.start,e)+4;m<k&&(m=k);n=m-2.5}}else{m=F(c.start,e);if(typeof b.dependencyType!=="undefined"&&(b.dependencyType==
"StartStart"||b.dependencyType=="SS")){j=true;c.hasChildren&&(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled)?m=m-(v/5+1):c.isMilestone&&(m=m-(v/4+1));n=m-B}else if(c.isMilestone)n=m-1;else{n=m+1.5;k=F(c.finish,e);n<u&&(k-u>B*2&&c.start>=b.item.finish)&&(n=u)}}if(typeof b.dependencyType!=="undefined"&&(b.dependencyType=="StartStart"||b.dependencyType=="SS"||b.dependencyType=="StartFinish"||b.dependencyType=="SF")){if(n>u){h=h-B/6;h=h<=0?h+w:h-w;g=g+(" "+u+" "+(h+w))}}else if(n<u){h=h-
B/6;h=h<=0?h+w:h-w;g=g+(" "+u+" "+(h+w))}g=g+(" "+n+" "+(h+w));h=j?w+0.5:h<=0?v/4-1-p:v-v/4+1+p;if(j){n>m-p&&(p=-p);m=m-p}g=g+(" "+n+" "+h);j&&(g=g+(" "+m+" "+h))}h=g;g=l.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d",h);typeof e.dependencyLineZoneClass!=="undefined"&&g.setAttribute("class",e.dependencyLineZoneClass);typeof e.dependencyLineZoneStyle!=="undefined"&&g.setAttribute("style",e.dependencyLineZoneStyle);f.appendChild(g);l=l.createElementNS("http://www.w3.org/2000/svg",
"path");l.setAttribute("d",h);h=e.dependencyLineClass;if(typeof b.dependencyLineClass!=="undefined")h=b.dependencyLineClass;if(typeof h!=="undefined")l.setAttribute("class",h);else{e=e.dependencyLineStyle;if(typeof b.dependencyLineStyle!=="undefined")e=b.dependencyLineStyle;typeof e!=="undefined"&&l.setAttribute("style",e)}f.appendChild(l);return f}},Lb=function(a){return function(d,c){var b=d.ganttChartView.ownerDocument,f=b.createElementNS("http://www.w3.org/2000/svg","title");f.appendChild(E(b,
c.item.content+" - "+d.content));if(typeof a.areToolTipsSimplified==="undefined"||!a.areToolTipsSimplified){f.appendChild(b.createTextNode("  "));if(c.dependencyType){f.appendChild(b.createElement("br"));f.appendChild(E(b,"Type: "+Zb(c.dependencyType)+"  "))}if(c.lag){f.appendChild(b.createElement("br"));f.appendChild(E(b,"Lag: "+c.lag/36E5+"h  "))}}return f}},Zb=function(a){switch(a){case "StartStart":case "SS":return"SS";case "FinishFinish":case "FF":return"FF";case "StartFinish":case "SF":return"SF";
default:return"FS"}},y=function(a,d,c,b){if(typeof a.ganttChartView!=="undefined"){var f=a.ganttChartView,e=f.settings;if(d=="start"||d=="minStart"||d=="maxStart"){if(typeof a.minStart!=="undefined"&&a.start<a.minStart){a.start=a.minStart;if(typeof a.loadChartItem==="undefined")a.start=K(a.start,e,true,typeof a.isMilestone!=="undefined"&&a.isMilestone,a.schedule);if(c)a.preferredStart=a.start}else if(typeof a.maxStart!=="undefined"&&a.start>a.maxStart){a.start=a.maxStart;if(typeof a.loadChartItem===
"undefined")a.start=K(a.start,e,true,typeof a.isMilestone!=="undefined"&&a.isMilestone,a.schedule);if(c)a.preferredStart=a.start}if(a.finish<a.start){a.finish=a.start;y(a,"finish",false,true)}if(a.completedFinish<a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}}else if(d=="finish"||d=="minFinish"||d=="maxFinish"){if(typeof a.maxFinish!=="undefined"&&a.finish>a.maxFinish){a.finish=
a.maxFinish;if(typeof a.loadChartItem==="undefined")a.finish=K(a.finish,e,typeof a.isMilestone!=="undefined"&&a.isMilestone,true,a.schedule)}else if(typeof a.minFinish!=="undefined"&&a.finish<a.minFinish){a.finish=a.minFinish;if(typeof a.loadChartItem==="undefined")a.finish=K(a.finish,e,typeof a.isMilestone!=="undefined"&&a.isMilestone,true,a.schedule)}if(a.finish<a.start){a.finish=a.start;y(a,"finish",false,true)}if(a.completedFinish<a.start){a.completedFinish=a.start;y(a,"completedFinish",false,
true)}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}}if(f.isTimingInformationInitialized){var g=f.items,l,h;if(d=="indentation"||d=="predecessors")for(l=0;l<g.length;l++){h=g[l];typeof h.dependsOf!=="undefined"&&delete h.dependsOf}if((d=="predecessors"||d=="start"||d=="finish")&&typeof a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring==="undefined"&&e.areTaskDependencyConstraintsEnabled&&(e.areTaskDependencyConstraintsEnabledWhileDragging||
typeof f.isDuringTimeDragOperation==="undefined")){a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring=true;for(h=a.parent;h!=null;){typeof h.predecessors!=="undefined"&&h.predecessors.length>0&&Ia(h,g,e,f);h=h.parent}h=a;for(typeof h.predecessors!=="undefined"&&h.predecessors.length>0?Ia(h,g,e,f):qb(h,e);h!=null;){if(typeof h.successors==="undefined"){h.successors=[];for(l=0;l<g.length;l++){var n=g[l];if(!(n==h||typeof n.predecessors==="undefined"||n.predecessors.length==0))for(var m=0;m<n.predecessors.length;m++)if(n.predecessors[m].item==
h){h.successors.push(n);break}}}for(l=0;l<h.successors.length;l++)Ia(h.successors[l],g,e,f);h=h.parent}delete a.isDuringPropertyChangeTaskDependencyConstraintsEnsuring}a.isPart&&a.ganttChartItem&&y(a.ganttChartItem,"parts",false,true)}if(a.isSetAsCompleted&&(d=="start"||d=="finish"||d=="completedFinish"))a.isSetAsCompleted=false;e.itemPropertyChangeHandler(a,d,c,b);d=="isExpanded"?typeof a.ganttChartView!=="undefined"&&typeof a.ganttChartView.settings.itemExpansionChangeHandler!=="undefined"&&a.ganttChartView.settings.itemExpansionChangeHandler(a,
a.isExpanded):d=="isSelected"&&typeof a.ganttChartView!=="undefined"&&typeof a.ganttChartView.settings.itemSelectionChangeHandler!=="undefined"&&a.ganttChartView.settings.itemSelectionChangeHandler(a,a.isSelected,c)}},qb=function(a,d){if(typeof a.isAwaitingPreferredStartUpdates==="undefined")if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))for(var c=0;c<a.children.length;c++)qb(a.children[c],d);else if(typeof a.preferredStart!=="undefined"&&a.preferredStart<a.start){a.isAwaitingPreferredStartUpdates=
true;effort=J(a.start,a.finish,d,a.schedule);completedEffort=J(a.start,a.completedFinish,d,a.schedule);a.start=a.preferredStart;a.finish=Q(a.start,effort,d,a.schedule);a.completedFinish=Q(a.start,completedEffort,d,a.schedule);y(a,"start",false,true);y(a,"finish",false,true);y(a,"completedFinish",false,true);setTimeout(function(){X(a);delete a.isAwaitingPreferredStartUpdates},1)}},Ia=function(a,d,c,b){if(b.isBasicTimingInformationInitialized){qb(a,c);for(var f=[],e,g=false,b=0;b<a.predecessors.length;b++){e=
a.predecessors[b];typeof e.item==="undefined"||d.indexOf(e.item)<0||bb(e.item,a)?g=true:f.push(e)}a.predecessors=f;if(g){y(a,"predecessors",false,true);typeof a.ganttChartView!=="undefined"&&La(a)}for(b=0;b<a.predecessors.length;b++){e=a.predecessors[b];$b(a,e,d,c)}}},$b=function(a,d,c,b){if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))for(var f=0;f<a.children.length;f++)$b(a.children[f],d,c,b);else if(!(typeof b.areDependencyConstraintsAppliedOnMilestones!=="undefined"&&
!b.areDependencyConstraintsAppliedOnMilestones&&a.isMilestone||typeof b.areDependencyConstraintsAppliedOnStartedTasks!=="undefined"&&!b.areDependencyConstraintsAppliedOnStartedTasks&&Fa(a))){var e=d.item,g,c=false;if(typeof d.dependencyType==="undefined"||d.dependencyType==""||d.dependencyType=="FinishStart"||d.dependencyType=="FS"){e=e.finish;typeof d.lag!=="undefined"&&d.lag!=0&&(e=Q(e,d.lag,b,a.schedule));if(a.start<e){if(!a.isMilestone&&(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||
a.isSummaryEnabled))){f=J(a.start,a.finish,b,a.schedule);g=J(a.start,a.completedFinish,b,a.schedule)}if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){a.start=K(ma(e,b),b,true,a.isMilestone,a.schedule);y(a,"start",false,true);if(a.isMilestone){a.finish=a.start;y(a,"finish",false,true);a.completedFinish=a.start}else{a.finish=Q(a.start,f,b,a.schedule);y(a,"finish",false,true);a.completedFinish=Q(a.start,g,b,a.schedule)}y(a,"completedFinish",false,true);c=true}}}else if(d.dependencyType==
"StartStart"||d.dependencyType=="SS"){e=e.start;typeof d.lag!=="undefined"&&d.lag!=0&&(e=Q(e,d.lag,b,a.schedule));if(a.start<e){if(!a.isMilestone&&(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))){f=J(a.start,a.finish,b,a.schedule);g=J(a.start,a.completedFinish,b,a.schedule)}if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){a.start=K(ma(e,b),b,true,a.isMilestone,a.schedule);y(a,"start",false,true);if(a.isMilestone){a.finish=a.start;
y(a,"finish",false,true);a.completedFinish=a.start}else{a.finish=Q(a.start,f,b,a.schedule);y(a,"finish",false,true);a.completedFinish=Q(a.start,g,b,a.schedule)}y(a,"completedFinish",false,true);c=true}}}else if(d.dependencyType=="FinishFinish"||d.dependencyType=="FF"){e=e.finish;typeof d.lag!=="undefined"&&d.lag!=0&&(e=Q(e,d.lag,b,a.schedule));if(a.finish>e&&(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))){a.finish=K(ma(e,b),b,a.isMilestone,true,a.schedule);if(a.finish<
a.start)a.finish=a.start;y(a,"finish",false,true);if(a.isMilestone){if(a.completedFinish!=a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}c=true}}else if(d.dependencyType=="StartFinish"||d.dependencyType=="SF"){e=e.start;typeof d.lag!=="undefined"&&d.lag!=0&&(e=Q(e,d.lag,b,a.schedule));if(a.finish>e&&(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))){a.finish=
K(ma(e,b),b,a.isMilestone,true,a.schedule);if(a.finish<a.start)a.finish=a.start;y(a,"finish",false,true);if(a.isMilestone){if(a.completedFinish!=a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}}else if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}c=true}}if(c&&!(typeof a.ganttChartView==="undefined"||typeof a.isAwaitingEnsureItemDependencyConstraintsUpdates!=="undefined"))if(typeof a.ganttChartView!=="undefined"&&!a.ganttChartView.isTimingInformationInitialized)X(a);
else{a.isAwaitingEnsureItemDependencyConstraintsUpdates=true;setTimeout(function(){X(a);delete a.isAwaitingEnsureItemDependencyConstraintsUpdates},0)}}},bb=function(a,d){if(typeof a.dependsOf!=="undefined"&&typeof a.dependsOf[a]!=="undefined")return a.dependsOf[d];try{if(a==d)return true;var c=ac(a);if(c.indexOf(d)>=0)return true;var b=ac(d);if(b.indexOf(a)>=0)return true;var f=rb(a),e,g;for(e=0;e<f.length;e++){g=f[e];if(g==d||g==a||c.indexOf(g)>=0||b.indexOf(g)>=0||bb(g,d))return true}for(f=0;f<
c.length;f++){var l=rb(c[f]);for(e=0;e<l.length;e++){g=l[e];if(g==d||g==a||c.indexOf(g)>=0||b.indexOf(g)>=0||bb(g,d))return true}}var h=a.children;for(e=0;e<h.length;e++){var n=h[e];if(typeof n.predecessors!=="undefined"&&n.predecessors.length>0&&bb(n,d))return true}}finally{if(typeof a.dependsOf==="undefined")a.dependsOf={};a.dependsOf[d]=true}return a.dependsOf[d]=false},ac=function(a){for(var d=[];typeof a.parent!=="undefined"&&a.parent!=null;){(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)&&
d.push(a.parent);a=a.parent}return d},rb=function(a){var d=[];if(typeof a.predecessors!=="undefined"&&a.predecessors!=null)for(var c=0;c<a.predecessors.length;c++)typeof a.predecessors[c].item!=="undefined"&&d.push(a.predecessors[c].item);return d},yc=function(a,d){for(var c=0;c<a.length;c++){var b=a[c],f=d==null||d(b);b.isHidden=!f;if(f)for(b=b.parent;b!=null;){b.isHidden=false;b=b.parent}}},bc=function(a,d,c){return K(a,d,true,true,c)},pa=function(a,d,c){return K(a,d,true,false,c)},K=function(a,
d,c,b,f){var e=typeof f!=="undefined"&&typeof f.workingDayStart!=="undefined"?f.workingDayStart:d.visibleDayStart,g=typeof f!=="undefined"&&typeof f.workingDayFinish!=="undefined"?f.workingDayFinish:d.visibleDayFinish,l=typeof f!=="undefined"&&typeof f.workingWeekStart!=="undefined"?f.workingWeekStart:d.workingWeekStart,h=typeof f!=="undefined"&&typeof f.workingWeekFinish!=="undefined"?f.workingWeekFinish:d.workingWeekFinish,d=typeof f!=="undefined"&&typeof f.specialNonworkingDays!=="undefined"?f.specialNonworkingDays:
d.specialNonworkingDays,f=$(a),a=fa(a);if(a<e||!c&&a==e)if(c)a=e;else{f=Ja(f);a=g}if(a>g||!b&&a==g)if(b)a=g;else{f=aa(f);a=e}for(b=ia(f);b<l||b>h||Rb(f,d);){if(c){b++;f=aa(f);a=e}else{b--;f=Ja(f);a=g}for(;b<0;)b=b+7;for(;b>=7;)b=b-7}return new Date(f.valueOf()+a)},J=function(a,d,c,b){if(d.valueOf()<a.valueOf())return-J(d,a,c,b);if(d.valueOf()==a.valueOf())return 0;var f=typeof b!=="undefined"&&typeof b.workingDayStart!=="undefined"?b.workingDayStart:c.visibleDayStart,e=typeof b!=="undefined"&&typeof b.workingDayFinish!==
"undefined"?b.workingDayFinish:c.visibleDayFinish,g=typeof b!=="undefined"&&typeof b.workingWeekStart!=="undefined"?b.workingWeekStart:c.workingWeekStart,l=typeof b!=="undefined"&&typeof b.workingWeekFinish!=="undefined"?b.workingWeekFinish:c.workingWeekFinish,b=typeof b!=="undefined"&&typeof b.specialNonworkingDays!=="undefined"?b.specialNonworkingDays:c.specialNonworkingDays,c=0,h=$(a),a=fa(a);if(a<f)a=f;else if(a>=e){h=aa(h);a=f}for(var n=$(d);h<n;){var m=ia(h);m>=g&&(m<=l&&!Rb(h,b))&&(c=c+(e-
a));h=aa(h);a=f}d=fa(d);d<f?d=f:d>e&&(d=e);d>a&&(c=c+(d-a));return c},Q=function(a,d,c,b){if(d<0)return Oa(-d,a,c,b);a=K(a,c,true,false,b);if(d==0)return a;var f=typeof b!=="undefined"&&typeof b.workingDayStart!=="undefined"?b.workingDayStart:c.visibleDayStart,e=typeof b!=="undefined"&&typeof b.workingDayFinish!=="undefined"?b.workingDayFinish:c.visibleDayFinish,g=fa(a);if(g+d<e)return new Date(a.valueOf()+d);g=e-g;a=new Date(a.valueOf()+g);for(d=d-g;d>0;){a=fa(a)>0?K(aa($(a)),c,true,false,b):K($(a),
c,true,false,b);if(f+d<e)return new Date(a.valueOf()+d);g=e-f;a=new Date(a.valueOf()+g);d=d-g}return new Date(a.valueOf())},Oa=function(a,d,c,b){if(a<0)return Q(d,-a,c,b);d=K(d,c,false,true,b);if(a==0)return d;var f=typeof b!=="undefined"&&typeof b.workingDayStart!=="undefined"?b.workingDayStart:c.visibleDayStart,e=typeof b!=="undefined"&&typeof b.workingDayFinish!=="undefined"?b.workingDayFinish:c.visibleDayFinish,g=fa(d);if(g-a>f)return new Date(d.valueOf()-a);g=g-f;d=new Date(d.valueOf()-g);for(a=
a-g;a>0;){d=fa(d)<864E5?K($(d),c,false,true,b):K(Ja($(d)),c,false,true,b);if(e-a>f)return new Date(d.valueOf()-a);g=e-f;d=new Date(d.valueOf()-g);a=a-g}return new Date(d.valueOf())},cb=function(a,d,c,b,f){return J(a,d,b,f)/J(a,c,b,f)},cc=function(a,d,c,b,f){return Q(a,d*J(a,c,b,f),b,f)},Pa=function(a){for(var d=0,a=za(a),c=0;c<a.length;c++)d=d+a[c].value;d==0&&(d=1);return d},sb=function(a){if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){for(var d=0,a=a.children,c=
0;c<a.length;c++)d=d+sb(a[c]);return d}return a.ganttChartView.getItemEffort(a)*Pa(a)},tb=function(a){if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){for(var d=0,a=a.children,c=0;c<a.length;c++)d=d+tb(a[c]);return d}return a.ganttChartView.getItemCompletedEffort(a)*Pa(a)},pb=function(a,d,c,b,f,e,g,l,h,n,m){var u;a.addEventListener("mousedown",function(b){if(b.button==0){n.isDuringTimeDragOperation=true;n.draggingItem=f;n.dragType="Start";n.style.cursor=a.style.cursor;
n.draggingInitialX=b.clientX;n.draggingInitialStartPosition=e;n.draggingInitialFinishPosition=g;n.draggingInitialCompletedFinishPosition=l;b.preventDefault();if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){(u=DlhSoft.Controls.ToolTip.get(a))||(u=DlhSoft.Controls.ToolTip.initialize(void 0,a,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+m.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},
"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));u.setContent(m.dateTimeFormatter(M(f.start))+" \u2013 "+m.dateTimeFormatter(M(f.finish)));u.show();u.originalX=u.x;n.toolTip=u}}},true);d!=null&&d.addEventListener("mousedown",function(b){if(b.button==0){n.isDuringTimeDragOperation=true;n.draggingItem=f;n.dragType="StartOnly";n.style.cursor=a.style.cursor;n.draggingInitialX=b.clientX;n.draggingInitialStartPosition=
e;b.preventDefault();if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){(u=DlhSoft.Controls.ToolTip.get(d))||(u=DlhSoft.Controls.ToolTip.initialize(void 0,d,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+m.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));
u.setContent(m.dateTimeFormatter(M(f.start))+" \u2013");u.show();u.setHorizontalPosition(u.x+4);u.originalX=u.x;n.toolTip=u}}},true);c!=null&&c.addEventListener("mousedown",function(a){if(a.button==0){n.isDuringTimeDragOperation=true;n.draggingItem=f;n.dragType="Finish";n.style.cursor=c.style.cursor;n.draggingInitialX=a.clientX;n.draggingInitialFinishPosition=g;a.preventDefault();if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){(u=DlhSoft.Controls.ToolTip.get(c))||(u=DlhSoft.Controls.ToolTip.initialize(void 0,
c,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+m.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));u.setContent("\u2013 "+m.dateTimeFormatter(M(f.finish)));u.show();u.setHorizontalPosition(u.x-
u.contentContainer.clientWidth);u.originalX=u.x;n.toolTip=u}}},true);b!=null&&b.addEventListener("mousedown",function(a){if(a.button==0){n.isDuringTimeDragOperation=true;n.draggingItem=f;n.dragType="CompletedFinish";n.style.cursor=b.style.cursor;n.draggingInitialX=a.clientX;n.draggingInitialCompletedFinishPosition=l;a.preventDefault();if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){(u=DlhSoft.Controls.ToolTip.get(b))||(u=DlhSoft.Controls.ToolTip.initialize(void 0,b,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+
m.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));a=cb(f.start,f.completedFinish,f.finish,m,f.schedule);if(!isNaN(a)){u.setContent(Math.round(a*1E4)/100+"%");u.show();u.setHorizontalPosition(u.x+2);u.originalX=u.x;n.toolTip=u}}}},true);if(typeof n.draggableItems==="undefined")n.draggableItems=
[];for(var v=false,w=0;w<n.draggableItems.length;w++)if(n.draggableItems[w]==f){v=true;break}if(!v){n.addEventListener("mousemove",function(a){if(!(typeof n.draggingItem==="undefined"||n.draggingItem!=f||n.dragType!="Start"&&n.dragType!="StartOnly"&&n.dragType!="Finish"&&n.dragType!="CompletedFinish")){var b=a.clientX-n.draggingInitialX;dc(a.clientX,n);delete n.draggingItem;n.draggingInitialStartPosition+b<0&&(b=-n.draggingInitialStartPosition);if(n.dragType=="Start"||n.dragType=="StartOnly"){var c;
n.dragType!="StartOnly"&&(c=J(f.start,f.finish,m,f.schedule));a=J(f.start,f.completedFinish,m,f.schedule);b=K(ma(Ca(n.draggingInitialStartPosition+b,m),m),m,true,f.isMilestone,f.schedule);if(n.dragType=="StartOnly"&&b>f.finish)b=f.finish;f.start=b;f.preferredStart=f.start;y(f,"start",true,false);if(n.dragType!="StartOnly"){if(f.isMilestone){f.finish=f.start;y(f,"finish",false,false);f.completedFinish=f.start}else{f.finish=Q(f.start,c,m,f.schedule);y(f,"finish",false,false);f.completedFinish=Q(f.start,
a,m,f.schedule)}y(f,"completedFinish",false,false);if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){u=n.toolTip;u.setContent(m.dateTimeFormatter(M(f.start))+" \u2013 "+m.dateTimeFormatter(M(f.finish)));u.setHorizontalPosition(u.originalX+(F(f.start,m)-n.draggingInitialStartPosition))}}else{if(f.finish<f.start){f.finish=f.start;y(f,"finish",false,false)}if(f.completedFinish<f.start||a<=0){f.completedFinish=f.start;y(f,"completedFinish",false,false)}if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){u=
n.toolTip;u.setContent(m.dateTimeFormatter(M(f.start))+" \u2013");u.setHorizontalPosition(u.originalX+(F(f.start,m)-n.draggingInitialStartPosition))}}Qa(f,h,n.chartContent,m)}else if(n.dragType=="Finish"){c=K(ma(Ca(n.draggingInitialFinishPosition+b,m),m),m,f.isMilestone,true,f.schedule);if(c<f.start)c=f.start;if(c.valueOf()!=f.finish.valueOf()){f.finish=c;y(f,"finish",true,false)}if(f.completedFinish>c){f.completedFinish=c;y(f,"completedFinish",false,false)}if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){u=
n.toolTip;u.setContent("\u2013 "+m.dateTimeFormatter(M(f.finish)));u.setHorizontalPosition(u.originalX+(F(f.finish,m)-n.draggingInitialFinishPosition))}Qa(f,h,n.chartContent,m)}else if(n.dragType=="CompletedFinish"){c=K(ma(Ca(n.draggingInitialCompletedFinishPosition+b,m),m),m,f.isMilestone,true,f.schedule);if(c<f.start)c=f.start;if(c>f.finish)c=f.finish;if(c.valueOf()!=f.completedFinish.valueOf()){f.completedFinish=c;y(f,"completedFinish",true,false)}if(DlhSoft.Controls.ToolTip&&m.useUpdatingToolTips){u=
n.toolTip;c=cb(f.start,f.completedFinish,f.finish,m,f.schedule);if(!isNaN(c)){u.setContent(Math.round(c*1E4)/100+"%");u.setHorizontalPosition(u.originalX+(F(f.completedFinish,m)-n.draggingInitialCompletedFinishPosition))}}Qa(f,h,n.chartContent,m)}n.draggingItem=f;n.draggingPerformed=true}},true);document.addEventListener("mouseup",function(a){if(!(a.button!=0||typeof n.draggingItem==="undefined"||n.draggingItem!=f||n.dragType!="Start"&&n.dragType!="StartOnly"&&n.dragType!="Finish"&&n.dragType!="CompletedFinish")){delete n.isDuringTimeDragOperation;
a=n.draggingItem;n.style.cursor="default";if(n.draggingPerformed){if(n.dragType=="Start"||n.dragType=="StartOnly"){y(a,"start",true,true);y(a,"finish",false,true);y(a,"completedFinish",false,true)}else if(n.dragType=="Finish"){y(a,"finish",true,true);y(a,"completedFinish",false,true)}else n.dragType=="CompletedFinish"&&y(a,"completedFinish",true,true);delete n.draggingPerformed}delete n.draggingItem}},true);n.draggableItems.push(f)}},ab=function(a,d,c,b,f,e,g,l,h,n){var m=b.ganttChartView.ownerDocument;
a.addEventListener("mousedown",function(c){if(c.button==0){delete h.cancelDrag;h.draggingItem=b;h.dragType="Dependency";h.dragDependencyType="Finish";h.style.cursor=a.style.cursor;h.draggingInitialX=c.clientX;h.draggingInitialY=c.clientY;h.draggingInitialRightPosition=e;h.draggingInitialTopPosition=f;h.draggingInitialFinishPosition=e;h.draggingInitialThumbPosition=f;c.preventDefault();if(DlhSoft.Controls.ToolTip&&n.useUpdatingToolTips){(toolTip=DlhSoft.Controls.ToolTip.get(a))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,
a,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+n.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));toolTip.setContent(b.content+" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+
16,toolTip.y-8);toolTip.originalX=toolTip.x;toolTip.originalY=toolTip.y;h.toolTip=toolTip}}},true);d!=null&&d.addEventListener("mousedown",function(c){if(c.button==0){delete h.cancelDrag;h.draggingItem=b;h.dragType="Dependency";h.dragDependencyType="Start";h.style.cursor=a.style.cursor;h.draggingInitialX=c.clientX;h.draggingInitialY=c.clientY;h.draggingInitialRightPosition=g;h.draggingInitialTopPosition=f;h.draggingInitialFinishPosition=g;h.draggingInitialThumbPosition=f;c.preventDefault();if(DlhSoft.Controls.ToolTip&&
n.useUpdatingToolTips){(toolTip=DlhSoft.Controls.ToolTip.get(d))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,d,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+n.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));
toolTip.setContent(b.content+" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+16,toolTip.y-8);toolTip.originalX=toolTip.x;toolTip.originalY=toolTip.y;h.toolTip=toolTip}}},true);a.addEventListener("mouseover",function(){if(typeof h.temporaryHoveringThumb!=="undefined"){var b=h.temporaryHoveringThumb;delete h.temporaryHoveringThumb;if(typeof b.originalStyle==="undefined")return;b.setAttribute("style",b.originalStyle);delete b.originalStyle}if(typeof h.temporaryDependencyLine==="undefined"){a.mouseOver=
true;h.temporaryHoveringThumb=a;a.originalStyle=a.getAttribute("style");typeof n.dependencyPointerClass!=="undefined"&&a.setAttribute("class",n.dependencyPointerClass);typeof n.dependencyPointerStyle!=="undefined"&&a.setAttribute("style",n.dependencyPointerStyle);a.style.cursor="pointer"}},true);d!=null&&d.addEventListener("mouseover",function(){if(typeof h.temporaryHoveringThumb!=="undefined"){var a=h.temporaryHoveringThumb;delete h.temporaryHoveringThumb;if(typeof a.originalStyle==="undefined")return;
a.setAttribute("style",a.originalStyle);delete a.originalStyle}if(typeof h.temporaryDependencyLine==="undefined"){d.mouseOver=true;h.temporaryHoveringThumb=d;d.originalStyle=d.getAttribute("style");typeof n.dependencyPointerClass!=="undefined"&&d.setAttribute("class",n.dependencyPointerClass);typeof n.dependencyPointerStyle!=="undefined"&&d.setAttribute("style",n.dependencyPointerStyle);d.style.cursor="pointer"}},true);a.addEventListener("mouseout",function(){delete a.mouseOver;setTimeout(function(){if(!(typeof a.originalStyle===
"undefined"||a.mouseOver)){a.setAttribute("style",a.originalStyle);delete a.originalStyle}},2E3)},true);if(d!=null){delete d.mouseOver;d.addEventListener("mouseout",function(){setTimeout(function(){if(!(typeof d.originalStyle==="undefined"||d.mouseOver)){d.setAttribute("style",d.originalStyle);delete d.originalStyle}},2E3)},true)}if(typeof h.draggableDependencyItems==="undefined")h.draggableDependencyItems=[];for(var u=false,v=0;v<h.draggableDependencyItems.length;v++)if(h.draggableDependencyItems[v]==
b){u=true;break}if(!u){h.addEventListener("mousemove",function(a){if(!(typeof h.draggingItem==="undefined"||h.draggingItem!=b||h.dragType!="Dependency")){var d=a.clientX-h.draggingInitialX,f=a.clientY-h.draggingInitialY;dc(a.clientX,h);ec(a.clientY,h);delete h.draggingItem;h.draggingInitialFinishPosition+d<0&&(d=-h.draggingInitialFinishPosition);if(typeof h.temporaryDependencyLine!=="undefined"){try{c.removeChild(h.temporaryDependencyLine)}catch(e){}delete h.temporaryDependencyLine}if(h.cancelDrag){delete h.cancelDrag;
delete h.draggingItem;h.style.cursor="default"}else{a=m.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",h.draggingInitialRightPosition);a.setAttribute("y1",h.draggingInitialTopPosition);a.setAttribute("x2",h.draggingInitialFinishPosition+d);a.setAttribute("y2",h.draggingInitialThumbPosition+f);typeof n.temporaryDependencyLineClass!=="undefined"&&a.setAttribute("class",n.temporaryDependencyLineClass);typeof n.temporaryDependencyLineStyle!=="undefined"&&a.setAttribute("style",
n.temporaryDependencyLineStyle);h.temporaryDependencyLine=a;c.appendChild(a);h.draggingItem=b;if(DlhSoft.Controls.ToolTip&&n.useUpdatingToolTips){toolTip=h.toolTip;for(var g=Math.floor((b.itemTop+h.draggingInitialThumbPosition+f)/n.itemHeight),a=null,u=0,v=0;v<l.length;v++){var j=l[v];if(j.isVisible&&!(typeof j.isHidden!=="undefined"&&j.isHidden)&&typeof j.displayRowIndex==="undefined"){if(u==g){a=j;break}u++}}g="Start";if(a!=null){u=h.draggingInitialFinishPosition+d;v=F(a.start,n);j=F(a.finish,n);
if(a.isMilestone||a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){v=v-n.itemHeight/2;j=j+n.itemHeight/2}j<v+4&&(j=v+4);if(u<v||u>j||mb(a,b)||Da(a,b)||Da(b,a))a=null;if(a!=null&&(typeof n.allowCreatingToFinishDependencies==="undefined"||n.allowCreatingToFinishDependencies)&&!a.isMilestone&&u>v+(j-v)*3/4)g="Finish"}toolTip.setContent(b.content+" \u2013"+(a!=null?" "+a.content+(g!="Finish"?"":" \u2022"):""));toolTip.setPosition(toolTip.originalX+d,toolTip.originalY+f)}}}},
true);m.addEventListener("mouseup",function(a){if(!(a.button!=0||typeof h.draggingItem==="undefined"||h.draggingItem!=b||h.dragType!="Dependency")){if(typeof h.temporaryDependencyLine!=="undefined"){try{c.removeChild(h.temporaryDependencyLine)}catch(d){}delete h.temporaryDependencyLine}for(var f=Math.floor((b.itemTop+h.draggingInitialThumbPosition+(a.clientY-h.draggingInitialY))/n.itemHeight),e=null,m=0,g=0;g<l.length;g++){var u=l[g];if(u.isVisible&&!(typeof u.isHidden!=="undefined"&&u.isHidden)&&
typeof u.displayRowIndex==="undefined"){if(m==f){e=u;break}m++}}if(e!=null){a=h.draggingInitialFinishPosition+(a.clientX-h.draggingInitialX);f=F(e.start,n);m=F(e.finish,n);if(e.isMilestone||e.hasChildren&&(typeof e.isSummaryEnabled==="undefined"||e.isSummaryEnabled)){f=f-n.itemHeight/2;m=m+n.itemHeight/2}m<f+4&&(m=f+4);if(a>=f&&a<=m&&!mb(e,b)&&!Da(e,b)&&!Da(b,e)){a=e==null||typeof n.allowCreatingToFinishDependencies!=="undefined"&&!n.allowCreatingToFinishDependencies||e.isMilestone||a<=f+(m-f)*3/
4?"Start":"Finish";delete b.successors;if(typeof e.predecessors==="undefined")e.predecessors=[];f={item:b};if(h.dragDependencyType!="Start"){if(a=="Finish")f.dependencyType="FF"}else f.dependencyType=a!="Finish"?"SS":"SF";e.predecessors.push(f);y(e,"predecessors",true,true);if(e.start<b.finish&&!n.areTaskDependencyConstraintsEnabled&&!n.areTaskDependencyConstraintsDisabledWhenDropping){var v,j;if(!e.isMilestone&&(!e.hasChildren||!(typeof e.isSummaryEnabled==="undefined"||e.isSummaryEnabled))){v=J(e.start,
e.finish,n,e.schedule);j=J(e.start,e.completedFinish,n,e.schedule)}if((!e.hasChildren||!(typeof e.isSummaryEnabled==="undefined"||e.isSummaryEnabled))&&a=="Start"){e.start=K(ma(h.dragDependencyType!="Start"?b.finish:b.start,n),n,true,e.isMilestone,b.schedule);y(e,"start",false,true);if(e.isMilestone){e.finish=e.start;y(e,"finish",false,true);e.completedFinish=e.start}else{e.finish=Q(e.start,v,n,e.schedule);y(e,"finish",false,true);e.completedFinish=Q(e.start,j,n,e.schedule)}y(e,"completedFinish",
false,true)}}Qa(e,l,h.chartContent,n);Qa(b,l,h.chartContent,n)}}delete h.draggingItem;h.style.cursor="default"}},true);h.draggableDependencyItems.push(b)}},dc=function(a,d){if(typeof d.draggingItem!=="undefined"){var c=d,b=0;if(c.offsetParent){do{b=b+c.offsetLeft;c=c.offsetParent}while(c)}a=a-b;if(a<d.gridContentContainer.offsetWidth+24){c=d.chartContentContainer.scrollLeft;d.chartContentContainer.scrollLeft=d.chartContentContainer.scrollLeft-20;c=c-d.chartContentContainer.scrollLeft;if(typeof d.draggingInitialStartPosition!==
"undefined")d.draggingInitialStartPosition=d.draggingInitialStartPosition-c;if(typeof d.draggingInitialFinishPosition!=="undefined")d.draggingInitialFinishPosition=d.draggingInitialFinishPosition-c;if(typeof d.draggingInitialCompletedFinishPosition!=="undefined")d.draggingInitialCompletedFinishPosition=d.draggingInitialCompletedFinishPosition-c}else if(a>=d.gridContentContainer.offsetWidth+d.chartContentContainer.clientWidth-24){c=d.chartContentContainer.scrollLeft;d.chartContentContainer.scrollLeft=
d.chartContentContainer.scrollLeft+20;c=d.chartContentContainer.scrollLeft-c;if(typeof d.draggingInitialStartPosition!=="undefined")d.draggingInitialStartPosition=d.draggingInitialStartPosition+c;if(typeof d.draggingInitialFinishPosition!=="undefined")d.draggingInitialFinishPosition=d.draggingInitialFinishPosition+c;if(typeof d.draggingInitialCompletedFinishPosition!=="undefined")d.draggingInitialCompletedFinishPosition=d.draggingInitialCompletedFinishPosition+c}}},Qc=function(a){var d=0;if(a.offsetParent){do{d=
d+a.offsetTop;a=a.offsetParent}while(a)}return d},ec=function(a,d){if(typeof d.draggingItem!=="undefined"){var a=a-Qc(d),c,b;if(a<d.chartHeaderContainer.clientHeight+24){c=d.chartContentContainer.scrollTop;d.chartContentContainer.scrollTop=d.chartContentContainer.scrollTop-20;if(typeof d.isDuringVerticalScrolling==="undefined"){d.isDuringVerticalScrolling=true;setTimeout(function(){b=c-d.chartContentContainer.scrollTop;d.draggingInitialThumbPosition=d.draggingInitialThumbPosition-b;delete d.isDuringVerticalScrolling},
0)}}else if(a>=d.chartHeaderContainer.clientHeight+d.chartContentContainer.clientHeight-24){c=d.chartContentContainer.scrollTop;d.chartContentContainer.scrollTop=d.chartContentContainer.scrollTop+20;if(typeof d.isDuringVerticalScrolling==="undefined"){d.isDuringVerticalScrolling=true;setTimeout(function(){b=d.chartContentContainer.scrollTop-c;d.draggingInitialThumbPosition=d.draggingInitialThumbPosition+b;delete d.isDuringVerticalScrolling},0)}}}},Qa=function(a,d,c,b){ca(a.chartItem,a,b);na(d,a);
setTimeout(function(){if(typeof a.gridItem!=="undefined"){if(typeof a.completedInput!=="undefined"){var f=a.completedInput;typeof f.changeEventListener!=="undefined"&&f.removeEventListener("change",f.changeEventListener,true);delete a.completedInput}ya(a.gridItem,a,d,b.columns,c,b.toggleButtonAreaWidth,b)}for(f=a.parent;f!=null;){Xa(f,false);a=f;ca(a.chartItem,a,b);na(d,a);typeof a.gridItem!=="undefined"&&ya(a.gridItem,a,d,b.columns,c,b.toggleButtonAreaWidth,b);f=a.parent}},0)},fc=function(a){var d=
a.itemTop-a.ganttChartView.chartContentContainer.scrollTop;if(d<0)a.ganttChartView.chartContentContainer.scrollTop=a.itemTop;else if(d>a.ganttChartView.chartContentContainer.clientHeight-a.ganttChartView.settings.itemHeight)a.ganttChartView.chartContentContainer.scrollTop=a.itemTop-(a.ganttChartView.chartContentContainer.clientHeight-a.ganttChartView.settings.itemHeight)},Cc=function(a,d,c,b,f,e,g,l,h,n,m,u,v,w){var j,p;d.addEventListener("scroll",function(){if(g.scrollTop!=d.scrollTop&&!p&&!j){j=
true;setTimeout(function(){g.scrollTop=d.scrollTop;setTimeout(function(){j=false},100)},200)}if(b.scrollLeft!=d.scrollLeft)b.scrollLeft=d.scrollLeft},true);db(d,c,f,w);typeof a.updateGridHeaderTimer!=="undefined"&&clearInterval(a.updateGridHeaderTimer);a.updateGridHeaderTimer=setInterval(function(){try{db(d,c,f,w)}catch(b){try{clearInterval(a.updateGridHeaderTimer)}catch(l){}}},100);g.addEventListener("scroll",function(){if(d.scrollTop!=g.scrollTop&&!j){p=true;setTimeout(function(){d.scrollTop=g.scrollTop;
setTimeout(function(){p=false},100)},100)}if(l.scrollLeft!=g.scrollLeft)l.scrollLeft=g.scrollLeft;ta(v,g,w);w.displayedTime=Ca(g.scrollLeft,w);(typeof a.isDuringScrollToDateTime==="undefined"||!a.isDuringScrollToDateTime)&&typeof w.displayedTimeChangeHandler!=="undefined"&&setTimeout(function(){w.displayedTimeChangeHandler(w.displayedTime)},0);typeof a.isDuringScrollToDateTime!=="undefined"&&delete a.isDuringScrollToDateTime},true);setTimeout(function(){if(l.scrollLeft!=g.scrollLeft)l.scrollLeft=
g.scrollLeft;ta(v,g,w)},1);db(g,h,n,w);typeof a.updateChartHeaderTimer!=="undefined"&&clearInterval(a.updateChartHeaderTimer);a.updateChartHeaderTimer=setInterval(function(){try{db(g,h,n,w)}catch(b){try{clearInterval(a.updateChartHeaderTimer)}catch(c){}}},100);window.addEventListener("mousewheel",function(){try{a.cancelDrag=true}catch(b){}},true)},db=function(a,d,c,b){setTimeout(function(){try{var f=d.clientWidth-a.clientWidth;f<0&&(f=0);var e=f+"px";if(c.style.width!=e){c.style.width=e;if(f>0){c.style.boxSizing=
"border-box";c.style.MozBoxSizing="border-box";c.style.border="solid 1px "+b.border;c.style.borderTop="none";c.style.borderRight="none"}else{c.style.border="";c.style.borderTop="";c.style.borderRight="";c.style.boxSizing="";c.style.MozBoxSizing=""}}}catch(g){}},0)},Ba=function(a,d,c){if(c.isSplitterEnabled){a.style.height=d.clientHeight+"px";a.style.left=Math.max(0,d.offsetWidth-1)+"px"}},ta=function(a,d,c){if(!(typeof d.isInitializing!=="undefined"&&d.isInitializing)&&c.isVirtualizing)for(var b=
d.scrollTop-c.itemHeight,d=b+d.clientHeight+2*c.itemHeight,f=0;f<a.length;f++){var e=a[f];if(!e.isPart)if(typeof e.isVirtuallyVisible==="undefined"&&(typeof e.isVisible==="undefined"||e.isVisible)&&!(typeof e.isHidden!=="undefined"&&e.isHidden)&&typeof e.itemTop!=="undefined"&&e.itemTop>=b&&e.itemTop<d){e.isVirtuallyVisible=true;y(e,"isVirtuallyVisible",false,true);typeof e.gridItem!=="undefined"&&ya(e.gridItem,e,a,c.columns,e.ganttChartView.chartContent,c.toggleButtonAreaWidth,c);ca(e.chartItem,
e,c);e.chartItem.setAttribute("transform","translate(0, "+e.itemTop+")");Ea(e,e.itemTop)}else typeof e.isVirtuallyVisible!=="undefined"&&((typeof e.isVisible==="undefined"||e.isVisible)&&!(typeof e.isHidden!=="undefined"&&e.isHidden)&&typeof e.itemTop!=="undefined"&&(e.itemTop<b||e.itemTop>=d))&&delete e.isVirtuallyVisible}},zc=function(a,d){for(var c=a.childNodes.length;c-- >0;)a.removeChild(a.childNodes[c]);a.appendChild(d)},ub=function(a,d,c,b){var f=b.indexOf(a);if(!(f<0||d<0||d==f||d>=b.length)){b.splice(f,
1);b.splice(d,0,a);gc(b);R(c);typeof c.settings.itemMoveHandler!=="undefined"&&c.settings.itemMoveHandler(a,f,d)}},eb=function(a,d,c,b,f){if(!(a<0||c<0||c==a||c>f.length-d)){var e=[],g;for(g=a;g<a+d;g++)e.push(f[g]);f.splice(a,d);for(g=0;g<e.length;g++)f.splice(c+g,0,e[g]);gc(f);R(b);if(typeof b.settings.itemMoveHandler!=="undefined")for(g=0;g<e.length;g++)b.settings.itemMoveHandler(e[g],a+g,c+g)}},gc=function(a){for(var d=0,c=0;c<a.length;c++){var b=a[c];if(b.indentation>d){b.indentation=d;y(b,"indentation",
false,true)}d=b.indentation+1}},Rc=function(a,d,c,b,f,e,g,l,h,n){a.addEventListener("mousedown",function(c){if(c.button==0){delete b.cancelDrag;b.draggingItem=d;b.dragType="Ordering";b.style.cursor=a.style.cursor;b.draggingInitialY=c.clientY;b.draggingInitialThumbPosition=0;b.resetChartAreaDefinitions();c.preventDefault()}},true);if(typeof b.draggableOrderingItems==="undefined")b.draggableOrderingItems=[];for(var m=false,u=0;u<b.draggableOrderingItems.length;u++)if(b.draggableOrderingItems[u]==d){m=
true;break}if(!m){b.addEventListener("mousemove",function(a){if(!(typeof b.draggingItem==="undefined"||b.draggingItem!=d||b.dragType!="Ordering")){if(typeof b.temporaryHoveredGridItemSelectionContainer!=="undefined"){b.temporaryHoveredGridItemSelectionContainer.setAttribute("class",b.temporaryHoveredGridItemClass);b.temporaryHoveredGridItemSelectionContainer.setAttribute("style",b.temporaryHoveredGridItemStyle);delete b.temporaryHoveredGridItemSelectionContainer;delete b.temporaryHoveredGridItemClass;
delete b.temporaryHoveredGridItemStyle}var m=a.clientY-b.draggingInitialY;ec(a.clientY,b);delete b.draggingItem;if(b.cancelDrag){x(d,f);delete b.cancelDrag;delete b.draggingItem;b.style.cursor="default"}else{for(var a=Math.floor((d.itemTop+b.draggingInitialThumbPosition+m)/f.itemHeight),m=null,u=0,p=0;p<c.length;p++){var j=c[p];if(j.isVisible&&!(typeof j.isHidden!=="undefined"&&j.isHidden)&&typeof j.displayRowIndex==="undefined"){if(u==a){m=j;break}u++}}if(m!=null&&m!=d&&m.gridItemSelectionContainer!=
null){b.temporaryHoveredGridItemSelectionContainer=m.gridItemSelectionContainer;b.temporaryHoveredGridItemClass=m.gridItemSelectionContainer.getAttribute("class");b.temporaryHoveredGridItemStyle=m.gridItemSelectionContainer.getAttribute("style");typeof e==="undefined"||e(a,m)?typeof g!=="undefined"?m.gridItemSelectionContainer.setAttribute("class",g):typeof l!=="undefined"&&m.gridItemSelectionContainer.setAttribute("style",l):typeof h!=="undefined"?m.gridItemSelectionContainer.setAttribute("class",
h):typeof n!=="undefined"&&m.gridItemSelectionContainer.setAttribute("style",n)}b.draggingItem=d}}},true);document.addEventListener("mouseup",function(a){if(!(a.button!=0||typeof b.draggingItem==="undefined"||b.draggingItem!=d||b.dragType!="Ordering")){if(typeof b.temporaryHoveredGridItemSelectionContainer!=="undefined"){b.temporaryHoveredGridItemSelectionContainer.setAttribute("class",b.temporaryHoveredGridItemClass);b.temporaryHoveredGridItemSelectionContainer.setAttribute("style",b.temporaryHoveredGridItemStyle);
delete b.temporaryHoveredGridItemSelectionContainer;delete b.temporaryHoveredGridItemClass;delete b.temporaryHoveredGridItemStyle}for(var a=Math.floor((d.itemTop+b.draggingInitialThumbPosition+(a.clientY-b.draggingInitialY))/f.itemHeight),l=null,h=0,n=0;n<c.length;n++){var m=c[n];if(m.isVisible&&!(typeof m.isHidden!=="undefined"&&m.isHidden)&&typeof m.displayRowIndex==="undefined"){if(h==a){l=m;break}h++}}l!=null&&(typeof e==="undefined"||e(a,l))&&b.moveItemHierarchy(b.draggingItem,l.index);setTimeout(function(){x(d,
f);fc(d)},0);b.resetChartAreaDefinitions();delete b.draggingItem;b.style.cursor="default"}},true);b.draggableOrderingItems.push(d)}},Sc=function(a,d){for(var c in d)c.indexOf("custom")!=0&&c.indexOf("description")!=0||typeof a[c]==="undefined"&&(a[c]=d[c])},hc=function(a,d,c,b,f,e,g,l,h,n,m,u,v,j,k,p){var o,s=[],r;if(typeof b!=="undefined")for(o=0;o<b.length;o++){r=p.columns[b[o]];s.push({isTreeView:r.isTreeView,header:r.header,width:r.width,headerClass:r.headerClass,headerStyle:r.headerStyle,cellClass:r.cellClass,
cellStyle:r.cellStyle,cellTemplate:typeof r.exportCellTemplate!=="undefined"?r.exportCellTemplate:r.cellTemplate})}else for(o=0;o<p.columns.length;o++){r=p.columns[o];r.isSelection||s.push({isTreeView:r.isTreeView,header:r.header,width:r.width,headerClass:r.headerClass,headerStyle:r.headerStyle,cellClass:r.cellClass,cellStyle:r.cellStyle,cellTemplate:typeof r.exportCellTemplate!=="undefined"?r.exportCellTemplate:r.cellTemplate})}if(typeof c==="undefined")c=p.isGridVisible;o=c?gb(s)+1:0;if(typeof f!==
"undefined"){if(typeof g==="undefined"||!g)f=new Date(f.valueOf()-f.getTimezoneOffset()*6E4)}else f=p.timelineStart;if(typeof e!=="undefined"){if(typeof g==="undefined"||!g)e=new Date(e.valueOf()-e.getTimezoneOffset()*6E4)}else e=p.timelineFinish;f={isExport:true,isReadOnly:true,selectionMode:"None",isVirtualizing:false,isGridVisible:c,isSplitterEnabled:false,gridWidth:o+"px",columns:s,allowUserToResizeColumns:false,isGridRowClickTimeScrollingEnabled:false,isMouseWheelZoomEnabled:false,timelineStart:f,
timelineFinish:e,hourWidth:typeof l!=="undefined"?l:p.hourWidth,displayedTime:typeof f!=="undefined"?f:p.timelineStart,currentTime:p.currentTime,isTaskToolTipVisible:false,isDependencyToolTipVisible:false,containerClass:p.containerClass,containerStyle:p.containerStyle,border:p.border,theme:p.theme,headerBackground:p.headerBackground,headerHeight:p.headerHeight,itemHeight:p.itemHeight,itemClass:p.itemClass,itemStyle:p.itemStyle,standardItemClass:p.standardItemClass,summaryItemClass:p.summaryItemClass,
milestoneItemClass:p.milestoneItemClass,standardItemStyle:p.standardItemStyle,summaryItemStyle:p.summaryItemStyle,milestoneItemStyle:p.milestoneItemStyle,indentationLevelWidth:p.indentationLevelWidth,toggleButtonClass:p.toggleButtonClass,toggleButtonStyle:p.toggleButtonStyle,scales:[],visibleWeekStart:p.visibleWeekStart,visibleWeekFinish:p.visibleWeekFinish,workingWeekStart:p.workingWeekStart,workingWeekFinish:p.workingWeekFinish,visibleDayStart:p.visibleDayStart,visibleDayFinish:p.visibleDayFinish,
specialNonworkingDays:p.specialNonworkingDays,barMargin:p.barMargin,barHeight:p.barHeight,barCornerRadius:p.barCornerRadius,completedBarMargin:p.completedBarMargin,completedBarHeight:p.completedBarHeight,completedBarCornerRadius:p.completedBarCornerRadius,standardBarClass:p.standardBarClass,summaryBarClass:p.summaryBarClass,milestoneBarClass:p.milestoneBarClass,standardBarStyle:p.standardBarStyle,summaryBarStyle:p.summaryBarStyle,milestoneBarStyle:p.milestoneBarStyle,standardCompletedBarClass:p.standardCompletedBarClass,
standardCompletedBarStyle:p.standardCompletedBarStyle,dependencyLineClass:p.dependencyLineClass,dependencyLineStyle:p.dependencyLineStyle,assignmentsClass:p.assignmentsClass,assignmentsStyle:p.assignmentsStyle,areTaskAssignmentsVisible:p.areTaskAssignmentsVisible,isTaskCompletedEffortVisible:p.isTaskCompletedEffortVisible,areTaskDependenciesVisible:p.areTaskDependenciesVisible,areDependencyConstraintsAppliedOnStartedTasks:p.areDependencyConstraintsAppliedOnMilestones,areDependencyConstraintsAppliedOnMilestones:p.areDependencyConstraintsAppliedOnMilestones,
isBaselineVisible:p.isBaselineVisible,alternativeItemClass:p.alternativeItemClass,alternativeChartItemClass:p.alternativeChartItemClass,alternativeItemStyle:p.alternativeItemStyle,alternativeChartItemStyle:p.alternativeChartItemStyle,gridLines:p.gridLines,horizontalGridLines:p.horizontalGridLines,verticalGridLines:p.verticalGridLines,horizontalChartLines:p.horizontalChartLines,isIndividualItemNonworkingTimeHighlighted:p.isIndividualItemNonworkingTimeHighlighted,areTaskInterruptionsHighlighted:p.areTaskInterruptionsHighlighted,
isBaselineVisible:p.isBaselineVisible,taskInitiationCost:p.taskInitiationCost,defaultResourceUsageCost:p.defaultResourceUsageCost,specificResourceUsageCosts:p.specificResourceUsageCosts,defaultResourceHourCost:p.defaultResourceHourCost,specificResourceHourCosts:p.specificResourceHourCosts,target:p.target,months:p.months,daysOfWeek:p.daysOfWeek,weekStartDay:p.weekStartDay,dateFormatter:p.dateFormatter,dateTimeFormatter:p.dateTimeFormatter,isRelativeToTimezone:p.isRelativeToTimezone,standardTaskTemplate:p.standardTaskTemplate,
summaryTaskTemplate:p.summaryTaskTemplate,milestoneTaskTemplate:p.milestoneTaskTemplate,assignmentsTemplate:p.assignmentsTemplate,dependencyLineTemplate:p.dependencyLineTemplate,styleDefinitionTemplate:p.styleDefinitionTemplate};f.timelineStart=ua(f.timelineStart,f.weekStartDay);f.timelineFinish=ib(f.timelineFinish,f.weekStartDay);e=F(f.timelineFinish,f);f.chartWidth=e+"px";var q=o+e+2+(c?1:0);for(o=0;o<p.scales.length;o++){c=p.scales[o];f.scales.push({scaleType:c.scaleType,isHeaderVisible:c.isHeaderVisible,
headerHeight:c.headerHeight,headerTextFormat:c.headerTextFormat,headerClass:c.headerClass,headerStyle:c.headerStyle,isHighlightingVisible:c.isHighlightingVisible,highlightingClass:c.highlightingClass,highlightingStyle:c.highlightingStyle,isSeparatorVisible:c.isSeparatorVisible,separatorClass:c.separatorClass,separatorStyle:c.separatorStyle})}var x,t,C=false;if(m!=null&&typeof m.createElement!=="undefined")x=m;else{if(m!=null&&typeof m.focus!=="undefined")t=m;else{t=window.open("",m!=null?m:"_blank",
typeof u!=="undefined"&&u&&(typeof j==="undefined"||j)?"width=320,height=100,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":"");C=true}x=t.document}x.title=typeof a!=="undefined"?a:"Exported chart"+(typeof u!=="undefined"&&u?" (printable)":"");typeof h==="undefined"&&(h=0);typeof n==="undefined"&&(n=k.length-1);a=[];for(o=c=0;o<k.length;o++){m=k[o];if(!(typeof m.displayRowIndex!=="undefined"&&(m.displayRowIndex<h||m.displayRowIndex>n)||typeof m.displayRowIndex==="undefined"&&(c++<h||
c>n+1))){p={content:m.content,indentation:m.indentation,start:m.start,finish:m.finish,completedFinish:m.completedFinish,isMilestone:m.isMilestone,schedule:m.schedule,assignmentsContent:m.assignmentsContent,baselineStart:m.baselineStart,baselineFinish:m.baselineFinish,isBarVisible:m.isBarVisible,isRelativeToTimezone:m.isRelativeToTimezone,"class":m["class"],style:m.style,barClass:m.barClass,standardBarClass:m.standardBarClass,completedStandardBarClass:m.completedStandardBarClass,summaryBarClass:m.summaryBarClass,
milestoneBarClass:m.milestoneBarClass,baselineBarClass:m.baselineBarClass,barStyle:m.barStyle,standardBarStyle:m.standardBarStyle,completedStandardBarStyle:m.completedStandardBarStyle,summaryBarStyle:m.summaryBarStyle,milestoneBarStyle:m.milestoneBarStyle,baselineBarStyle:m.baselineBarStyle,isSummaryEnabled:m.isSummaryEnabled,isParentSummarizationEnabled:m.isParentSummarizationEnabled,isHidden:m.isHidden,isExported:true,tag:m};if(typeof m.displayRowIndex!=="undefined")p.displayRowIndex=m.displayRowIndex-
h;Sc(p,m);a.push(p);m.exportItem=p}}for(o=0;o<k.length;o++){m=k[o];if(!(typeof m.displayRowIndex!=="undefined"&&(m.displayRowIndex<h||m.displayRowIndex>n))){p=m.exportItem;if(typeof m.predecessors!=="undefined"){p.predecessors=[];for(c=0;c<m.predecessors.length;c++){e=m.predecessors[c];typeof e.item.displayRowIndex!=="undefined"&&(e.item.displayRowIndex<h||e.item.displayRowIndex>n)||p.predecessors.push({item:e.item.exportItem,dependencyType:e.dependencyType,lag:e.lag,dependencyLineClass:e.dependencyLineClass,
dependencyLineStyle:e.dependencyLineStyle})}}}}var y=x.createElement("p");y.innerHTML=typeof d!=="undefined"?d:"";x.body.appendChild(y);var z=x.createElement("div");z.setAttribute("style","width: "+q+"px");try{DlhSoft.Controls.GanttChartView.initialize(z,a,f,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch(A){}setTimeout(function(){C&&x.body.setAttribute("style","margin: 0px");var a=x.createElement("div");
a.appendChild(z);x.body.replaceChild(a,y);if(v){a.setAttribute("style","width: "+z.offsetHeight+"px; height: "+q+"px; overflow: hidden");a=Math.round((z.offsetWidth-z.offsetHeight)/2);z.setAttribute("style","width: "+q+"px; transform: rotate(90deg) translateX("+a+"px) translateY("+a+"px); -webkit-transform: rotate(90deg) translateX("+a+"px) translateY("+a+"px)")}x.close();if(typeof t!==void 0){t.focus();if(typeof u!=="undefined"&&u){t.print();(typeof j==="undefined"||j)&&t.close()}}},0)},ic=function(a){var d=
qa;if(typeof a==="undefined")return d;for(var c=0;c<a.length;c++){var b=a[c];if((!b.hasChildren||!(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))&&b.start<d)d=b.start}return new Date(d.valueOf())},jc=function(a){var d=W;if(typeof a==="undefined")return d;for(var c=0;c<a.length;c++){var b=a[c];if(!b.hasChildren||!(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))if(typeof b.isMilestone==="undefined"||!b.isMilestone){if(b.finish>d)d=b.finish}else if(b.start>d)d=b.start}return new Date(d.valueOf())},
kc=function(a,d){for(var c=0,b=0;b<a.length;b++){var f=a[b];f.parent==null&&(c=c+ha(f,d))}return c},lc=function(a,d){for(var c=0,b=0;b<a.length;b++){var f=a[b];f.parent==null&&(c=c+wa(f,d))}return c},mc=function(a,d){for(var c=[],b=0;b<d.length;b++){var f=d[b];if(!(f==a||typeof f.predecessors==="undefined"||f.predecessors.length==0))for(var e=0;e<f.predecessors.length;e++)if(f.predecessors[e].item==a){c.push(f);break}}return c},vb=function(a,d){for(var c=[],b=mc(a,d),f=0;f<b.length;f++){var e=b[f];
if(!(typeof e.predecessors==="undefined"||e.predecessors.length==0))for(var g=0;g<e.predecessors.length;g++)e.predecessors[g].item==a&&c.push({successor:e,predecessor:e.predecessors[g]})}return c},fb=function(a,d,c,b){typeof d==="undefined"&&(d=0);var f=jc(c);if(a.finish>=f)return true;if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))for(var e=vb(a,c),f=0;f<e.length;f++){var g=e[f].successor,l=e[f].predecessor;if(((typeof l.dependencyType==="undefined"||l.dependencyType==
""||l.dependencyType=="FinishStart"||l.dependencyType=="FS")&&J(a.finish,g.start,b,a.schedule)<=d||(l.dependencyType=="StartStart"||l.dependencyType=="SS")&&J(a.start,g.start,b,a.schedule)<=d)&&fb(g,d,c,b))return true}else{a=a.children;for(f=0;f<a.length;f++)if(fb(a[f],d,c,b))return true}return false},wb=function(a,d,c){for(var b=0;b<a.length;b++){var f=a[b];(!f.hasChildren||!(typeof f.isSummaryEnabled==="undefined"||f.isSummaryEnabled))&&(typeof f.predecessors!=="undefined"&&f.predecessors!=null&&
f.predecessors.length>0)&&Ia(f,a,d,c)}},nc=function(a,d,c,b){var d=new Date(d.valueOf()-d.getTimezoneOffset()*6E4),d=pa(d,b,a.schedule),c=ha(a,b),f=wa(a,b);xb(a,d);Va(a,c,b);Wa(a,f,b);X(a)},oc=function(a,d){for(var c=0,b=za(a),f=0;f<b.length;f++){var e=b[f],g=e.key,l;typeof d.specificResourceUsageCosts!=="undefined"&&(l=ba(d.specificResourceUsageCosts,g))>=0?c=c+d.specificResourceUsageCosts[l].value*e.value:typeof d.defaultResourceUsageCost!=="undefined"&&(c=c+d.defaultResourceUsageCost*e.value);
if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){var h=ha(a,d)/36E5;typeof d.specificResourceHourCosts!=="undefined"&&(l=ba(d.specificResourceHourCosts,g))>=0?c=c+d.specificResourceHourCosts[l].value*h*e.value:typeof d.defaultResourceHourCost!=="undefined"&&(c=c+d.defaultResourceHourCost*h*e.value)}}return c},zb=function(a,d){var c=typeof d.taskInitiationCost!=="undefined"?d.taskInitiationCost:0,c=c+oc(a,d);if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||
a.isSummaryEnabled))for(var b=0;b<a.children.length;b++)c=c+yb(a.children[b],d);return c},yb=function(a,d){return(typeof a.executionCost!=="undefined"?a.executionCost:0)+zb(a,d)},Tc=function(a){for(var d=[],a=rb(a),c=0;c<a.length;c++)pc(a[c],d);return d},pc=function(a,d){if(!a.hasChildren||!(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled))d.indexOf(a)<0&&d.push(a);else for(var c=0;c<a.children.length;c++)pc(a.children[c],d)},Fa=function(a){return!a.isMilestone&&a.completedFinish>a.start},
ha=function(a,d){if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){for(var c=0,b=a.children,f=0;f<b.length;f++)c=c+ha(b[f],d);return c}return J(a.start,a.finish,d,a.schedule)},wa=function(a,d){if(a.hasChildren&&(typeof a.isSummaryEnabled==="undefined"||a.isSummaryEnabled)){for(var c=0,b=a.children,f=0;f<b.length;f++)c=c+wa(b[f],d);return c}return J(a.start,a.completedFinish,d,a.schedule)},Va=function(a,d,c){d=Q(a.start,d,c,a.schedule);a.finish=d;y(a,"finish",false,false);
qc(a,false)},Wa=function(a,d,c){a.completedFinish=Q(a.start,d,c,a.schedule);y(a,"completedFinish",false,false)},xb=function(a,d){a.start=d;a.preferredStart=d;y(a,"start",false,false);qc(a,false)},qc=function(a,d){for(var c=a.parent;c!=null;){Xa(c,d);a=c;c=a.parent}},rc=function(a,d,c){typeof c==="undefined"&&(c=false);var b=a.parent,f=a.index;if(b==null){for(b=0;f-- >0;){a=d[f];a.indentation==0&&b++}return b+(!c?1:0)}return rc(b,d)+"."+(b.children.indexOf(a)+(!c?1:0))},za=function(a){var d;a=a.assignmentsContent;
if(typeof a==="undefined")d=[];else{for(var a=a.split(","),c=[],b=0;b<a.length;b++){var f=Ra(a[b]),e=1,g=f.indexOf("["),l=f.lastIndexOf("]");if(g>=0&&l>=0){l=Ra(f.substr(g+1,l-g-1));f=Ra(f.substr(0,g));g=l.indexOf("%");g>=0&&(l=Ra(l.substr(0,g)));try{d=parseFloat(l);e=d/100}catch(h){e=1}}if(!(f.length<=0)){g=ba(c,f);g<0?c.push({key:f,value:e}):c[g].value=c[g].value+e}}d=c}return d},sc=function(a){for(var d=[],a=za(a),c=0;c<a.length;c++)d.push(a[c].key);return d},Ga=function(a,d){if(typeof d==="undefined")return[];
for(var c=[],b=0;b<d.length;b++){var f=d[b];if(!f.hasChildren||!(typeof f.isSummaryEnabled==="undefined"||f.isSummaryEnabled))for(var e=za(f),g=0;g<e.length;g++){var l=e[g];if(l.key==a){c.push({key:f,value:l.value});break}}}return c},Ha=function(a){if(typeof a==="undefined")return[];for(var d=[],c=0;c<a.length;c++){var b=a[c];if(!b.hasChildren||!(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))for(var b=sc(b),f=0;f<b.length;f++){var e=b[f];d.indexOf(e)<0&&d.push(e)}}return d},tc=function(a,
d){for(var c=[],b=Ga(a,d),f=0;f<b.length;f++){var e=b[f],g=e.key;if(!g.hasChildren||!(typeof g.isSummaryEnabled==="undefined"||g.isSummaryEnabled))for(g=[{start:g.start,finish:g.finish}];g.length>0;){var l;l=g[0];g.splice(0,1);if(!(l.finish<=l.start))if(c.length==0)c.push({key:l,value:e.value});else{ic(d);for(var h=false,n=0;n<c.length;n++){var m=c[n].key,u=c[n].value;if(!(l.start>=m.finish))if(l.finish<=m.start){for(h=0;h<=n;h++)if(c[h].key.start>=l.start){c.splice(h,0,{key:l,value:e.value});break}h=
true;break}else if(l.start<=m.start&&l.finish>=m.finish){c[n].value=u+e.value;l.start<m.start&&g.push({start:l.start,finish:m.start});l.finish>m.finish&&g.push({start:m.finish,finish:l.finish});h=true;break}else if(l.start>=m.start&&l.finish<=m.finish){c.splice(n,1);l.start>m.start&&c.splice(n++,0,{key:{start:m.start,finish:l.start},value:u});c.splice(n++,0,{key:l,value:u+e.value});l.finish<m.finish&&c.splice(n++,0,{key:{start:l.finish,finish:m.finish},value:u});h=true;break}else if(l.start>=m.start&&
l.finish>=m.finish){c.splice(n,1);l.start>m.start&&c.splice(n++,0,{key:{start:m.start,finish:l.start},value:u});c.splice(n++,0,{key:{start:l.start,finish:m.finish},value:u+e.value});l.finish>m.finish&&g.push({start:m.finish,finish:l.finish});h=true;break}else if(l.start<=m.start&&l.finish<=m.finish){c.splice(n,1);l.start<m.start&&g.push({start:l.start,finish:m.start});c.splice(n++,0,{key:{start:m.start,finish:l.finish},value:u+e.value});l.finish<m.finish&&c.splice(n++,0,{key:{start:l.finish,finish:m.finish},
value:u});h=true;break}}h||c.push({key:l,value:e.value})}}}return c},Aa=function(a){var d=a.content;return a.parent==null?d:d+" ("+Aa(a.parent)+")"},Sa=function(a,d){return a==d?true:a.parent==null?false:Sa(a.parent,d)},Ra=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},ba=function(a,d){for(var c=0;c<a.length;c++)if(a[c].key==d)return c;return-1},uc=function(a){return typeof a!=="undefined"?new Date(a.valueOf()+a.getTimezoneOffset()*6E4):a},vc=function(a){return typeof a!=="undefined"?
new Date(a.valueOf()-a.getTimezoneOffset()*6E4):a},wc=function(a,d,c){var b;for(b=0;b<d.length;b++)d[b].ganttChartView=a;for(b=0;b<d.length;b++){var f=d[b];if(typeof f.parts!=="undefined"){if(typeof f.isGroup==="undefined"){f.isGroup=true;f.isSummaryEnabled=false}V(f.parts,c);if(f.isGroup||typeof f.isBarVisible==="undefined")f.isBarVisible=false;for(var e=0;e<f.parts.length;e++){var g=f.parts[e];g.ganttChartView=f.ganttChartView;g.ganttChartItem=f;g.isPart=true;g.isVirtuallyVisible=true;if(f.isGroup||
typeof g.indentation==="undefined")g.indentation=0;if(f.isGroup||typeof g.displayRowIndex==="undefined")g.displayRowIndex=-1;g.isInternallyHidden=true;d.indexOf(g)>=0||d.splice(d.length,0,g)}}}a.items=d;a.settings=c;a.refresh=function(){R(a)};a.refreshItems=function(){Ma(d)};a.refreshGridItems=function(){for(var a=0;a<d.length;a++)Ka(d[a])};a.refreshChartItems=function(){for(var a=0;a<d.length;a++)la(d[a])};a.refreshGridItem=Ka;a.refreshChartItem=la;a.refreshItem=ka;a.refreshPredecessorItems=oa;a.refreshItemGraph=
La;a.refreshItemPath=X;a.refreshItemNeighbourhood=function(b){Na(b,d,a,c)};a.refreshCurrentTimeLine=function(){var b=a.chartHeader,e=a.chartContent,f=e.chartArea,m,g=[];for(m=f.childNodes.length;m-- >1;){var v=f.childNodes[m];v.tag!="Scale-Highlighting-CurrentTime"&&v.tag!="Scale-Separator-CurrentTime"&&g.push(v);f.removeChild(v)}hb(b,f,c.scales,c,true);for(m=g.length;m-- >0;)f.appendChild(g[m]);ra(e,sa(d,c))};a.setCurrentTime=function(b){c.currentTime=b;a.refreshCurrentTimeLine()};a.updateCurrentTime=
function(){var b=new Date,b=new Date(b.valueOf()-b.getTimezoneOffset()*6E4);a.setCurrentTime(b)};a.getCurrentItem=function(){return a.currentItem};a.getSelectedItem=function(){return a.selectedItem};a.getSelectedItems=function(){return a.selectedItems};a.selectItem=function(a){o(a,true,c.selectionMode)};a.unselectItem=function(a){o(a,false,c.selectionMode)};a.expandItem=function(a){da(a,true,true)};a.collapseItem=function(a){da(a,false,true)};a.scrollToItem=fc;a.scrollToBottom=function(){a.chartContentContainer.scrollTop=
a.chartContent.clientHeight};a.scrollToDateTime=function(b){a.isDuringScrollToDateTime=true;a.chartContentContainer.scrollLeft=F(b,a.settings)};a.increaseTimelinePage=function(b){c.timelineStart=new Date(c.timelineStart.valueOf()+b);c.timelineFinish=new Date(c.timelineFinish.valueOf()+b);R(a)};a.decreaseTimelinePage=function(b){c.timelineStart=new Date(c.timelineStart.valueOf()-b);c.timelineFinish=new Date(c.timelineFinish.valueOf()-b);R(a)};a.setSplitterPosition=function(b){var d=a.gridContainer,
e=a.chartContainer,f=a.splitter,b=Math.floor(b*1E6/a.offsetWidth)/1E4;typeof d.percent!=="undefined"&&delete d.percent;d.style.width=b+"%";e.style.width=100-b+"%";Ba(f,d,c)};a.getChartPosition=function(a){return F(a,c)};a.getChartWidth=function(){return F(c.timelineFinish,c)};a.getDateTime=function(a){return Ca(a,c)};a.getWorkingTime=function(a){return bc(a,c)};a.getStartWorkingTime=function(a){return pa(a,c)};a.getFinishWorkingTime=function(a){return K(a,c,false,true,void 0)};a.getEffort=function(a,
b){return J(a,b,c)};a.getFinish=function(a,b){return Q(a,b,c)};a.getStart=function(a,b){return Oa(a,b,c)};a.getCompletion=function(a,b,d){return cb(a,b,d,c)};a.getCompletedFinish=function(a,b,d){return cc(a,b,d,c)};a.getItemsHeight=function(){return sa(d,c)};a.getItemTop=function(a){return xa(a,d,c)};a.onItemPropertyChanged=y;a.initializeTaskDraggingThumbs=function(b,c,d,e,f,g,j,k){pb(b,c,d,e,f,g,j,k,a.items,a,a.settings)};a.initializeDependencyDraggingThumbs=function(b,c,d,e,f,g,j){ab(b,c,d,e,f,
g,j,a.items,a,a.settings)};a.insertItem=function(b,e){Yb(b,e,a,d,c)};a.addItem=function(b){a.insertItem(d.length,b)};a.insertItems=function(b,c){for(var d=0;d<c.length;d++)a.insertItem(b++,c[d])};a.addItems=function(b){for(var c=0;c<b.length;c++)a.addItem(b[c])};a.removeItem=function(b){var e=b.index,f=b.itemTop,m=null,g=false;if(e>0){for(m=d[e-1];m.parent!=null;)m=m.parent;g=m.isExpanded;b.hasChildren&&da(m,b.isExpanded,false,true);m.indentation>=b.indentation&&(m=null)}else d[0].isExpanded||da(d[0],
true,false,true);var v=e+1<d.length?d[e+1]:null;v!=null&&(!v.isExpanded&&v.indentation>b.indentation)&&da(v,true,false,true);var j=v!=null?v.indentation:null,k,p,o;for(p=0;p<a.items.length;p++){k=a.items[p];if(k.predecessors!=null)for(o=k.predecessors.length;o-- >0;)if(k.predecessors[o].item==b){k.predecessors.splice(o,1);y(k,"predecessors",false,true);ka(k);oa(k)}}d.splice(e,1);Ta(d,a);Ua(d,c,a);c.isGridVisible&&typeof b.displayRowIndex==="undefined"&&typeof b.gridItemContainer!=="undefined"&&a.gridContent.removeChild(b.gridItemContainer);
p=a.chartContent.chartArea;typeof b.chartItem!=="undefined"&&p.removeChild(b.chartItem);v=e<d.length?d[e]:null;if(v!=null&&v.indentation<j){y(v,"indentation",false,true);v.predecessors=[];y(v,"predecessors",false,true);for(p=0;p<d.length;p++){k=d[p];if(!(k==v||typeof k.predecessors==="undefined"||k.predecessors.length==0))for(o=0;o<k.predecessors.length;o++)if(k.predecessors[o].item==v){k.predecessors.splice(o--,1);y(k,"predecessors",false,true);ka(k);oa(k)}}}m!=null&&da(m,g,false,true);for(p=e;p<
d.length;p++){b=d[p];actualItemTop=f;typeof b.displayRowIndex!=="undefined"&&(actualItemTop=b.displayRowIndex*c.itemHeight);b.isVisible&&!(typeof b.isHidden!=="undefined"&&b.isHidden)&&(f=Math.max(f,actualItemTop+c.itemHeight));b.itemTop=actualItemTop;ka(b)}ra(a.chartContent,sa(d,c));Za(d,a.chartContent,c);$a(d,c)&&Ma(d);e>=d.length&&(e=d.length-1);if(e>=0){for(p=0;p<e;p++)la(d[p]);Na(d[e],d,a,c)}ta(d,a.chartContentContainer,c)};a.removeItems=function(b){for(var c=0;c<b.length;c++)a.removeItem(b[c])};
a.increaseItemIndentation=function(b){var e=b.index>0?a.items[b.index-1]:null;if(!(e==null||b.indentation>e.indentation)){da(b,true,false,true);b.indentation++;y(b,"indentation",true,true);if(b.predecessors&&b.predecessors.length>0){for(var f=false,m=0;m<b.predecessors.length;m++)if(b.predecessors[m].item==e&&b.indentation>e.indentation){b.predecessors.splice(m--,1);f=true}f&&y(b,"predecessors",false,true)}for(f=0;f<d.length;f++){m=d[f];if(!(m!=e||typeof m.predecessors==="undefined"||m.predecessors.length==
0))for(var g=0;g<m.predecessors.length;g++)if(m.predecessors[g].item==b&&e.indentation>m.predecessors[g].item.indentation){m.predecessors.splice(g--,1);y(m,"predecessors",false,true);ka(m);oa(m)}}$a(d,c)&&Ma(d);for(Na(b,d,a,c);b!=null;){b.isExpanded||da(b,true,false);b=b.parent}}};a.decreaseItemIndentation=function(b){var e=b.index<a.items.length-1?a.items[b.index+1]:null;if(!(b.indentation<=0||e!=null&&b.indentation<e.indentation)){b.indentation--;y(b,"indentation",true,true);if(e&&b.predecessors&&
b.predecessors.length>0){for(var f=false,m=0;m<b.predecessors.length;m++)if(b.predecessors[m].item==e&&b.indentation==e.indentation){b.predecessors.splice(m--,1);f=true}f&&y(b,"predecessors",false,true)}for(f=0;f<d.length;f++){m=d[f];if(!(m!=e||typeof m.predecessors==="undefined"||m.predecessors.length==0))for(var g=0;g<m.predecessors.length;g++)if(m.predecessors[g].item==b&&e.indentation==m.predecessors[g].item.indentation){m.predecessors.splice(g--,1);y(m,"predecessors",false,true);ka(m);oa(m)}}$a(d,
c)&&Ma(d);for(Na(b,d,a,c);b!=null;){b.isExpanded||da(b,true,false);b=b.parent}}};a.setItemContent=function(a,b){a.content=b;y(a,"content",true,true)};a.setItemStart=function(a,b){a.start=pa(b,c,a.schedule);a.preferredStart=a.start;y(a,"start",true,true);if(a.completedFinish<a.start){a.completedFinish=a.start;y(a,"completedFinish",false,true)}};a.setItemFinish=function(a,b){a.finish=K(b,c,false,true,a.schedule);y(a,"finish",true,true);if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",
false,true)}};a.setItemIsMilestone=function(a,b){a.isMilestone=b;y(a,"isMilestone",true,true)};a.getItemEffort=function(a){return ha(a,c)};a.setItemEffort=function(a,b){a.finish=Q(a.start,b,c,a.schedule);y(a,"finish",true,true);if(a.completedFinish>a.finish){a.completedFinish=a.finish;y(a,"completedFinish",false,true)}};a.getItemTotalEffort=function(a){return sb(a)};a.setItemTotalEffort=function(a,b){a.ganttChartView.setItemEffort(a,b/Pa(a))};a.getItemDuration=function(a){return J(a.start,a.finish,
c,a.schedule)};a.setItemDuration=a.setItemEffort;a.getItemCompletedEffort=function(a){return wa(a,c)};a.setItemCompletedEffort=function(a,b){a.completedFinish=Q(a.start,b,c,a.schedule);if(a.completedFinish>a.finish)a.completedFinish=a.finish;y(a,"completedFinish",true,true)};a.getItemTotalCompletedEffort=function(a){return tb(a)};a.setItemTotalCompletedEffort=function(a,b){a.ganttChartView.setItemCompletedEffort(a,b/Pa(a))};a.getItemCompletion=function(b){return a.getItemCompletedEffort(b)/a.getItemEffort(b)};
a.setItemCompletion=function(b,c){a.setItemCompletedEffort(b,c*a.getItemEffort(b))};a.isItemCompleted=function(b){return a.getItemCompletion(b)>=1||(b.isMilestone||b.finish.valueOf()<=b.start.valueOf())&&typeof b.isSetAsCompleted!=="undefined"&&b.isSetAsCompleted};a.setItemAsCompleted=function(b){if(b.isMilestone||b.finish.valueOf()<=b.start.valueOf())b.isSetAsCompleted=true;a.setItemCompletion(b,1)};a.hasItemStarted=function(a){return Fa(a)};a.setItemAsNotStarted=function(b){if(b.isMilestone||b.finish.valueOf()<=
b.start.valueOf())b.isSetAsCompleted=false;a.setItemCompletion(b,0)};a.isItemOnSchedule=function(a){var b=new Date,b=new Date(b.valueOf()-b.getTimezoneOffset()*6E4);return a.completedFinish>=b};a.setItemAssignmentsContent=function(a,b){a.assignmentsContent=b;y(a,"assignmentsContent",true,true)};a.getItemPredecessorsString=function(a,b){var c=b;typeof c==="undefined"&&(c=false);var e="";if(!(typeof a.predecessors==="undefined"||a.predecessors.length==0))for(var f=0;f<a.predecessors.length;f++){var g=
a.predecessors[f],j=d.indexOf(g.item);if(!(j<0)){e.length>0&&(e=e+", ");e=e+(j+(!c?1:0));if(typeof g.dependencyType!=="undefined"&&g.dependencyType!=""&&g.dependencyType!="FinishStart"&&g.dependencyType!="FS")if(g.dependencyType=="StartStart"||g.dependencyType=="SS")e=e+"SS";else if(g.dependencyType=="FinishFinish"||g.dependencyType=="FF")e=e+"FF";else if(g.dependencyType=="StartFinish"||g.dependencyType=="SF")e=e+"SF";if(typeof g.lag!=="undefined"&&g.lag!=0){g.lag>0&&(e=e+"+");e=e+g.lag/36E5}}}return e};
a.setItemPredecessorsString=function(a,b,c){typeof c==="undefined"&&(c=false);var e=[];a.predecessors=e;for(var b=b.split(","),f=0;f<b.length;f++){var g=Ra(b[f]);if(!(g.length<=0)){for(var j=0;j<g.length&&g.charCodeAt(j)>=48&&g.charCodeAt(j)<=57;)j++;var k=g.substr(0,j),k=parseInt(k)-(!c?1:0);if(!isNaN(k)&&!(k<0||k>=d.length)){k=d[k];if(!mb(a,k)&&!Da(a,k)&&!Da(k,a)){var g=g.substr(j),j=g.indexOf("+"),p=g.indexOf("-"),o=j>=0?j:p>=0?p:-1,p=0;if(o>=0){var r=parseFloat(g.substr(o+1));isNaN(r)||(p=r*(j>=
0?1:-1)*36E5)}g=(o<0?g:g.substr(0,o)).toUpperCase();e.push({item:k,dependencyType:g,lag:p})}}}}for(c=0;c<d.length;c++)delete d[c].successors;y(a,"predecessors",true,true)};a.getItemIndexString=function(a,b){typeof b==="undefined"&&(b=false);return typeof a.index!=="undefined"?(a.index+(!b?1:0)).toString():""};a.getItemWbsIndexString=function(a,b){return rc(a,d,b).toString()};a.moveRange=function(b,c,e){eb(b,c,e,a,d)};a.moveItem=function(b,c){ub(b,c,a,d)};a.moveItemUp=function(b){var c=d.indexOf(b);
c<=0||ub(b,c-1,a,d)};a.moveItemDown=function(b){var c=d.indexOf(b);c<0||c>=d.length-1||ub(b,c+1,a,d)};a.moveItemHierarchy=function(b,c){for(var e=d.indexOf(b),f=e+1;f<d.length;f++)if(d[f].indentation<=b.indentation)break;eb(e,f-e,c,a,d)};a.moveItemHierarchyUp=function(b){for(var c=d.indexOf(b),e=c+1;e<d.length;e++)if(d[e].indentation<=b.indentation)break;for(var f=c;f-- >0;){if(d[f].indentation<b.indentation)return;if(d[f].indentation==b.indentation)break}eb(c,e-c,f,a,d)};a.moveItemHierarchyDown=
function(b){for(var c=d.indexOf(b),e=c+1;e<d.length;e++)if(d[e].indentation<=b.indentation)break;for(var e=e-c,f=c+e;f++<d.length-1;)if(d[f].indentation<=b.indentation)break;d[f-1].indentation<b.indentation||eb(c,e,f-e,a,d)};a.exportContent=function(a,b){typeof a==="undefined"&&(a={});hc(a.title,a.preparingMessage,a.isGridVisible,a.columnIndexes,a.timelineStart,a.timelineFinish,a.isRelativeToTimezone,a.hourWidth,a.startRowIndex,a.endRowIndex,b,false,a.rotate,false,d,c)};a.print=function(a){typeof a===
"undefined"&&(a={});hc(a.title,a.preparingMessage,a.isGridVisible,a.columnIndexes,a.timelineStart,a.timelineFinish,a.isRelativeToTimezone,a.hourWidth,a.startRowIndex,a.endRowIndex,null,true,a.rotate,a.autoClose,d,c)};a.getRootItems=function(){for(var a=[],b=0;b<d.length;b++){var c=d[b];c.parent==null&&a.push(c)}return a};a.getLeafItems=function(){for(var a=[],b=0;b<d.length;b++){var c=d[b];c.parent!=null&&a.push(c)}return a};a.getProjectStart=function(){return ic(d)};a.getProjectFinish=function(){return jc(d)};
a.getProjectEffort=function(){return kc(d,c)};a.getProjectTotalEffort=function(){for(var a=0,b=0;b<d.length;b++){var c=d[b];c.parent==null&&(a=a+sb(c))}return a};a.getProjectCompletedEffort=function(){return lc(d,c)};a.getProjectTotalCompletedEffort=function(){for(var a=0,b=0;b<d.length;b++){var c=d[b];c.parent==null&&(a=a+tb(c))}return a};a.getProjectCompletion=function(){return lc(d,c)/kc(d,c)};a.isItemCritical=function(a,b){return fb(a,b,d,c)};a.getCriticalItems=function(a){typeof a==="undefined"&&
(a=0);if(typeof d==="undefined")a=void 0;else{for(var b=[],e=0;e<d.length;e++){var f=d[e];(!f.hasChildren||!(typeof f.isSummaryEnabled==="undefined"||f.isSummaryEnabled))&&fb(f,a,d,c)&&b.push(f)}a=b}return a};a.ensureDependencyConstraints=function(){wb(d,c,a)};a.setupBaseline=function(){for(var a=0;a<d.length;a++){var b=d[a];if(!b.hasChildren||!(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)){b.baselineStart=b.start;b.isMilestone?delete b.baselineFinish:b.baselineFinish=b.finish}else{delete b.baselineFinish;
delete b.baselineStart}ka(b)}};a.rescheduleItemToStart=function(a,b){nc(a,b,d,c)};a.rescheduleItemToFinish=function(a,b){var d=b,d=new Date(d.valueOf()-d.getTimezoneOffset()*6E4),e=ha(a,c),f=wa(a,c),d=Oa(e,d,c,a.schedule),d=pa(d,c,a.schedule);xb(a,d);Va(a,e,c);Wa(a,f,c);X(a)};a.splitRemainingWork=function(b,e,f){if(typeof d==="undefined"||b.hasChildren||b.isMilestone||!Fa(b)||!b.isMilestone&&b.completedFinish>=b.finish)b=null;else{var g=d.indexOf(b);if(g<0)b=null;else{e={content:typeof e==="undefined"?
b.content:b.content+e,indentation:b.indentation,isExpanded:b.isExpanded,start:b.completedFinish,finish:b.finish,assignmentsContent:b.assignmentsContent,isReadOnly:b.isReadOnly,isHidden:b.isHidden,isBarVisible:b.isBarVisible,isBarReadOnly:b.isBarReadOnly,isSummaryEnabled:b.isSummaryEnabled,isParentSummarizationEnabled:b.isParentSummarizationEnabled,displayRowIndex:b.displayRowIndex,"class":b["class"],style:b.style,barClass:b.barClass,standardBarClass:b.standardBarClass,summaryBarClass:b.summaryBarClass,
milestoneBarClass:b.milestoneBarClass,baselineBarClass:b.baselineBarClass,barStyle:b.barStyle,standardBarStyle:b.standardBarStyle,summaryBarStyle:b.summaryBarStyle,milestoneBarStyle:b.milestoneBarStyle,baselineBarStyle:b.baselineBarStyle,taskTemplate:b.taskTemplate,template:b.template,tag:b.tag};if(typeof f!=="undefined")b.content=b.content+f;b.finish=b.completedFinish;Yb(g+1,e,a,d,c);f=vb(b,d);for(g=0;g<f.length;g++){var u=f[g].predecessor;if(typeof u.dependencyType==="undefined"||u.dependencyType==
""||u.dependencyType=="FinishStart"||u.dependencyType=="FS"||u.dependencyType=="FinishFinish"||u.dependencyType=="FF")u.item=e}e.predecessors=[{item:b}];oa(b);oa(e);b=e}}return b};a.optimizeWork=function(b,e,f){var g=f;typeof b==="undefined"&&(b=false);typeof e==="undefined"&&(e=false);typeof g==="undefined"&&(g=new Date);for(var g=new Date(g.valueOf()+g.getTimezoneOffset()*6E4),u=[],f=0;f<d.length;f++){var j=d[f];if(!j.hasChildren||!(typeof j.isSummaryEnabled==="undefined"||j.isSummaryEnabled))if(!(j.start<=
g||!e&&Fa(j))){if(b){for(var k=false,o=j;o!=null;){if(typeof o.predecessors!=="undefined"&&o.predecessors.length>0){k=true;break}o=o.parent}if(!k)continue}nc(j,g,d,c);u.push(j)}}wb(d,c,a);for(f=0;f<u.length;f++){b=u[f];y(b,"start",true,true);y(b,"finish",true,true);y(b,"completedFinish",true,true);X(b)}};a.levelAllocations=function(b){if(!b)b=a.items;b.length||(b=[b]);for(var c=0;c<b.length;c++){var d=b[c],e,f="",g=za(d);if(g&&g.length>0){var j=0;for(e=0;e<g.length;e++)j=j+g[e].value;if(j>0){for(e=
0;e<g.length;e++){f.length>0&&(f=f+", ");f=f+(g[e].key+(g.length>1?" ["+Math.round(g[e].value/j*1E4)/100+"%]":""))}d.assignmentsContent=f;y(d,"assignmentsContent",false,true);X(d)}}}};a.levelResources=function(b,e){var f;var g=b,j=e;if(typeof d==="undefined")f=void 0;else{typeof g==="undefined"&&(g=false);typeof j==="undefined"&&(j=new Date);wb(d,c,a);var k=[],w=[],o,p,r,s=[];for(p=0;p<d.length;p++){o=d[p];if(!o.hasChildren||!(typeof o.isSummaryEnabled==="undefined"||o.isSummaryEnabled)){k.push({key:o,
value:Tc(o)});var q=za(o),x=[];for(r=0;r<q.length;r++){var t=q[r];t.value>0&&x.push(t)}w.push({key:o,value:x});s.push(o)}}q=[];for(x=k.length;x>0;){t=[];for(p=0;p<k.length;p++){o=k[p].key;r=true;for(var C=k[p].value,z=0;z<C.length;z++){var A=C[z];if(ba(k,A)>=0&&t.indexOf(A)<0){r=false;break}}if(r){z=o;r=j;C=c;if(typeof z.minStart!=="undefined"&&r<z.minStart)r=z.minStart;if(g||!Fa(z))for(;z!=null;){if(typeof z.predecessors!=="undefined")for(A=0;A<z.predecessors.length;A++){var D=z.predecessors[A];
if(typeof D!=="undefined"){var F=D.dependencyType;typeof F==="undefined"&&(F="FinishStart");switch(F){case "":case "FinishStart":case "FS":D=Q(D.item.finish,typeof D.lag==="undefined"?0:D.lag,C,D.item.schedule);D>r&&(r=D);break;case "StartStart":case "SS":D=Q(D.item.start,typeof D.lag==="undefined"?0:D.lag,C,D.item.schedule);D>r&&(r=D)}}}for(z=z.parent;z!=null&&typeof z.isSummaryEnabled!=="undefined"&&!z.isSummaryEnabled;)z=z.parent}C=r;r=ba(w,o);var z=w[r].value,I;for(r=0;r<z.length;r++){I=z[r].key;
A=z[r].value;F=ba(q,I);if(F>=0){D=1;if(typeof c.resourceQuantities!=="undefined"){var E=ba(c.resourceQuantities,I);if(E>=0)D=c.resourceQuantities[E].value}previousAllocations=q[F].value;for(F=0;F<previousAllocations.length;F++){I=previousAllocations[F].key;if(!(I+A<=D)){E=previousAllocations[F].value;E>C&&(C=E)}}}}if((g||!Fa(o))&&(C=pa(C,c,o.schedule))!=o.start){r=ha(o,c);A=wa(o,c);xb(o,C);Va(o,r,c);Wa(o,A,c)}D=o.finish;for(r=0;r<z.length;r++){I=z[r].key;A=z[r].value;F=ba(q,I);if(F<0){E=[];q.push({key:I,
value:E})}else E=q[F].value;for(var G=[{key:A,value:D}],ea,F=0;F<E.length;F++){I=E[F].key;var J=E[F].value;if(J>C){var K=I+A,H=J<D?J:D;ea=ba(G,K);if(ea<0)G.push({key:K,value:H});else if(H>G[K])G[ea].value=H;J<D?G.push({key:I+A,value:J}):G.push({key:I+A,value:D})}}for(A=0;A<G.length;A++){K=G[A].key;H=G[A].value;ea=ba(E,K);if(ea<0)E.push({key:K,value:H});else if(H>E[ea].value)E[ea].value=H}}t.push(o)}}for(p=0;p<t.length;p++)k.splice(k.indexOf(t[p]),1);if(k.length==x)break;x=k.length}for(p=0;p<s.length;p++){o=
s[p];y(o,"start",true,true);y(o,"finish",true,true);y(o,"completedFinish",true,true);X(o)}}return f};a.getItemSuccessors=function(a){return mc(a,d)};a.getItemSuccessorPredecessorItems=function(a){return vb(a,d)};a.getItemAllocationUnits=Pa;a.getItemAssignments=za;a.getItemAssignedResources=sc;a.getResourceAssignments=function(a){return Ga(a,d)};a.getResourceAssignedItems=function(a){for(var b=[],a=Ga(a,d),c=0;c<a.length;c++)b.push(a[c].key);return b};a.getAssignedResources=function(){return Ha(d)};
a.getItemAssignmentsCost=function(a){return oc(a,c)};a.getItemExtraCost=function(a){return zb(a,c)};a.getItemCost=function(a){return yb(a,c)};a.setItemCost=function(a,b){a.executionCost=b-zb(a,c);y(a,"executionCost",true,true)};a.getResourceCost=function(a){for(var b=0,a=Ga(a,d),e=0;e<a.length;e++){var f=a[e],g;typeof c.specificResourceUsageCosts!=="undefined"&&(g=ba(c.specificResourceUsageCosts,resource))>=0?b=b+c.specificResourceUsageCosts[g].value*f.value:typeof c.defaultResourceUsageCost!=="undefined"&&
(b=b+c.defaultResourceUsageCost*f.value);var j=f.key;if(!j.hasChildren||!(typeof j.isSummaryEnabled==="undefined"||j.isSummaryEnabled)){j=ha(j,c)/36E5;typeof c.specificResourceHourCosts!=="undefined"&&(g=ba(c.specificResourceHourCosts,resource))>=0?b=b+c.specificResourceHourCosts[g].value*j*f.value:typeof c.defaultResourceHourCost!=="undefined"&&(b=b+c.defaultResourceHourCost*j*f.value)}}return b};a.getProjectCost=function(){for(var a=0,b=0;b<d.length;b++){var e=d[b];e.parent==null&&(a=a+yb(e,c))}return a};
a.getScheduleChartItems=function(a){var b=[],a=typeof a!=="undefined"?typeof a==="array"?a:[a]:typeof c.assignableResources!=="undefined"?c.assignableResources:[],e,f=Ha(d),g;for(g=0;g<f.length;g++){e=f[g];a.indexOf(e)<0&&a.push(e)}for(g=0;g<a.length;g++){e=a[g];f={tag:e,content:e,ganttChartItems:[]};e=Ga(e,d);for(var j=0;j<e.length;j++){var k=e[j],o=k.key,k={tag:o,content:o.content,start:o.start,finish:o.finish,completedFinish:o.completedFinish,isMilestone:o.isMilestone,schedule:o.schedule,assignmentsContent:k.value!=
1?Math.round(k.value*1E4)/100+"%":"",minStart:o.minStart,maxStart:o.maxStart,minFinish:o.minFinish,maxFinish:o.maxFinish,isHidden:o.isHidden,isBarVisible:o.isBarVisible,isBarReadOnly:o.isBarReadOnly,isReadOnly:o.isReadOnly,isRelativeToTimezone:o.isRelativeToTimezone};f.ganttChartItems.push(k)}b.push(f)}return b};a.getAllocations=function(a){return tc(a,d)};a.getLoadChartItems=function(a){var b=[];typeof a==="undefined"?a=Ha(d):typeof a!=="array"&&(a=[a]);for(var e=0;e<a.length;e++){for(var f=a[e],
g={tag:f,content:f,ganttChartItems:[]},j=tc(f,d),k=0;k<j.length;k++){var o=j[k],p=1;if(typeof c.resourceQuantities!=="undefined"){var r=ba(c.resourceQuantities,f);if(r>=0)p=c.resourceQuantities[r].value}r=c.maxLoadChartDisplayedResourceQuantity;typeof r==="undefined"&&(r=100);p>r&&(p=r);g.ganttChartItems.push({start:o.key.start,finish:o.key.finish,units:o.value/p,content:Math.round(o.value*1E4)/100+"%",isRelativeToTimezone:false})}b.push(g)}return b};a.getFilteredGanttChartItems=function(a){for(var a=
[a],b=[],c=0;c<a.length;c++){var e=a[c],f=[];if(typeof a==="undefined")a=Ha(d);else if(typeof a!=="array")var g=Ga(e,d);for(e=0;e<g.length;e++){var j=g[e].key;if((!j.hasChildren||!(typeof j.isSummaryEnabled==="undefined"||j.isSummaryEnabled))&&!(b.indexOf(j)>=0)){f.push({tag:j,content:j.content,start:j.start,finish:j.finish,completedFinish:j.completedFinish,isMilestone:j.isMilestone,assignmentsContent:a.length>1?j.assignmentsContent:g[e].value!=1?Math.round(g[e].value*1E4)/100+"%":"",minStart:j.minStart,
maxStart:j.maxStart,minFinish:j.minFinish,maxFinish:j.maxFinish,isHidden:j.isHidden,isBarVisible:j.isBarVisible,isBarReadOnly:j.isBarReadOnly,isReadOnly:true,isRelativeToTimezone:j.isRelativeToTimezone});b.push(j)}}}return f};a.copyCommonSettings=function(a){if(typeof a!=="undefined"){a.target=c.target;a.theme=c.theme;a.border=c.border;a.containerClass=c.containerClass;a.containerStyle=c.containerStyle;a.isGridVisible=c.isGridVisible;a.gridWidth=c.gridWidth;a.chartWidth=c.chartWidth;a.isSplitterEnabled=
c.isSplitterEnabled;a.splitterWidth=c.splitterWidth;a.splitterBackground=c.splitterBackground;a.minGridWidth=c.minGridWidth;a.minChartWidth=c.minChartWidth;a.headerBackground=c.headerBackground;a.headerHeight=c.headerHeight;a.indentationLevelWidth=c.indentationLevelWidth;a.gridLines=c.gridLines;a.horizontalGridLines=c.horizontalGridLines;a.verticalGridLines=c.verticalGridLines;a.horizontalChartLines=c.horizontalChartLines;a.displayedTime=c.displayedTime;a.currentTime=c.currentTime;a.timelineStart=
c.timelineStart;a.timelineFinish=c.timelineFinish;a.scales=c.scales;a.updateScale=c.updateScale;a.hourWidth=c.hourWidth;a.workingWeekStart=c.workingWeekStart;a.workingWeekFinish=c.workingWeekFinish;a.visibleDayStart=c.visibleDayStart;a.visibleDayFinish=c.visibleDayFinish;a.visibleWeekStart=c.visibleWeekStart;a.visibleWeekFinish=c.visibleWeekFinish;a.specialNonworkingDays=c.specialNonworkingDays;a.months=c.months;a.daysOfWeek=c.daysOfWeek;a.weekStartDay=c.weekStartDay;a.dateFormatter=c.dateFormatter;
a.dateTimeFormatter=c.dateTimeFormatter;a.dateTimeParser=c.dateTimeParser;a.isRelativeToTimezone=c.isRelativeToTimezone}};a.getPertChartItems=function(a,b,e,f,g,j){var k=a,o=b,p=e,r=g,e=j;if(typeof k==="undefined"||k<0)k=Number.MAX_VALUE;typeof o==="undefined"&&(o="Start");typeof p==="undefined"&&(p="Finish");typeof r==="undefined"&&(r=" completed");typeof e==="undefined"&&(e=" starting");for(var q=new Date((new Date(1E4,0,1)).valueOf()-1),j=[],x,s,t,C,z,g=[],a=0;a<d.length;a++){b=d[a];b.indentation<=
k&&(!b.hasChildren||!(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)||b.indentation==k)&&g.push({key:b,value:[]})}for(a=0;a<g.length;a++){var b=g[a].key,y=[b];if(b.indentation==k&&b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible))for(x=0;x<d.length;x++){s=d[x];Sa(s,b)&&y.push(s)}C=g[a].value;for(x=0;x<y.length;x++)for(var A=y[x];A!=null;){if(typeof A.predecessors!==
"undefined")for(t=0;t<A.predecessors.length;t++)if(!(typeof A.predecessors[t].item==="undefined"||typeof A.predecessors[t].dependencyType!=="undefined"&&A.predecessors[t].dependencyType!=""&&A.predecessors[t].dependencyType!="FinishStart"&&A.predecessors[t].dependencyType!="FS")){for(s=z=A.predecessors[t].item;s!=null&&ba(g,s)<0;)s=s.parent;if(s!=b){var D=[];if(s!=null)D.push(s);else for(var F=0;F<g.length;F++){s=g[F].key;Sa(s,z)&&D.push(s)}for(z=0;z<D.length;z++){s=D[z];C.indexOf(s)<0&&C.push(s)}}}A=
A.parent}}k=0;t=x=null;for(a=0;a<d.length;a++){b=d[a];if(x==null||b.start<x)x=b.start;if(t==null||b.finish>t)t=b.finish}x==null&&(x=q);o={content:o,displayedText:(k++).toString(),displayedRowIndex:0,displayedColumnIndex:0};j.push(o);y=[o];q=[];for(a=0;a<g.length;a++)g[a].value.length==0&&q.push(g[a].key);if(q.length>0){y=[];for(a=0;a<q.length;a++){b=q[a];t=o;C=(k++).toString();if(b.start>x){t={content:b.content!=null?b.content.toString()+e:null,displayedText:C,predecessors:[]};j.push(t);t.predecessors.push({item:o,
content:f,isEffortVirtual:true})}C={content:b.content+r,displayedText:C+(t!=o?"'":""),predecessors:[],tag:b};y.push(C);j.push(C);C.predecessors.push({item:t,content:Aa(b),displayedText:b.content!=null?b.content.toString():null,effort:J(b.start,b.finish,c,b.schedule),tag:b})}do{A=[];for(a=0;a<y.length;a++)A.push(y[a]);b=false;for(a=0;a<y.length;a++){q=y[a];C=q.tag;D=[];for(x=0;x<g.length;x++)g[x].value.indexOf(C)>=0&&D.push(g[x].key);if(D.length>0){A.splice(A.indexOf(q),1);for(x=0;x<D.length;x++){b=
D[x];C=null;for(t=0;t<j.length;t++)if(j[t].tag==b){C=j[t];break}if(C==null){C={content:b.content+r,displayedText:(k++).toString(),predecessors:[],tag:b};A.push(C);j.push(C)}C.predecessors.push({item:q,content:Aa(b),displayedText:b.content!=null?b.content.toString():null,effort:J(b.start,b.finish,c,b.schedule),tag:b})}b=true}}y=A}while(b)}b={content:p,displayedText:(k++).toString(),predecessors:[],displayedRowIndex:0};j.push(b);b=b.predecessors;for(a=0;a<y.length;a++)b.push({item:y[a]});for(x=0;x<
g.length;x++){b=g[x].key;q=null;for(t=0;t<j.length;t++)if(j[t].tag==b){q=j[t];break}if(q!=null){a=[];if(typeof q.predecessors!=="undefined")for(t=0;t<q.predecessors.length;t++)q.predecessors[t].tag==b&&a.push(q.predecessors[t]);if(a.length>1){r={content:b.content!=null?b.content.toString()+e:null,displayedText:q.displayedText,predecessors:[]};j.splice(j.indexOf(q),0,r);k=r.predecessors;for(t=0;t<a.length;t++){p=a[t];q.predecessors.splice(q.predecessors.indexOf(p),1);k.push({item:p.item,content:f,
isEffortVirtual:true})}q.predecessors.push({item:r,content:Aa(b),displayedText:b.content!=null?b.content.toString():null,effort:J(b.start,b.finish,c,b.schedule),tag:b});q.displayedText=q.displayedText+"'"}else if(a.length==1){p=a[0];a=p.item.tag;if(a!=null&&b.start>pa(a.finish,c)){t={content:b.content!=null?b.content.toString()+e:null,displayedText:q.displayedText,predecessors:[]};j.splice(j.indexOf(q),0,t);t.predecessors.push({item:p.item,content:f,isEffortVirtual:true});q.predecessors.splice(0,
q.predecessors.length);q.predecessors.push({item:t,content:Aa(b),displayedText:b.content!=null?b.content.toString():null,effort:J(b.start,b.finish,c,b.schedule),tag:b});q.displayedText=q.displayedText+"'"}}}}for(a=0;a<g.length;a++)if(g[a].key.isMilestone){b=g[a].key;q=null;for(t=0;t<j.length;t++)if(j[t].tag==b){q=j[t];break}if(q!=null&&typeof q.predecessors!=="undefined"&&q.predecessors.length==1){p=q.predecessors[0];if(p.item!=o&&p.tag==b){q.predecessors.splice(0,1);C=p.item;for(t=0;t<C.predecessors.length;t++){f=
C.predecessors[t];p.item.predecessors.splice(p.item.predecessors.indexOf(f),1);q.predecessors.push(f)}q.content=b.content!=null?b.content.toString():null;q.displayedText=q.displayedText.replace("'","");j.splice(j.indexOf(C),1)}}}return j};a.getNetworkDiagramItems=function(a,b,e){var f=a,g=b,j=e;if(typeof f==="undefined"||f<0)f=Number.MAX_VALUE;typeof g==="undefined"&&(g="Start");typeof j==="undefined"&&(j="Finish");var e=new Date(1900,0,1),b=new Date((new Date(1E4,0,1)).valueOf()-1),a=[],k,o,p,r,
q,x,s,t,C=[];for(k=0;k<d.length;k++){o=d[k];o.indentation<=f&&(!o.hasChildren||!(typeof o.isSummaryEnabled==="undefined"||o.isSummaryEnabled||typeof o.isBarVisible!=="undefined"&&!o.isBarVisible)||o.indentation==f)&&C.push({key:o,value:[]})}for(k=0;k<C.length;k++){o=C[k].key;x=[o];if(o.indentation==f&&o.hasChildren&&(typeof o.isSummaryEnabled==="undefined"||o.isSummaryEnabled||typeof o.isBarVisible!=="undefined"&&!o.isBarVisible))for(p=0;p<d.length;p++){r=d[p];Sa(r,o)&&x.push(r)}s=C[k].value;for(p=
0;p<x.length;p++)for(var z=x[p];z!=null;){if(typeof z.predecessors!=="undefined")for(q=0;q<z.predecessors.length;q++)if(!(typeof z.predecessors[q].item==="undefined"||typeof z.predecessors[q].dependencyType!=="undefined"&&z.predecessors[q].dependencyType!=""&&z.predecessors[q].dependencyType!="FinishStart"&&z.predecessors[q].dependencyType!="FS")){for(r=t=z.predecessors[q].item;r!=null&&ba(C,r)<0;)r=r.parent;if(r!=o){var y=[];if(r!=null)y.push(r);else for(var A=0;A<C.length;A++){r=C[A].key;Sa(r,t)&&
y.push(r)}for(t=0;t<y.length;t++){r=y[t];s.indexOf(r)<0&&s.push(r)}}}z=z.parent}}t=p=null;for(k=0;k<d.length;k++){o=d[k];if(p==null||o.start<p)p=o.start;if(t==null||o.finish>t)t=o.finish}p==null&&(p=b);t==null&&(t=e);g={content:g,displayedText:g,earlyStart:p,earlyFinish:p,lateStart:b,lateFinish:b,isMilestone:true,effort:0,displayedRowIndex:0,displayedColumnIndex:0};a.push(g);f=[g];p=[];for(k=0;k<C.length;k++)C[k].value.length==0&&p.push(C[k].key);if(p.length>0){f=[];for(k=0;k<p.length;k++){o=p[k];
q={content:Aa(o),displayedText:o.content,earlyStart:e,earlyFinish:e,lateStart:b,lateFinish:b,effort:J(o.start,o.finish,c,o.schedule),isMilestone:o.isMilestone,predecessors:[],tag:o};f.push(q);a.push(q);q.earlyStart=pa(g.earlyFinish,c);q.earlyFinish=Q(q.earlyStart,q.effort,c);q.predecessors.push({item:g,tag:o})}do{z=[];for(k=0;k<f.length;k++)z.push(f[k]);q=false;for(k=0;k<f.length;k++){x=f[k];o=x.tag;y=[];for(p=0;p<C.length;p++)C[p].value.indexOf(o)>=0&&y.push(C[p].key);if(y.length>0){z.splice(z.indexOf(x),
1);for(p=0;p<y.length;p++){o=y[p];s=null;for(q=0;q<a.length;q++)if(a[q].tag==o){s=a[q];break}if(s==null){s={content:Aa(o),displayedText:o.content,earlyStart:e,earlyFinish:e,lateStart:b,lateFinish:b,effort:J(o.start,o.finish,c,o.schedule),isMilestone:o.isMilestone,predecessors:[],tag:o};z.push(s);a.push(s)}q=pa(x.earlyFinish,c);if(q>s.earlyStart){s.earlyStart=q;s.earlyFinish=Q(s.earlyStart,s.effort,c)}s.predecessors.push({item:x,tag:o})}q=true}}f=z}while(q)}j={content:j,displayedText:j,earlyStart:e,
earlyFinish:e,lateStart:t,lateFinish:t,isMilestone:true,effort:0,predecessors:[],displayedRowIndex:0};a.push(j);p=j.predecessors;for(k=0;k<f.length;k++){C=f[k];q=C.earlyFinish;if(q>j.earlyStart){j.earlyStart=q;j.earlyFinish=j.earlyStart}p.push({item:C})}for(f=[j];f.length>0;){C=[];for(k=0;k<f.length;k++){x=f[k];if(typeof x.predecessors!=="undefined")for(p=0;p<x.predecessors.length;p++){t=x.predecessors[p];s=t.item;C.push(s);o=x.lateStart;if(o<s.lateFinish){s.lateFinish=s.effort>0?K(o,c,false,true,
void 0):o;s.lateStart=Oa(s.effort,s.lateFinish,c)}}}f=C}if(a.length>2)for(k=0;k<a.length;k++){o=a[k];o.slack=J(o.earlyStart,o.lateStart,c)}else{g.earlyStart=e;g.earlyFinish=e;g.lateStart=e;g.lateFinish=e;j.earlyStart=b;j.earlyFinish=b;j.lateStart=b;j.lateFinish=b}for(k=0;k<a.length;k++)a[k].isRelativeToTimezone=false;return a};a.getOutputDate=uc;a.getInputDate=vc};return{initialize:ga,initializeItems:V,refresh:R,getDefaultColumns:q,getDefaultCollapsedToggleButtonTemplate:Bb,getDefaultExpandedToggleButtonTemplate:Cb,
getDefaultScales:Db,getDefaultStyleDefinitionTemplate:Eb,getDefaultStandardTaskTemplate:Fb,getDefaultSummaryTaskTemplate:Gb,getDefaultMilestoneTaskTemplate:Hb,getDefaultItemTemplate:Ib,getDefaultAssignmentsTemplate:Jb,getDefaultDependencyLineTemplate:Kb,getDefaultPredecessorItemTemplate:Lb,initializeTaskDraggingThumbs:function(a,d,c,b,f,e,g,l){f.ganttChartView.initializeTaskDraggingThumbs(a,d,c,b,f,e,g,l)},initializeDependencyDraggingThumb:function(a,d,c,b,f){c.ganttChartView.initializeDependencyDraggingThumb(a,
d,c,b,f)},getWorkingTime:bc,getEffort:J,getFinish:Q,getStart:Oa,getCompletion:cb,getCompletedFinish:cc,getWeekStart:function(a,d){return ua(a,d)},getWeekFinish:ib,defaultDateTimeFormatter:function(a){return ja(M(a))},defaultDateFormatter:function(a){return T(M(a))},defaultDateTimeParser:function(a){return k(t(a))},textColumnTemplateBase:function(a,d,c){d=d();if(typeof d==="undefined"||typeof c!=="undefined"&&!c())d="";return a.createTextNode(d)},textInputColumnTemplateBase:function(a,d,c,b,f,e,g){var l=
a.createElement("input");l.setAttribute("type","text");a=c();typeof a==="undefined"&&(a="");l.setAttribute("value",a);a="";typeof e!=="undefined"&&!e()&&(a="; display: none");e="";typeof g!=="undefined"&&g()&&(e="; font-weight: bold");l.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+a+e);typeof f!=="undefined"&&!f()&&l.setAttribute("disabled","true");l.addEventListener("change",function(){b(l.value)},true);l.addEventListener("keypress",function(a){if(a.keyCode==
13){a.preventDefault();a.stopPropagation();b(l.value)}},true);l.addEventListener("focus",function(){l.style.backgroundColor="White"},true);l.addEventListener("blur",function(){l.style.backgroundColor="Transparent"},true);return l},optionSelectColumnTemplateBase:function(a,d,c,b,f,e,g,l){var h=a.createElement("select"),j=function(b,c){var d=a.createElement("option");d.appendChild(a.createTextNode(b));b==c&&d.setAttribute("selected",true);h.appendChild(d)},b=b();typeof b==="undefined"&&(b="");j("",
b);for(var c=c(),m=0;m<c.length;m++)j(c[m],b);j="";typeof g!=="undefined"&&!g()&&(j="; display: none");g="";typeof l!=="undefined"&&l()&&(g="; font-weight: bold");h.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+j+g);typeof e!=="undefined"&&!e()&&h.setAttribute("disabled","true");h.addEventListener("change",function(){f(h.value)},true);h.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(h.value)}},
true);h.addEventListener("focus",function(){h.style.backgroundColor="White"},true);h.addEventListener("blur",function(){h.style.backgroundColor="Transparent"},true);return h},numberInputColumnTemplateBase:function(a,d,c,b,f,e,g){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(a,d,function(){var a=c();return!isNaN(a)?a:""},function(a){a=parseFloat(a);isNaN(a)&&(a=0);b(a)},f,e,g)},percentInputColumnTemplateBase:function(a,d,c,b,f,e,g){return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(a,
d,c,function(a){a<0&&(a=0);a>100&&(a=100);b(a)},f,e,g)},timeSpanInputColumnTemplateBase:function(a,d,c,b,f,e,g,l){typeof f==="undefined"&&(f=1);return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(a,d,function(){var a=c()/(36E5*f);return Math.round(a*100)/100},function(a){a=parseFloat(a);a<0&&(a=0);b(a*36E5*f)},e,g,l)},datePickerInputColumnTemplateBase:function(a,d,c,b,f,e,g,l,h,j,m,k,o){m||(m=["Su","Mo","Tu","We","Th","Fr","Sa"]);var r=k,q=o;if(!k)k=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter;
if(!o)o=DlhSoft.Controls.GanttChartView.defaultDateTimeParser;var p=a.createElement("input");p.setAttribute("type","text");c=c();typeof c==="undefined"?c="":c!=null&&(c=k(c));p.setAttribute("value",c);DlhSoft.Controls.DatePicker&&p.addEventListener("focus",function(){var b=DlhSoft.Controls.DatePicker.get(p);if(!b||!b.isOpen){var c=0,d=0;try{c=p.selectionStart;d=p.selectionEnd}catch(e){}b=DlhSoft.Controls.DatePicker.initialize(p,void 0,{inputStyle:null,defaultTimeOfDay:l,isDropDownButtonVisible:false,
popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:h,months:j,daysOfWeek:I(m),dateTimeFormatter:r,dateTimeParser:q},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{p.selectionStart=c;p.selectionEnd=d}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{p.focus()}catch(a){}},
100):a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);p.dispatchEvent(b)})}},true);k="";typeof e!=="undefined"&&!e()&&(k="; display: none");e="";typeof g!=="undefined"&&g()&&(e="; font-weight: bold");p.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+k+e);typeof f!=="undefined"&&!f()&&p.setAttribute("disabled","true");var x=function(){var a=p.value,a=a!=""?o(a):null;b(a)};p.addEventListener("change",
function(){x()},true);p.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();x()}},true);p.addEventListener("focus",function(){p.style.backgroundColor="White"},true);p.addEventListener("blur",function(){p.style.backgroundColor="Transparent"},true);return p},dateTimePickerInputColumnTemplateBase:function(a,d,c,b,f,e,g,l,h,j,m,k,o){m||(m=["Su","Mo","Tu","We","Th","Fr","Sa"]);var r=k,q=o;if(!k)k=DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter;if(!o)o=
DlhSoft.Controls.GanttChartView.defaultDateTimeParser;var p=a.createElement("input");p.setAttribute("type","text");c=c();typeof c==="undefined"?c="":c!=null&&(c=k(c));p.setAttribute("value",c);(DlhSoft.Controls.DateTimePicker||DlhSoft.Controls.DatePicker)&&p.addEventListener("focus",function(){var b=(DlhSoft.Controls.DateTimePicker?DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).get(p);if(!b||!b.isOpen){var c=0,d=0;try{c=p.selectionStart;d=p.selectionEnd}catch(e){}b=(DlhSoft.Controls.DateTimePicker?
DlhSoft.Controls.DateTimePicker:DlhSoft.Controls.DatePicker).initialize(p,void 0,{inputStyle:null,defaultTimeOfDay:l,isDropDownButtonVisible:false,popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0",calendarSelectorLevels:h,months:j,daysOfWeek:I(m),dateTimeFormatter:r,dateTimeParser:q},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{p.selectionStart=
c;p.selectionEnd=d}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{p.focus()}catch(a){}},100):a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);p.dispatchEvent(b)})}},true);k="";typeof e!=="undefined"&&!e()&&(k="; display: none");e="";typeof g!=="undefined"&&g()&&(e="; font-weight: bold");p.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+
k+e);typeof f!=="undefined"&&!f()&&p.setAttribute("disabled","true");var x=function(){var a=p.value,a=a!=""?o(a):null;b(a)};p.addEventListener("change",function(){x()},true);p.addEventListener("keypress",function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();x()}},true);p.addEventListener("focus",function(){p.style.backgroundColor="White"},true);p.addEventListener("blur",function(){p.style.backgroundColor="Transparent"},true);return p},multiSelectorComboBoxInputColumnTemplateBase:function(a,
d,c,b,f,e,g,l){var h=a.createElement("input");h.setAttribute("type","text");b=b();typeof b==="undefined"&&(b="");h.setAttribute("value",b);DlhSoft.Controls.MultiSelectorComboBox&&h.addEventListener("focus",function(){var b=DlhSoft.Controls.MultiSelectorComboBox.get(h);if(!b||!b.isOpen&&b.availableChoices.length>0){var b=c(),d=0,e=0;try{d=h.selectionStart;e=h.selectionEnd}catch(f){}b=DlhSoft.Controls.MultiSelectorComboBox.initialize(h,b,void 0,{inputStyle:null,autoAppendAvailableChoices:false,isDropDownButtonVisible:false,
popupStyle:"margin-top: 1px; background-color: White; border: 1px solid #e0e0e0; color: Black; font-size: small; max-height: 188px; overflow-y: auto"},"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");b.openDropDown();setTimeout(function(){try{h.selectionStart=d;h.selectionEnd=e}catch(a){}},100);navigator.userAgent.match(/(Android)|(IPad)|(IPhone)/i)==null?setTimeout(function(){try{h.focus()}catch(a){}},100):
a.createEvent&&setTimeout(function(){var b=a.createEvent("MouseEvents");b.initEvent("blur",true,false);h.dispatchEvent(b)})}},true);b="";typeof g!=="undefined"&&!g()&&(b="; display: none");g="";typeof l!=="undefined"&&l()&&(g="; font-weight: bold");h.setAttribute("style","background-color: Transparent; width: "+d+"px; border-width: 0px; padding: 0px"+b+g);typeof e!=="undefined"&&!e()&&h.setAttribute("disabled","true");h.addEventListener("change",function(){f(h.value)},true);h.addEventListener("keypress",
function(a){if(a.keyCode==13){a.preventDefault();a.stopPropagation();f(h.value)}},true);h.addEventListener("focus",function(){h.style.backgroundColor="White"},true);h.addEventListener("blur",function(){h.style.backgroundColor="Transparent"},true);return h},dateTimeInputColumnTemplateBase:function(a,d,c,b,f,e,g){return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(a,d,function(){var a=c();return a!=null?DlhSoft.Controls.GanttChartView.defaultDateTimeFormatter(a):""},function(a){a=a!=
""?DlhSoft.Controls.GanttChartView.defaultDateTimeParser(a):null;b(a)},f,e,g)},getIndexColumnTemplate:function(){return function(a){var d=a.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(d.ownerDocument,function(){return d.getItemIndexString(a)})}},getWbsColumnTemplate:function(a){return function(d){var c=d.ganttChartView;return DlhSoft.Controls.GanttChartView.textColumnTemplateBase(c.ownerDocument,function(){return c.getItemWbsIndexString(d,a)})}},getEffortColumnTemplate:function(a,
d,c){typeof d==="undefined"&&(d=1);return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(f.ownerDocument,a,function(){return f.getItemEffort(b)},function(a){f.setItemEffort(b,a);f.refreshItemPath(b)},d,function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===
"undefined"||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},getDurationColumnTemplate:function(a,d,c){typeof d==="undefined"&&(d=1);return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(f.ownerDocument,a,function(){return f.getItemDuration(b)},function(a){f.setItemDuration(b,a);
f.refreshItemPath(b)},d,function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},getTotalEffortColumnTemplate:function(a,
d,c){typeof d==="undefined"&&(d=1);return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(f.ownerDocument,a,function(){return f.getItemTotalEffort(b)},function(a){f.setItemTotalEffort(b,a);f.refreshItemPath(b)},d,function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled===
"undefined"||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},getCompletedEffortColumnTemplate:function(a,d,c){typeof d==="undefined"&&(d=1);return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(f.ownerDocument,a,function(){return f.getItemCompletedEffort(b)},function(a){f.setItemCompletedEffort(b,
a);f.refreshItemPath(b)},d,function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&!(b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},
getTotalCompletedEffortColumnTemplate:function(a,d,c){typeof d==="undefined"&&(d=1);return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.timeSpanInputColumnTemplateBase(f.ownerDocument,a,function(){return f.getItemTotalCompletedEffort(b)},function(a){f.setItemTotalCompletedEffort(b,a);f.refreshItemPath(b)},d,function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))&&
!(b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled))},function(){return!(b.isMilestone||typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},getCompletionColumnTemplate:function(a,d){return function(c){var b=c.ganttChartView;return DlhSoft.Controls.GanttChartView.percentInputColumnTemplateBase(b.ownerDocument,a,function(){var a=b.getItemCompletion(c)*100;return Math.round(a*
100)/100},function(a){if(typeof c.gridItem!=="undefined"&&typeof c.completedInput!=="undefined"){var d=c.completedInput;typeof d.changeEventListener!=="undefined"&&d.removeEventListener("change",d.changeEventListener,true);delete c.completedInput}a=parseFloat(a)/100;b.setItemCompletion(c,a);b.refreshItemPath(c)},function(){return!(c.isReadOnly||d||typeof c.ganttChartView!=="undefined"&&typeof c.ganttChartView.settings!=="undefined"&&(c.ganttChartView.settings.isReadOnly||c.ganttChartView.settings.isGridReadOnly))&&
!(c.hasChildren&&(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled))},function(){return!(c.isMilestone||typeof c.isBarVisible!=="undefined"&&!c.isBarVisible)},function(){return c.hasChildren&&(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled)})}},getCostColumnTemplate:function(a,d){return function(c){var b=c.ganttChartView;return DlhSoft.Controls.GanttChartView.numberInputColumnTemplateBase(b.ownerDocument,a,function(){return b.getItemCost(c)},function(a){b.setItemCost(c,a);
b.refreshItemPath(c)},function(){return!(c.isReadOnly||d||typeof c.ganttChartView!=="undefined"&&typeof c.ganttChartView.settings!=="undefined"&&(c.ganttChartView.settings.isReadOnly||c.ganttChartView.settings.isGridReadOnly))},void 0,function(){return c.hasChildren&&(typeof c.isSummaryEnabled==="undefined"||c.isSummaryEnabled)})}},getPredecessorsColumnTemplate:function(a,d,c){return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase(f.ownerDocument,
a,function(){return f.getItemPredecessorsString(b,c)},function(a){f.setItemPredecessorsString(b,a,c);f.refreshItemGraph(b)},function(){return!(b.isReadOnly||d||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},
getAssignmentSelectorColumnTemplate:function(a,d,c){return function(b){var f=b.ganttChartView;return DlhSoft.Controls.GanttChartView.optionSelectColumnTemplateBase(f.ownerDocument,a,function(){return typeof d==="array"?d:d(b)},function(){return b.assignmentsContent},function(a){b.assignmentsContent=a;f.onItemPropertyChanged(b,"assignmentsContent",true,true);f.refreshItem(b)},function(){return!(b.isReadOnly||c||typeof b.ganttChartView!=="undefined"&&typeof b.ganttChartView.settings!=="undefined"&&
(b.ganttChartView.settings.isReadOnly||b.ganttChartView.settings.isGridReadOnly))},function(){return!(typeof b.isBarVisible!=="undefined"&&!b.isBarVisible)},function(){return b.hasChildren&&(typeof b.isSummaryEnabled==="undefined"||b.isSummaryEnabled)})}},getBaselineStartColumnTemplate:function(a,d,c,b,f,e,g,l){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var j=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:
DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(j.ownerDocument,a,function(){return h.baselineStart},function(a){a!=null?h.baselineStart=a:delete h.baselineStart;j.onItemPropertyChanged(h,"baselineStart",true,true);j.refreshItem(h)},function(){return!(h.isReadOnly||l||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))},
function(){return!(typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled)},b,f,e,g)}},getBaselineFinishColumnTemplate:function(a,d,c,b,f,e,g,j){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var k=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(k.ownerDocument,
a,function(){return h.baselineFinish},function(a){a!=null?h.baselineFinish=a:delete h.baselineFinish;k.onItemPropertyChanged(h,"baselineFinish",true,true);k.refreshItem(h)},function(){return!(h.isReadOnly||j||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))},function(){return!(h.isMilestone||typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&
(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled)},b?b:864E5,f,e,g)}},getMinStartColumnTemplate:function(a,d,c,b,f,e,g,j){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var k=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(k.ownerDocument,a,function(){return h.minStart},
function(a){a!=null?h.minStart=a:delete h.minStart;k.onItemPropertyChanged(h,"minStart",true,true);k.refreshItem(h)},function(){return!(h.isReadOnly||j||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))&&!(h.hasChildren&&(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled))},function(){return!(typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&
(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled)},b,f,e,g)}},getMaxStartColumnTemplate:function(a,d,c,b,f,e,g,j){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var k=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(k.ownerDocument,a,function(){return h.maxStart},function(a){a!=
null?h.maxStart=a:delete h.maxStart;k.onItemPropertyChanged(h,"maxStart",true,true);k.refreshItem(h)},function(){return!(h.isReadOnly||j||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))&&!(h.hasChildren&&(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled))},function(){return!(typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&(typeof h.isSummaryEnabled===
"undefined"||h.isSummaryEnabled)},b?b:864E5,f,e,g)}},getMinFinishColumnTemplate:function(a,d,c,b,f,e,g,j){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var k=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(k.ownerDocument,a,function(){return h.minFinish},function(a){a!=null?h.minFinish=
a:delete h.minFinish;k.onItemPropertyChanged(h,"minFinish",true,true);k.refreshItem(h)},function(){return!(h.isReadOnly||j||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))&&!(h.hasChildren&&(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled))},function(){return!(h.isMilestone||typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&(typeof h.isSummaryEnabled===
"undefined"||h.isSummaryEnabled)},b,f,e,g)}},getMaxFinishColumnTemplate:function(a,d,c,b,f,e,g,j){typeof d==="undefined"&&(d=true);typeof c==="undefined"&&(c=true);return function(h){var k=h.ganttChartView;return(d?c?DlhSoft.Controls.GanttChartView.dateTimePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.datePickerInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.dateTimeInputColumnTemplateBase)(k.ownerDocument,a,function(){return h.maxFinish},function(a){a!=null?h.maxFinish=a:
delete h.maxFinish;k.onItemPropertyChanged(h,"maxFinish",true,true);k.refreshItem(h)},function(){return!(h.isReadOnly||j||typeof h.ganttChartView!=="undefined"&&typeof h.ganttChartView.settings!=="undefined"&&(h.ganttChartView.settings.isReadOnly||h.ganttChartView.settings.isGridReadOnly))&&!(h.hasChildren&&(typeof h.isSummaryEnabled==="undefined"||h.isSummaryEnabled))},function(){return!(h.isMilestone||typeof h.isBarVisible!=="undefined"&&!h.isBarVisible)},function(){return h.hasChildren&&(typeof h.isSummaryEnabled===
"undefined"||h.isSummaryEnabled)},b?b:864E5,f,e,g)}},getIconColumnTemplate:function(a,d,c,b,f,e,g,j,h){if(typeof a==="string")var k=a,a=function(){return k};typeof b==="undefined"||b==false?b=function(){return false}:b==true&&(b=function(){return true});return function(k){var n=k.ganttChartView,o=n.ownerDocument.createElement("img");o.setAttribute("src",a(k));typeof d!=="undefined"&&o.setAttribute("class",d);typeof c!=="undefined"&&o.setAttribute("style",c);if(!n.settings.isReadOnly&&!n.settings.isGridReadOnly&&
b(k)){o.style.cursor="move";Rc(o,k,n.items,n,n.settings,f,e,g,j,h)}return o}},getOutputDate:uc,getInputDate:vc}}());
void 0==DlhSoft.Controls.ScheduleChartView&&(DlhSoft.Controls.ScheduleChartView=function(){var N=function(k,j,q,s){var r=["DlhSoft.Controls","ScheduleChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[r[5]][r[4]](k,r[0],r[1],r[2],r[3],s,q);k.isScheduleChartInitializing=true;for(var s=j,j=[],o=r=0,x=0;x<s.length;x++){var C=s[x];if(!(typeof C.scheduleChartItem!=="undefined"&&C.scheduleChartItem!=C)){C.scheduleChartIndex=r++;if(!C.isHidden)C.scheduleChartVisibilityIndex=
o++;C.isBarVisible=false;j.push(C);if(typeof C.ganttChartItems!=="undefined")for(var z=0;z<C.ganttChartItems.length;z++){var A=C.ganttChartItems[z];A.scheduleChartItem=C;if(C.isHidden)A.isHidden=true;A.displayRowIndex=C.scheduleChartVisibilityIndex;A.indentation=C.indentation;j.push(A)}}}typeof q!=="object"&&(q={});DlhSoft.Controls.GanttChartView.initializeItems(j,q);r=q;o=j;Y(r);if(typeof r.gridWidth==="undefined")r.gridWidth="15%";if(typeof r.chartWidth==="undefined")r.chartWidth=r.isGridVisible?
"85%":"100%";if(typeof r.columns==="undefined")r.columns=W(o,r);if(typeof r.areTaskDependenciesVisible==="undefined")r.areTaskDependenciesVisible=false;if(typeof r.isBaselineVisible==="undefined")r.isBaselineVisible=false;if(typeof r.areAssignmentsReadOnly==="undefined")r.areAssignmentsReadOnly=false;if(typeof r.assignmentThumbStyle==="undefined")switch(r.theme){default:r.assignmentThumbStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";break;case "Aero":r.assignmentThumbStyle=
"fill: none; stroke: Blue; stroke-dasharray: 2, 2"}if(typeof r.temporaryAssignmentThumbStyle==="undefined")switch(r.theme){default:r.temporaryAssignmentThumbStyle="fill: none; stroke: #3b87d9; stroke-width: 0.65px; stroke-dasharray: 2, 2";break;case "Aero":r.temporaryAssignmentThumbStyle="fill: none; stroke: Blue; stroke-width: 0.65px; stroke-dasharray: 2, 2"}if(typeof r.assignmentThumbTemplate==="undefined")r.assignmentThumbTemplate=P(o,k,r);r.internalExtraTaskTemplate=r.assignmentThumbTemplate;
M(k,j,s,q);DlhSoft.Controls.GanttChartView.initialize(k,j,q,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");t(k,j);k.isScheduleChartInitializing=false;k.isScheduleChartInitialized=true;return k},H=function(k){N(k,k.scheduleChartItems,k.settings,k.license)},Y=function(k){if(typeof k.useUpdatingToolTips==="undefined")k.useUpdatingToolTips=true;if(typeof k.target==="undefined")k.target="Standard";if(typeof k.theme===
"undefined")k.theme="Modern";if(typeof k.isGridVisible==="undefined")switch(k.target){default:k.isGridVisible=true;break;case "Phone":k.isGridVisible=false}if(typeof k.interaction==="undefined")k.interaction=k.target!="Phone"?"Standard":"TouchEnabled";if(typeof k.isReadOnly==="undefined")k.isReadOnly=false;if(typeof k.isGridReadOnly==="undefined")k.isGridReadOnly=false;if(typeof k.isContentReadOnly==="undefined")k.isContentReadOnly=false;if(typeof k.selectionMode==="undefined")k.selectionMode="Focus";
if(typeof k.isVirtualizing==="undefined")k.isVirtualizing=true;if(k.target=="Phone"&&typeof k.areTaskAssignmentsVisible==="undefined")k.areTaskAssignmentsVisible=false},W=function(k,j){typeof j!=="object"&&(j={});Y(j);var q=[{header:"",width:32,isSelection:true},{header:"Resource",width:120,isTreeView:true}];q[0].cellTemplate=qa(j,q[0],k);q[1].cellTemplate=O(j,q[1],k);q[1].exportCellTemplate=O(j,q[1],k,false);j.selectionMode!="Single"&&(j.selectionMode!="Extended"&&j.selectionMode!="ExtendedFocus")&&
q.splice(0,1);return q},qa=function(k,j){return function(k){return!j.isReadOnly?ga(k):getBooleanNode(k.ganttChartView.ownerDocument,k.isSelected)}},ga=function(k){var j=k.ganttChartView.ownerDocument,q;if(typeof k.selectionInput==="undefined"){q=j.createElement("input");k.selectionInput=q;q.type="checkbox";q.setAttribute("style","margin: 0px")}else q=k.selectionInput;if(k.isSelected){q.setAttribute("checked","checked");if(!q.checked)q.checked=true}else if(q.checked)q.checked=false;var s=function(){q.checked?
R(k):typeof k.scheduleChartView!=="undefined"&&k.scheduleChartView.unselectItem(k)};typeof q.changeEventListener!=="undefined"&&q.removeEventListener("change",q.changeEventListener,true);q.addEventListener("change",s,true);q.changeEventListener=s;j=function(j){if(j.keyCode==13){j.preventDefault();j.stopPropagation();s(j)}};typeof q.keyPressEventListener!=="undefined"&&q.removeEventListener("keypress",q.keyPressEventListener,true);q.addEventListener("keypress",j,true);q.keyPressEventListener=j;return q},
R=function(k){typeof k.scheduleChartView!=="undefined"&&k.scheduleChartView.selectItem(k)},Z=function(k,j){if(typeof k.scheduleChartView!=null)k.scheduleChartView.currentItem=k;(j.selectionMode=="Focus"||j.selectionMode=="ExtendedFocus")&&!k.isSelected&&R(k)},O=function(k,j,q,s){var r=function(j){var k=j.content,j=j.ganttChartView.ownerDocument.createElement("span");j.innerHTML=k;return j};return(typeof s==="undefined"||s)&&!k.isReadOnly&&!k.isGridReadOnly&&!k.isContentReadOnly?function(o){return!j.isReadOnly&&
(typeof o.isReadOnly==="undefined"||!o.isReadOnly)?V(o,Math.max(0,j.width-o.indentation*o.ganttChartView.settings.indentationLevelWidth-o.ganttChartView.settings.toggleButtonAreaWidth-16),k):r(o)}:r},V=function(k,j,q){var s=k.ganttChartView.ownerDocument,r;if(typeof k.contentInput==="undefined"){r=s.createElement("input");k.contentInput=r;r.type="text";r.addEventListener("focus",function(){Z(k,q)},false);var o=function(){k.content=r.value;k.scheduleChartView.onItemPropertyChanged(k,"content",true,
true);k.scheduleChartView.refreshItem(k)};typeof r.changeEventListener!=="undefined"&&r.removeEventListener("change",r.changeEventListener,true);r.addEventListener("change",o,true);r.changeEventListener=o;s=function(j){if(j.keyCode==13){j.preventDefault();j.stopPropagation();o(j)}};typeof r.keyPressEventListener!=="undefined"&&r.removeEventListener("keypress",r.keyPressEventListener,true);r.addEventListener("keypress",s,true);r.keyPressEventListener=s;r.addEventListener("focus",function(){r.style.backgroundColor=
"White"},false);r.addEventListener("blur",function(){r.style.backgroundColor="Transparent"},false)}else r=k.contentInput;r.value=k.content;s="";if(k.hasChildren&&(typeof k.isSummaryEnabled==="undefined"||k.isSummaryEnabled))s="; font-weight: bold";r.setAttribute("style","background-color: Transparent; width: "+j+"px; border-width: 0px; padding: 0px"+s);return r},P=function(k,j,q){return function(s){var r=s.ganttChartView.ownerDocument,o=r.createElementNS("http://www.w3.org/2000/svg","g");if(!q.isReadOnly&&
!q.isChartReadOnly&&(typeof s.isReadOnly==="undefined"||!s.isReadOnly)&&!q.areAssignmentsReadOnly){var x=j.getChartPosition(s.start,q),t=Math.max(j.getChartPosition(s.finish,q),x+4),z=r.createElementNS("http://www.w3.org/2000/svg","line");z.setAttribute("x1",x);z.setAttribute("y1",q.barMargin+q.barHeight+2);z.setAttribute("x2",t-1);z.setAttribute("y2",q.barMargin+q.barHeight+2);var A=q.assignmentThumbClass;typeof A!=="undefined"&&z.setAttribute("class",A);z.setAttribute("style",q.assignmentThumbStyle);
z.style.visibility="hidden";o.appendChild(z);r=r.createElementNS("http://www.w3.org/2000/svg","rect");r.setAttribute("x",x);r.setAttribute("y",q.barMargin+q.barHeight-2);r.setAttribute("width",Math.max(0,t-x-1));r.setAttribute("height",7);r.setAttribute("style","fill: White; fill-opacity: 0; cursor: move");r.addEventListener("mouseover",function(){if(typeof j.draggingItem==="undefined")z.style.visibility="visible"},true);r.addEventListener("mouseout",function(){z.style.visibility="hidden"},true);
o.appendChild(r);E(r,o,s,x,t,k,j,q)}return o}},G=function(k){var j=k.scheduleChartView;k.itemTop=k.scheduleChartVisibilityIndex*settings.itemHeight;j.refreshGridItem(k);if(typeof k.ganttChartItems!=="undefined")for(var q=0;q<k.ganttChartItems.length;q++){var s=k.ganttChartItems[q];s.itemTop=k.itemTop;j.refreshChartItem(s)}},E=function(k,j,q,s,r,o,x,t){var z=q.ganttChartView.ownerDocument;k.addEventListener("mousedown",function(o){if(o.button==0){delete x.cancelDrag;x.draggingItem=q;x.dragType="Assignment";
x.style.cursor=k.style.cursor;x.draggingInitialY=o.clientY;x.draggingInitialThumbPosition=t.barMargin;o.preventDefault();j.itemLeft=s;j.itemRight=r;q.assignmentThumb=j;if(DlhSoft.Controls.ToolTip&&t.useUpdatingToolTips){(toolTip=DlhSoft.Controls.ToolTip.get(k))||(toolTip=DlhSoft.Controls.ToolTip.initialize(void 0,k,{duration:NaN,containerStyle:"cursor: default; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; border: 1px solid "+t.border+"; background-color: White; color: Black; font-family: Arial; font-size: 12px; padding: 4px; margin-top: 1px"},
"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase."));toolTip.setContent(q.content+" \u2013");toolTip.show();toolTip.setPosition(toolTip.x+(r-s)+4,toolTip.y-t.itemHeight-1);toolTip.originalY=toolTip.y;x.toolTip=toolTip}}},true);if(typeof x.draggableAssignmentItems==="undefined")x.draggableAssignmentItems=[];for(var A=false,E=0;E<x.draggableAssignmentItems.length;E++)if(x.draggableAssignmentItems[E]==q){A=true;break}if(!A){x.addEventListener("mousemove",
function(k){if(!(typeof x.draggingItem==="undefined"||x.draggingItem!=q||x.dragType!="Assignment")){var A=Math.ceil((k.clientY-x.draggingInitialY)/t.itemHeight)*t.itemHeight;T(k.clientY,x);delete x.draggingItem;j=q.assignmentThumb;s=j.itemLeft;r=j.itemRight;if(typeof x.temporaryAssignmentThumb!=="undefined"){try{j.removeChild(x.temporaryAssignmentThumb)}catch(E){}delete x.temporaryAssignmentThumb}if(x.cancelDrag){delete x.cancelDrag;delete x.draggingItem;x.style.cursor="default"}else{k=z.createElementNS("http://www.w3.org/2000/svg",
"rect");k.setAttribute("x",s);k.setAttribute("y",x.draggingInitialThumbPosition+A);k.setAttribute("width",Math.max(4,r-s-1));k.setAttribute("height",t.barHeight);typeof t.temporaryAssignmentThumbClass!=="undefined"&&k.setAttribute("class",t.temporaryAssignmentThumbClass);k.setAttribute("style",t.temporaryAssignmentThumbStyle);x.temporaryAssignmentThumb=k;j.appendChild(k);x.draggingItem=q;if(DlhSoft.Controls.ToolTip&&t.useUpdatingToolTips){toolTip=x.toolTip;var k=Math.floor((q.itemTop+x.draggingInitialThumbPosition+
A)/t.itemHeight),G=null,D=0,I;for(I=0;I<o.length;I++){var H=o[I];if(H.isVisible&&!(typeof H.isHidden!=="undefined"&&H.isHidden)&&typeof H.displayRowIndex==="undefined"){if(D==k){H.hasChildren||(G=H);break}D++}}toolTip.setContent(q.content+" \u2013"+(G!=null?" "+G.content:""));toolTip.setVerticalPosition(Math.max(U(x)+x.chartHeaderContainer.clientHeight,toolTip.originalY+A));if(typeof toolTip.originalX==="undefined")toolTip.originalX=toolTip.x;toolTip.setHorizontalPosition(toolTip.originalX)}}}},true);
z.addEventListener("mouseup",function(k){if(!(k.button!=0||typeof x.draggingItem==="undefined"||x.draggingItem!=q||x.dragType!="Assignment")){j=q.assignmentThumb;if(typeof x.temporaryAssignmentThumb!=="undefined"){try{j.removeChild(x.temporaryAssignmentThumb)}catch(r){}delete x.temporaryAssignmentThumb}var k=Math.ceil((k.clientY-x.draggingInitialY)/t.itemHeight)*t.itemHeight,k=Math.floor((q.itemTop+x.draggingInitialThumbPosition+k)/t.itemHeight),s=null,z=0,A;for(A=0;A<o.length;A++){var E=o[A];if(E.isVisible&&
!(typeof E.isHidden!=="undefined"&&E.isHidden)&&typeof E.displayRowIndex==="undefined"){if(z==k){E.hasChildren||(s=E);break}z++}}if(s!=null){var z=q.scheduleChartItem,E=z.ganttChartItems,G=[];for(A=0;A<E.length;A++)E[A]!=q&&G.push(E[A]);z.ganttChartItems=G;x.onItemPropertyChanged(z,"ganttChartItems",false,true);if(typeof s.ganttChartItems==="undefined")s.ganttChartItems=[];s.ganttChartItems.push(q);x.onItemPropertyChanged(s,"ganttChartItems",true,true);q.scheduleChartItem=s;x.onItemPropertyChanged(q,
"scheduleChartItem",true,true);q.displayRowIndex=k;q.isVirtuallyVisible=true;x.refreshChartItem(q);Z(s,t)}delete x.draggingItem;x.style.cursor="default"}},true);x.draggableAssignmentItems.push(q)}},U=function(k){var j=0;if(k.offsetParent){do{j=j+k.offsetTop;k=k.offsetParent}while(k)}return j},T=function(k,j){if(typeof j.draggingItem!=="undefined"){var k=k-U(j),q,s;if(k<j.chartHeaderContainer.clientHeight+24){q=j.chartContentContainer.scrollTop;j.chartContentContainer.scrollTop=j.chartContentContainer.scrollTop-
20;if(typeof j.isDuringVerticalScrolling==="undefined"){j.isDuringVerticalScrolling=true;setTimeout(function(){s=q-j.chartContentContainer.scrollTop;j.draggingInitialThumbPosition=j.draggingInitialThumbPosition-s;delete j.isDuringVerticalScrolling},0)}}else if(k>=j.chartHeaderContainer.clientHeight+j.chartContentContainer.clientHeight-24){q=j.chartContentContainer.scrollTop;j.chartContentContainer.scrollTop=j.chartContentContainer.scrollTop+20;if(typeof j.isDuringVerticalScrolling==="undefined"){j.isDuringVerticalScrolling=
true;setTimeout(function(){s=j.chartContentContainer.scrollTop-q;j.draggingInitialThumbPosition=j.draggingInitialThumbPosition+s;delete j.isDuringVerticalScrolling},0)}}}},ja=function(k,j,q,s){var r=s.indexOf(k);if(!(r<0||j<0||j==r||j>=s.length)){s.splice(r,1);s.splice(j,0,k);H(q);typeof q.settings.itemMoveHandler!=="undefined"&&q.settings.itemMoveHandler(k,r,j)}},M=function(k,j,q,s){for(var r=0;r<j.length;r++)j[r].scheduleChartView=k;k.scheduleChartItems=q;k.settings=s;k.refreshScheduleChartItem=
G;k.initializeAssignmentDraggingThumb=function(j,r,q,s,t){E(j,r,q,s,t,k.items,k,k.settings)};k.insertScheduleChartItem=function(o,r){var s=o;r.scheduleChartView=k;r.isVirtuallyVisible=true;r.scheduleChartIndex=s;for(var t=0,A=0;A<s;A++)q[A].isHidden||t++;r.scheduleChartVisibilityIndex=t;r.isBarVisible=false;s=s<q.length?q[s].index:j.length;q.splice(r.scheduleChartIndex,0,r);k.insertItem(s++,r);if(typeof r.ganttChartItems!=="undefined")for(A=0;A<r.ganttChartItems.length;A++){t=r.ganttChartItems[A];
t.scheduleChartView=k;t.scheduleChartItem=r;t.isHidden=r.isHidden;t.displayRowIndex=r.scheduleChartVisibilityIndex;t.indentation=r.indentation;k.insertItem(s++,t)}for(A=r.scheduleChartIndex+1;A<q.length;A++){s=q[A];s.scheduleChartIndex=A;typeof s.scheduleChartVisibilityIndex!=="undefined"&&s.scheduleChartVisibilityIndex++;if(typeof s.ganttChartItems!=="undefined")for(t=0;t<s.ganttChartItems.length;t++)s.ganttChartItems[t].displayRowIndex=s.scheduleChartVisibilityIndex;G(s)}};k.addScheduleChartItem=
function(j){k.insertScheduleChartItem(q.length,j)};k.insertScheduleChartItems=function(j,r){for(var q=0;q<r.length;q++)k.insertScheduleChartItem(j++,r[q])};k.addScheduleChartItems=function(j){for(var r=0;r<j.length;r++)k.addScheduleChartItem(j[r])};k.removeScheduleChartItem=function(j){if(typeof j.ganttChartItems!=="undefined")for(var r=0;r<j.ganttChartItems.length;r++)k.removeItem(j.ganttChartItems[r]);q.splice(j.scheduleChartIndex,1);for(r=j.scheduleChartIndex;r<q.length;r++){var s=q[r];s.scheduleChartIndex=
r;typeof s.scheduleChartVisibilityIndex!=="undefined"&&s.scheduleChartVisibilityIndex--;if(typeof s.ganttChartItems!=="undefined")for(var t=0;t<s.ganttChartItems.length;t++)s.ganttChartItems[t].displayRowIndex=s.scheduleChartVisibilityIndex;G(s)}k.removeItem(j)};k.removeScheduleChartItems=function(j){for(var r=0;r<j.length;r++)k.removeScheduleChartItem(j[r])};k.moveScheduleChartRange=function(j,r,s){if(!(j<0||s<0||s==j||s>q.length-r)){var t=[],A;for(A=j;A<j+r;A++)t.push(q[A]);q.splice(j,r);for(A=
0;A<t.length;A++)q.splice(s+A,0,t[A]);H(k);if(typeof k.settings.itemMoveHandler!=="undefined")for(A=0;A<t.length;A++)k.settings.itemMoveHandler(t[A],j+A,s+A)}};k.moveScheduleChartItem=function(j,r){ja(j,r,k,q)};k.moveScheduleChartItemUp=function(j){var r=q.indexOf(j);r<=0||ja(j,r-1,k,q)};k.moveScheduleChartItemDown=function(j){var r=q.indexOf(j);r<0||r>=q.length-1||ja(j,r+1,k,q)}},t=function(k,j){k.items=j;k.refresh=function(){H(k)}};return{initialize:N,refresh:H,getDefaultColumns:W,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,
getDefaultStyleDefinitionTemplate:DlhSoft.Controls.GanttChartView.getDefaultStyleDefinitionTemplate,getDefaultStandardTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultStandardTaskTemplate,getDefaultMilestoneTaskTemplate:DlhSoft.Controls.GanttChartView.getDefaultMilestoneTaskTemplate,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,getDefaultAssignmentsTemplate:DlhSoft.Controls.GanttChartView.getDefaultAssignmentsTemplate,initializeTaskDraggingThumbs:DlhSoft.Controls.GanttChartView.initializeTaskDraggingThumbs,
initializeDependencyDraggingThumb:DlhSoft.Controls.GanttChartView.initializeDependencyDraggingThumb,initializeAssignmentDraggingThumb:function(k,j,q,s,r){q.scheduleChartView.initializeAssignmentDraggingThumb(k,j,q,s,r)},getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,getEffort:DlhSoft.Controls.GanttChartView.getEffort,getFinish:DlhSoft.Controls.GanttChartView.getFinish,getStart:DlhSoft.Controls.GanttChartView.getStart,getCompletion:DlhSoft.Controls.GanttChartView.getCompletion,getCompletedFinish:DlhSoft.Controls.GanttChartView.getCompletedFinish,
textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}());
void 0==DlhSoft.Controls.LoadChartView&&(DlhSoft.Controls.LoadChartView=function(){var N=function(t,k,j,q){var s=["DlhSoft.Controls","LoadChartView","DlhSoft.ProjectData.GanttChart.HTML.Controls","5","validate","Licensing"];DlhSoft[s[5]][s[4]](t,s[0],s[1],s[2],s[3],q,j);t.isLoadChartInitializing=true;for(var q=k,k=[],r=s=0;r<q.length;r++){var o=q[r];if(typeof o.isExported!=="undefined"&&o.isExported)k.push(o);else if(!(typeof o.loadChartItem!=="undefined"&&o.loadChartItem!=o)){o.loadChartIndex=o.scheduleChartIndex=
s++;o.isBarVisible=false;k.push(o);if(typeof o.ganttChartItems!=="undefined")for(var x=0;x<o.ganttChartItems.length;x++){var C=o.ganttChartItems[x];C.loadChartItem=C.scheduleChartItem=o;C.displayRowIndex=o.loadChartIndex;k.push(C)}}}typeof j!=="object"&&(j={});DlhSoft.Controls.GanttChartView.initializeItems(k,j);s=j;r=k;Y(s);if(typeof s.gridWidth==="undefined")s.gridWidth="15%";if(typeof s.chartWidth==="undefined")s.chartWidth=s.isGridVisible?"85%":"100%";if(typeof s.columns==="undefined")s.columns=
W(r,s);if(typeof s.normalAllocationBarStyle==="undefined"&&s.normalAllocationBarClass==null)switch(s.theme){default:s.normalAllocationBarStyle="fill: Blue; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";break;case "Aero":s.normalAllocationBarStyle="fill: Blue; stroke: Blue"}if(typeof s.underAllocationBarStyle==="undefined"&&s.underAllocationBarClass==null)switch(s.theme){default:s.underAllocationBarStyle="fill: Blue; fill-opacity: 0.8; stroke: Blue; stroke-width: 0.65px";break;case "Aero":s.underAllocationBarStyle=
"fill: Blue; stroke: Blue"}if(typeof s.overAllocationBarStyle==="undefined"&&s.overAllocationBarClass==null)switch(s.theme){default:s.overAllocationBarStyle="fill: Red; fill-opacity: 0.8; stroke: Red; stroke-width: 0.65px";break;case "Aero":s.overAllocationBarStyle="fill: Red; stroke: Red"}if(typeof s.maxDisplayedUnits==="undefined")s.maxDisplayedUnits=1.5;if(typeof s.allocationTemplate==="undefined")s.allocationTemplate=G();s.standardTaskTemplate=s.allocationTemplate;s.milestoneTaskTemplate=s.allocationTemplate;
s.areTaskDependenciesVisible=false;s.isBaselineVisible=false;s.isTaskCompletedEffortVisible=false;s.areTaskAssignmentsVisible=false;ja(t,k,q,j);DlhSoft.Controls.GanttChartView.initialize(t,k,j,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.");M(t,k);t.isLoadChartInitializing=false;t.isLoadChartInitialized=true;return t},H=function(t){N(t,t.loadChartItems,t.settings,t.license)},Y=function(t){if(typeof t.target===
"undefined")t.target="Standard";if(typeof t.theme==="undefined")t.theme="Modern";if(typeof t.isGridVisible==="undefined")switch(t.target){default:t.isGridVisible=true;break;case "Phone":t.isGridVisible=false}if(typeof t.isReadOnly==="undefined")t.isReadOnly=true;if(typeof t.selectionMode==="undefined")t.selectionMode="Focus";if(typeof t.isVirtualizing==="undefined")t.isVirtualizing=true},W=function(t,k){typeof k!=="object"&&(k={});Y(k);var j=[{header:"",width:32,isSelection:true},{header:"Resource",
width:100}];j[0].cellTemplate=qa(k,j[0],t);j[1].cellTemplate=Z(k,j[1]);j[1].exportCellTemplate=Z(k,j[1],false);k.selectionMode!="Single"&&(k.selectionMode!="Extended"&&k.selectionMode!="ExtendedFocus")&&j.splice(0,1);return j},qa=function(t,k){return function(j){return!k.isReadOnly?ga(j):getBooleanNode(j.ganttChartView.ownerDocument,j.isSelected)}},ga=function(t){var k=t.ganttChartView.ownerDocument,j;if(typeof t.selectionInput==="undefined"){j=k.createElement("input");t.selectionInput=j;j.type="checkbox";
j.setAttribute("style","margin: 0px")}else j=t.selectionInput;if(t.isSelected){j.setAttribute("checked","checked");if(!j.checked)j.checked=true}else if(j.checked)j.checked=false;var q=function(){j.checked?R(t):typeof t.loadChartView!=="undefined"&&t.loadChartView.unselectItem(t)};typeof j.changeEventListener!=="undefined"&&j.removeEventListener("change",j.changeEventListener,true);j.addEventListener("change",q,true);j.changeEventListener=q;k=function(j){if(j.keyCode==13){j.preventDefault();j.stopPropagation();
q(j)}};typeof j.keyPressEventListener!=="undefined"&&j.removeEventListener("keypress",j.keyPressEventListener,true);j.addEventListener("keypress",k,true);j.keyPressEventListener=k;return j},R=function(t){typeof t.loadChartView!=="undefined"&&t.loadChartView.selectItem(t)},Z=function(t,k,j){var q=function(j){var k=j.content,j=j.ganttChartView.ownerDocument.createElement("span");j.innerHTML=k;return j};return(typeof j==="undefined"||j)&&!t.isReadOnly&&!t.isGridReadOnly&&!t.isContentReadOnly?function(j){return!k.isReadOnly&&
(typeof j.isReadOnly==="undefined"||!j.isReadOnly)?O(j,Math.max(0,k.width-2),t):q(j)}:q},O=function(t,k,j){var q=t.ganttChartView.ownerDocument,s;if(typeof t.contentInput==="undefined"){s=q.createElement("input");t.contentInput=s;s.type="text";s.addEventListener("focus",function(){if(typeof t.loadChartView!=null)t.loadChartView.currentItem=t;(j.selectionMode=="Focus"||j.selectionMode=="ExtendedFocus")&&!t.isSelected&&R(t)},false);var r=function(){t.content=s.value;t.loadChartView.onItemPropertyChanged(t,
"content",true,true);t.loadChartView.refreshItem(t)};typeof s.changeEventListener!=="undefined"&&s.removeEventListener("change",s.changeEventListener,true);s.addEventListener("change",r,true);s.changeEventListener=r;q=function(j){if(j.keyCode==13){j.preventDefault();j.stopPropagation();r(j)}};typeof s.keyPressEventListener!=="undefined"&&s.removeEventListener("keypress",s.keyPressEventListener,true);s.addEventListener("keypress",q,true);s.keyPressEventListener=q;s.addEventListener("focus",function(){s.style.backgroundColor=
"White"},false);s.addEventListener("blur",function(){s.style.backgroundColor="Transparent"},false)}else s=t.contentInput;s.value=t.content;s.setAttribute("style","background-color: Transparent; width: "+k+"px; border-width: 0px; padding: 0px");return s},V=function(t){for(var k=0,j=0;j<t.length;j++)k=k+t[j].width;return k},P=function(t){var k=t.loadChartView;k.refreshGridItem(t);if(typeof t.ganttChartItems!=="undefined")for(var j=0;j<t.ganttChartItems.length;j++)k.refreshChartItem(t.ganttChartItems[j])},
G=function(t,k,j){return function(q){var s=typeof k!=="undefined"?k:q.loadChartView,r=typeof j!=="undefined"?j:s.settings,o=s.ownerDocument,t;t=s.ownerDocument;if(typeof q.chartItemArea==="undefined")q.chartItemArea=t.createElementNS("http://www.w3.org/2000/svg","g");for(t=q.chartItemArea.childNodes.length;t-- >0;)q.chartItemArea.removeChild(q.chartItemArea.childNodes[t]);t=q.chartItemArea;var C=s.getChartPosition(q.start,r),s=Math.max(s.getChartPosition(q.finish,r),C+4),o=o.createElementNS("http://www.w3.org/2000/svg",
"rect"),z=typeof q.units!=="undefined"?q.units:1,A=Math.min(z,r.maxDisplayedUnits)/r.maxDisplayedUnits*r.barHeight;o.setAttribute("x",C);o.setAttribute("y",r.barMargin+(r.barHeight-A));o.setAttribute("width",Math.max(0,s-C-1));o.setAttribute("height",A);C=z==1?r.normalAllocationBarClass:z<1?r.underAllocationBarClass:r.overAllocationBarClass;if(typeof q.allocationBarClass!=="undefined")C=q.allocationBarClass;if(typeof C!=="undefined")o.setAttribute("class",C);else{r=z==1?r.normalAllocationBarStyle:
z<1?r.underAllocationBarStyle:r.overAllocationBarStyle;if(typeof q.allocationBarStyle!=="undefined")r=q.allocationBarStyle;typeof r!=="undefined"&&o.setAttribute("style",r)}t.appendChild(o);return t}},E=function(t,k,j,q){var s=q.indexOf(t);if(!(s<0||k<0||k==s||k>=q.length)){q.splice(s,1);q.splice(k,0,t);H(j);typeof j.settings.itemMoveHandler!=="undefined"&&j.settings.itemMoveHandler(t,s,k)}},U=function(t,k){for(var j in k)j.indexOf("custom")!=0&&j.indexOf("description")!=0||typeof t[j]==="undefined"&&
(t[j]=k[j])},T=function(t,k,j,q,s,r,o,x,C,z,A,E,G,H,M,O,D){var I,P=[],S;if(typeof q!=="undefined")for(I=0;I<q.length;I++){S=D.columns[q[I]];P.push({header:S.header,width:S.width,headerClass:S.headerClass,headerStyle:S.headerStyle,cellClass:S.cellClass,cellStyle:S.cellStyle,cellTemplate:typeof S.exportCellTemplate!=="undefined"?S.exportCellTemplate:S.cellTemplate})}else for(I=0;I<D.columns.length;I++){S=D.columns[I];S.isSelection||P.push({header:S.header,width:S.width,headerClass:S.headerClass,headerStyle:S.headerStyle,
cellClass:S.cellClass,cellStyle:S.cellStyle,cellTemplate:typeof S.exportCellTemplate!=="undefined"?S.exportCellTemplate:S.cellTemplate})}if(typeof j==="undefined")j=D.isGridVisible;I=j?V(P)+1:0;if(typeof s!=="undefined"){if(typeof o==="undefined"||!o)s=new Date(s.valueOf()-s.getTimezoneOffset()*6E4)}else s=D.timelineStart;if(typeof r!=="undefined"){if(typeof o==="undefined"||!o)r=new Date(r.valueOf()-r.getTimezoneOffset()*6E4)}else r=D.timelineFinish;s={isExport:true,isReadOnly:true,selectionMode:"None",
isVirtualizing:false,isGridVisible:j,isSplitterEnabled:false,gridWidth:I+"px",columns:P,allowUserToResizeColumns:false,isGridRowClickTimeScrollingEnabled:false,isMouseWheelZoomEnabled:false,timelineStart:s,timelineFinish:r,hourWidth:typeof x!=="undefined"?x:D.hourWidth,displayedTime:typeof s!=="undefined"?s:D.timelineStart,currentTime:D.currentTime,isTaskToolTipVisible:false,isDependencyToolTipVisible:false,areTaskDependenciesVisible:false,isBaselineVisible:false,isTaskCompletedEffortVisible:false,
areTaskAssignmentsVisible:false,containerClass:D.containerClass,containerStyle:D.containerStyle,border:D.border,theme:D.theme,headerBackground:D.headerBackground,headerHeight:D.headerHeight,itemHeight:D.itemHeight,itemClass:D.itemClass,itemStyle:D.itemStyle,scales:[],visibleWeekStart:D.visibleWeekStart,visibleWeekFinish:D.visibleWeekFinish,workingWeekStart:D.workingWeekStart,workingWeekFinish:D.workingWeekFinish,visibleDayStart:D.visibleDayStart,visibleDayFinish:D.visibleDayFinish,specialNonworkingDays:D.specialNonworkingDays,
barMargin:D.barMargin,barHeight:D.barHeight,normalAllocationBarClass:D.normalAllocationBarClass,underAllocationBarClass:D.underAllocationBarClass,overAllocationBarClass:D.overAllocationBarClass,normalAllocationBarStyle:D.normalAllocationBarStyle,underAllocationBarStyle:D.underAllocationBarStyle,overAllocationBarStyle:D.overAllocationBarStyle,alternativeItemClass:D.alternativeItemClass,alternativeChartItemClass:D.alternativeChartItemClass,alternativeItemStyle:D.alternativeItemStyle,alternativeChartItemStyle:D.alternativeChartItemStyle,
gridLines:D.gridLines,horizontalGridLines:D.horizontalGridLines,verticalGridLines:D.verticalGridLines,horizontalChartLines:D.horizontalChartLines,target:D.target,months:D.months,daysOfWeek:D.daysOfWeek,weekStartDay:D.weekStartDay,dateFormatter:D.dateFormatter,dateTimeFormatter:D.dateTimeFormatter,isRelativeToTimezone:D.isRelativeToTimezone,allocationTemplate:D.allocationTemplate};s.timelineStart=DlhSoft.Controls.GanttChartView.getWeekStart(s.timelineStart,s.weekStartDay);s.timelineFinish=DlhSoft.Controls.GanttChartView.getWeekFinish(s.timelineFinish,
s.weekStartDay);M=M.getChartPosition(s.timelineFinish,s);s.chartWidth=M+"px";var T=I+M+2+(j?1:0);for(I=0;I<D.scales.length;I++){j=D.scales[I];s.scales.push({scaleType:j.scaleType,isHeaderVisible:j.isHeaderVisible,headerHeight:j.headerHeight,headerTextFormat:j.headerTextFormat,headerClass:j.headerClass,headerStyle:j.headerStyle,isHighlightingVisible:j.isHighlightingVisible,highlightingClass:j.highlightingClass,highlightingStyle:j.highlightingStyle,isSeparatorVisible:j.isSeparatorVisible,separatorClass:j.separatorClass,
separatorStyle:j.separatorStyle})}var N,R,Z=false;if(A!=null&&typeof A.createElement!=="undefined")N=A;else{if(A!=null&&typeof A.focus!=="undefined")R=A;else{R=window.open("",A!=null?A:"_blank",typeof E!=="undefined"&&E&&(typeof H==="undefined"||H)?"width=320,height=100,location=no,menubar=no,toolbar=no,status=no,scrollbars=yes":"");Z=true}N=R.document}N.title=typeof t!=="undefined"?t:"Exported chart"+(typeof E!=="undefined"&&E?" (printable)":"");typeof C==="undefined"&&(C=0);typeof z==="undefined"&&
(z=O.length-1);t=[];for(I=j=0;I<O.length;I++){A=O[I];if(!(typeof A.displayRowIndex!=="undefined"&&(A.displayRowIndex<C||A.displayRowIndex>z)||typeof A.displayRowIndex==="undefined"&&(j++<C||j>z+1))){D={content:A.content,start:A.start,finish:A.finish,units:A.units,isBarVisible:A.isBarVisible,isRelativeToTimezone:A.isRelativeToTimezone,"class":A["class"],style:A.style,barClass:A.barClass,barStyle:A.barStyle,isSummaryEnabled:A.isSummaryEnabled,isParentSummarizationEnabled:A.isParentSummarizationEnabled,
isHidden:A.isHidden,isExported:true,tag:A};if(typeof A.displayRowIndex!=="undefined")D.displayRowIndex=A.displayRowIndex-C;U(D,A);t.push(D);A.exportItem=D}}var Y=N.createElement("p");Y.innerHTML=typeof k!=="undefined"?k:"";N.body.appendChild(Y);var W=N.createElement("div");W.setAttribute("style","width: "+T+"px");try{DlhSoft.Controls.LoadChartView.initialize(W,t,s,"DlhSoft.Controls: DlhSoft internal usage only. Customers may purchase standard product usage licenses from http://DlhSoft.com/Purchase.")}catch(ga){}setTimeout(function(){Z&&
N.body.setAttribute("style","margin: 0px");var j=N.createElement("div");j.appendChild(W);N.body.replaceChild(j,Y);if(G){j.setAttribute("style","width: "+W.offsetHeight+"px; height: "+T+"px; overflow: hidden");j=Math.round((W.offsetWidth-W.offsetHeight)/2);W.setAttribute("style","width: "+T+"px; transform: rotate(90deg) translateX("+j+"px) translateY("+j+"px); -webkit-transform: rotate(90deg) translateX("+j+"px) translateY("+j+"px)")}N.close();if(typeof R!==void 0){R.focus();if(typeof E!=="undefined"&&
E){R.print();(typeof H==="undefined"||H)&&R.close()}}},0)},ja=function(t,k,j,q){for(var s=0;s<k.length;s++)k[s].loadChartView=k[s].scheduleChartView=t;t.loadChartItems=t.scheduleChartItems=j;t.settings=q;t.refreshLoadChartItem=P;t.insertLoadChartItem=function(r,o){var q=r;o.loadChartView=o.scheduleChartView=t;o.isVirtuallyVisible=true;o.loadChartIndex=o.scheduleChartIndex=q;o.isBarVisible=false;q=q<j.length?j[q].index:k.length;j.splice(o.loadChartIndex,0,o);t.insertItem(q++,o);if(typeof o.ganttChartItems!==
"undefined")for(var s=0;s<o.ganttChartItems.length;s++){var z=o.ganttChartItems[s];z.loadChartView=z.scheduleChartView=t;z.loadChartItem=z.scheduleChartItem=o;z.displayRowIndex=o.loadChartIndex;t.insertItem(q++,z)}for(q=o.loadChartIndex+1;q<j.length;q++){s=j[q];s.loadChartIndex=s.scheduleChartIndex=q;if(typeof s.ganttChartItems!=="undefined")for(z=0;z<s.ganttChartItems.length;z++)s.ganttChartItems[z].displayRowIndex=s.loadChartIndex;P(s)}};t.addLoadChartItem=function(k){t.insertLoadChartItem(j.length,
k)};t.insertLoadChartItems=function(j,k){for(var q=0;q<k.length;q++)t.insertLoadChartItem(j++,k[q])};t.addLoadChartItems=function(j){for(var k=0;k<j.length;k++)t.addLoadChartItem(j[k])};t.removeLoadChartItem=function(k){if(typeof k.ganttChartItems!=="undefined")for(var o=0;o<k.ganttChartItems.length;o++)t.removeItem(k.ganttChartItems[o]);t.removeItem(k);j.splice(k.loadChartIndex,1);for(k=k.loadChartIndex;k<j.length;k++){o=j[k];o.loadChartIndex=o.scheduleChartIndex=k;if(typeof o.ganttChartItems!==
"undefined")for(var q=0;q<o.ganttChartItems.length;q++)o.ganttChartItems[q].displayRowIndex=o.loadChartIndex;P(o)}};t.removeLoadChartItems=function(j){for(var k=0;k<j.length;k++)t.removeLoadChartItem(j[k])};t.moveLoadChartRange=function(k,o,q){if(!(k<0||q<0||q==k||q>j.length-o)){var s=[],z;for(z=k;z<k+o;z++)s.push(j[z]);j.splice(k,o);for(z=0;z<s.length;z++)j.splice(q+z,0,s[z]);H(t);if(typeof t.settings.itemMoveHandler!=="undefined")for(z=0;z<s.length;z++)t.settings.itemMoveHandler(s[z],k+z,q+z)}};
t.moveLoadChartItem=function(k,o){E(k,o,t,j)};t.moveLoadChartItemUp=function(k){var o=j.indexOf(k);o<=0||E(k,o-1,t,j)};t.moveLoadChartItemDown=function(k){var o=j.indexOf(k);o<0||o>=j.length-1||E(k,o+1,t,j)}},M=function(t,k){t.items=k;t.refresh=function(){H(t)};t.exportContent=function(j,q){typeof j==="undefined"&&(j={});T(j.title,j.preparingMessage,j.isGridVisible,j.columnIndexes,j.timelineStart,j.timelineFinish,j.isRelativeToTimezone,j.hourWidth,j.startRowIndex,j.endRowIndex,q,false,j.rotate,false,
t,k,settings)};t.print=function(j){typeof j==="undefined"&&(j={});T(j.title,j.preparingMessage,j.isGridVisible,j.columnIndexes,j.timelineStart,j.timelineFinish,j.isRelativeToTimezone,j.hourWidth,j.startRowIndex,j.endRowIndex,null,true,j.rotate,j.autoClose,t,k,settings)}};return{initialize:N,refresh:H,getDefaultColumns:W,getDefaultScales:DlhSoft.Controls.GanttChartView.getDefaultScales,getDefaultAllocationTemplate:G,getDefaultItemTemplate:DlhSoft.Controls.GanttChartView.getDefaultItemTemplate,getWorkingTime:DlhSoft.Controls.GanttChartView.getWorkingTime,
textColumnTemplateBase:DlhSoft.Controls.GanttChartView.textColumnTemplateBase,textInputColumnTemplateBase:DlhSoft.Controls.GanttChartView.textInputColumnTemplateBase,getOutputDate:DlhSoft.Controls.GanttChartView.getOutputDate,getInputDate:DlhSoft.Controls.GanttChartView.getInputDate}}());
